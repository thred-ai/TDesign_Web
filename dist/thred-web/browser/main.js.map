{"version":3,"sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/cart/cart.component.ts","./src/app/cart/cart.component.html","./src/app/globals.ts","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/login/login.module.ts","./src/app/models/billing-address.model.ts","./src/app/models/blog.model.ts","./src/app/models/color.model.ts","./src/app/models/inventory.model.ts","./src/app/models/order.model.ts","./src/app/models/product-in-cart.model.ts","./src/app/models/product.model.ts","./src/app/models/shipping-address.model.ts","./src/app/models/shipping-country.model.ts","./src/app/models/store-domain.model.ts","./src/app/models/store.model.ts","./src/app/models/template-side.model.ts","./src/app/models/template.model.ts","./src/app/models/theme.model.ts","./src/app/popup-dialog/popup-dialog.component.html","./src/app/popup-dialog/popup-dialog.component.ts","./src/app/services/load.service.ts","./src/app/services/routing.service.ts","./src/app/shop/shop.component.ts","./src/app/shop/shop.component.html","./src/app/view-order-info/view-order-info.component.ts","./src/app/view-order-info/view-order-info.component.html","./src/app/view-order/view-order.component.ts","./src/app/view-order/view-order.component.html","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Globals } from './globals';\n\n\nvar routes: Routes = [\n\n  \n\n  { path: '', loadChildren: () => import('./landing/landing.module').then((m) => m.LandingModule)},\n  { path: 'not-found', redirectTo: '', pathMatch: 'full' },\n  { path: 'not-found/home', redirectTo: '', pathMatch: 'full' },\n\n  { path: ':user', redirectTo: '/:user/home', pathMatch: 'full'},\n  { path: ':user/home', loadChildren: () => import('./home/home.module').then((m) => m.HomeModule)},\n  { path: ':user/about', loadChildren: () => import('./about/about.module').then((m) => m.AboutModule)},\n  { path: ':user/products', loadChildren: () => import('./shop/shop.module').then((m) => m.ShopModule)},\n  // { path: ':user/blogs', module:  BlogsModule},\n  { path: ':user/products/:product', loadChildren: () => import('./product/product.module').then((m) => m.ProductModule)},\n  { path: ':user/orders/:order', loadChildren: () => import('./view-order-info/view-order-info.module').then((m) => m.ViewOrderInfoModule)},\n  { path: ':user/orders', loadChildren: () => import('./view-order/view-order.module').then((m) => m.ViewOrderModule)},\n\n  // { path: ':user/blogs/:article', module:  ArticleModule},\n  { path: ':user/cart', loadChildren: () => import('./cart/cart.module').then((m) => m.CartModule)},\n  { path: ':user/shipping-address', loadChildren: () => import('./shipping-address/shipping-address.module').then((m) => m.ShippingAddressModule)},\n  { path: ':user/billing-info', loadChildren: () => import('./billing-info/billing-info.module').then((m) => m.BillingInfoModule)},\n  { path: ':user/my-store/billing', loadChildren: () => import('./billing-admin/billing-admin.module').then((m) => m.BillingAdminModule)},\n\n  { path: ':user/review-order', loadChildren: () => import('./checkout/checkout.module').then((m) => m.CheckoutModule)},\n  { path: ':user/not-found', loadChildren: () => import('./invalid-page/invalid-page.module').then((m) => m.InvalidPageModule)},\n  { path: ':user/my-store', loadChildren: () => import('./admin-view/admin-view.module').then((m) => m.AdminViewModule)},\n  { path: 'not-found/404', redirectTo: '', pathMatch: 'full' },\n  {path: ':user/:404', redirectTo: '/:user/not-found'}\n\n]\n\n\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, {\n    initialNavigation: 'enabled',\n    paramsInheritanceStrategy: 'always'\n})],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {\n  \n}\n","import { ChangeDetectorRef, Component, OnInit, Inject, PLATFORM_ID } from '@angular/core';\nimport { AngularFaviconService } from 'angular-favicon';\nimport { Country } from './models/shipping-country.model';\nimport { Template } from './models/template.model';\nimport { Globals } from './globals';\nimport { ActivatedRoute, Router, NavigationEnd, RoutesRecognized, ActivationStart } from '@angular/router';\nimport { LoadService, Dict } from './services/load.service';\nimport { ShopComponent } from './shop/shop.component';\nimport { HomeComponent } from './home/home.component';\nimport { ProductComponent } from './product/product.component';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { CartComponent } from './cart/cart.component';\nimport { ShippingAddressComponent } from './shipping-address/shipping-address.component';\nimport { BillingInfoComponent } from './billing-info/billing-info.component';\nimport { CheckoutComponent } from './checkout/checkout.component';\nimport { ViewOrderComponent } from './view-order/view-order.component';\nimport { ViewOrderInfoComponent } from './view-order-info/view-order-info.component';\nimport { LoginComponent } from './login/login.component';\nimport { AdminViewComponent } from './admin-view/admin-view.component';\nimport { map, filter, mergeMap, take } from 'rxjs/operators';\nimport { AdminViewModule } from './admin-view/admin-view.module';\nimport { Store } from './models/store.model';\nimport { ProductInCart } from './models/product-in-cart.model';\nimport { RoutingService } from './services/routing.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent implements OnInit {\n  title = 'thred-web';\n\n  mode = \"All Products\"\n\n  storeInfo(){return Globals.storeInfo}\n\n  availableCurrencies(){return Globals.availableCurrencies}\n\n  selectedCurrency(){return Globals.selectedCurrency}\n\n  templates(){return Globals.availableTemplates}\n\n  availableTemplates(){return Globals.availableTemplates}\n\n\n  selectedProduct(){return Globals.selectedProduct}\n  \n  selectedTemplate(){return Globals.selectedTemplate}\n\n\n  profileSettings: Array<Dict<any>> = []\n\n\n\n  changeIcon() {\n    document.getElementById('appIcon')!.setAttribute('href', 'https://www.google.com/favicon.ico')\n\n  }\n\n  async setOptions(){\n\n    this.profileSettings = []\n\n    var option = {\n      \"Title\": \"My Account\",\n      \"Link\" : \"/\" + \"STORE_NAME\" + \"/my-store\",\n      \"Function\": this.routeToProfile\n    }\n    var option2 = {\n      \"Title\": \"View Orders\",\n      \"Link\" : \"/\" + \"STORE_NAME\" + \"/orders\",\n      \"Function\": this.routeToOrders\n    }\n\n    // if (!(await this.loadService.isLoggedIn())?.uid){\n\n    //   option = {\n    //     \"Title\": \"My Account\",\n    //     \"Link\" : \"/\" + \"STORE_NAME\" + \"/my-store\",\n    //   }\n    // }\n    \n    this.profileSettings = [option, option2]\n  }\n  \n  async closeBtn(result: string){\n    // this.modalService.dismissAll(\"success\")\n\n    if (await this.loadService.authenticated() && !((await this.loadService.isLoggedIn())?.isAnonymous)){\n\n      this.routeToProfile()\n    }\n    else{\n      this.routeToHome()\n    }\n  }\n\n\n\n  selectedTheme(){\n    \n    let co = Globals.storeInfo?.colorStyle?.btn_color\n    let bco = Globals.storeInfo?.colorStyle?.bg_color\n    let name = Globals.storeInfo?.colorStyle?.name\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    var theme: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return theme\n  }\n\n  reloadCurrentRoute() {\n    const currentUrl = this._router.url;\n    \n    this._router.navigateByUrl('/', {skipLocationChange: true}).then(() => {\n        this._router.navigate([currentUrl]);\n    });\n  }\n\n  isAdmin(){\n    return (this.router.snapshot.firstChild?.routeConfig?.path?.includes(\"my-store\"))\n  }\n\n  isOrder(){\n    return (this.router.snapshot.firstChild?.routeConfig?.path?.includes(\"orders\"))\n  }\n\n\n  routeToProfile(selected?: string){\n    if (Globals.userInfo?.username){\n      this.loadService.myCallback = undefined\n      if (Globals.storeInfo.uid != Globals.userInfo?.uid){\n        Globals.storeInfo = JSON.parse(JSON.stringify(Globals.userInfo))\n        if (Globals.userInfo.customURL && Globals.userInfo.customURL.host != \"\"){\n          this.routingService.routeToProfile(Globals.userInfo?.username!, this.getStoreName().isCustom, selected, Globals.userInfo?.customURL.fullURL())\n        }\n        else{\n          if (this.getStoreName().isCustom){\n            this._router.navigateByUrl('/', {skipLocationChange: true}).then(() => {\n              this.routingService.routeToProfile(Globals.userInfo?.username!, this.getStoreName().isCustom, selected, \"https://shopmythred.com/\" + Globals.userInfo?.username)\n            });\n          }\n          else{\n            this._router.navigateByUrl('/', {skipLocationChange: true}).then(() => {\n              this.routingService.routeToProfile(Globals.userInfo?.username!, this.getStoreName().isCustom, selected)\n            });\n          }\n        }\n      }\n      else{\n        if (Globals.storeInfo?.username){\n          if (this.isAdmin()){\n            this.reloadCurrentRoute()\n          }\n          else{\n            this.routingService.routeToProfile(Globals.userInfo?.username!, this.getStoreName().isCustom, selected)\n          }\n        }\n      }\n    }\n    else{\n      console.log(\"not\")\n      this.loadService.myCallback = () => this.routeToProfile()\n      this.loadService.getCustomer()\n    }\n  }\n\n  cart?: Array<ProductInCart> = undefined\n\n  getCart(){\n    if (this.cart == undefined && isPlatformBrowser(this.platformID)){\n      console.log(\"Getting Cart\")\n      this.loadService.getCart(false, cart => {\n        this.cart = cart\n        console.log(cart)\n      })\n    }\n  }\n\n  getStoreName(){\n    var request = \"\"\n    if (isPlatformServer(this.platformID)){\n      request = Globals.URL\n      console.log(request)\n    }\n    else{\n      request = globalThis.location.host\n    }  \n    if (request != 'localhost:4200' && request != 'shopmythred.com'){\n      return {\n        isCustom: true,\n        link: request\n      }\n    }\n    const routeParams = this.router.snapshot.paramMap;\n    const storeID = routeParams.get('user') as string;\n    return {\n      isCustom: false,\n      link: storeID\n    }\n  }\n\n  routeToHome(){\n    if (Globals.storeInfo.username)\n    this.routingService.routeToHome(Globals.storeInfo.username, this.getStoreName().isCustom)\n  }\n\n  routeToOrders(){\n    if (Globals.storeInfo.username)\n    this.routingService.routeToOrders(Globals.storeInfo.username, this.getStoreName().isCustom)\n  }\n\n  routeToShop(){\n    if (Globals.storeInfo.username)\n    this.routingService.routeToShop(Globals.storeInfo.username, this.getStoreName().isCustom)\n  }\n\n  routeToAbout(){\n    if (Globals.storeInfo.username)\n    this.routingService.routeToAbout(Globals.storeInfo.username, this.getStoreName().isCustom)\n  }\n\n  routeToCart(){\n    if (Globals.storeInfo.username)\n    this.routingService.routeToCart(Globals.storeInfo.username, this.getStoreName().isCustom)\n  }\n\n  routeToProduct(productID: string){\n    if (Globals.storeInfo?.username)\n    this.routingService.routeToProduct(productID, Globals.storeInfo.username, this.getStoreName().isCustom)\n  }\n\n  routeToOrder(orderID: string){\n    if (Globals.storeInfo?.username)\n    this.routingService.routeToProduct(orderID, Globals.storeInfo.username, this.getStoreName().isCustom)\n  }\n\n  routeToShipping(){\n    if (Globals.storeInfo?.username)\n    this.routingService.routeToShipping(Globals.storeInfo.username, this.getStoreName().isCustom)\n  }\n\n  routeToBilling(){\n    if (Globals.storeInfo?.username)\n    this.routingService.routeToBilling(Globals.storeInfo.username, this.getStoreName().isCustom)\n  }\n\n  routeToBillingAdmin(){\n    if (Globals.storeInfo?.username)\n    this.routingService.routeToBillingAdmin(Globals.storeInfo.username, this.getStoreName().isCustom)\n  }\n\n  routeToReview(){\n    if (Globals.storeInfo?.username)\n    this.routingService.routeToReview(Globals.storeInfo.username, this.getStoreName().isCustom)\n\n  }\n\n  async accountPressed(){\n    if (await this.loadService.authenticated() && !((await this.loadService.isLoggedIn())?.isAnonymous)){\n      this.routeToProfile()\n    }\n    else{\n      \n      if (!this.isOrder()){\n        if (Globals.availableCurrencies == undefined || Globals.availableCurrencies == [] || Globals.availableTemplates == undefined || Globals.availableTemplates == [] || Globals.orders == [] || Globals.storeInfo.username == undefined || Globals.storeInfo.username == \"\"  || isPlatformServer(this.platformID)){\n          return\n        }\n      }\n\n      if (!this.modalService.hasOpenModals()){\n        const modalRef = this.modalService.open(LoginComponent, {size : \"lg\"});\n          let sub = modalRef.dismissed.subscribe((result: string) => {\n            this.closeBtn(result)\n            console.log(\"man\")\n            sub.unsubscribe()\n          })\n          modalRef.componentInstance.authMode = 1\n      }    \n    }\n  }\n\n  settings(popFirst: boolean){\n    if (popFirst){\n      return this.profileSettings.slice(1) ?? []\n    }\n    return this.profileSettings ?? []\n  }\n\n  storeLink(link: string){\n    return link.replace(\"STORE_NAME\", this.storeInfo().username ?? \"\")\n  }\n\n  cartLength(){\n    if (this.cart?.length == 0){\n      return \"0\"\n    }\n    var totalCount = 0\n    this.cart?.forEach(product => {\n      totalCount += product.quantity ?? 0\n    })\n    return totalCount\n  }\n\n  updateCurrency(currency: Country){\n    Globals.selectedCurrency = currency\n    if (isPlatformBrowser(this.platformID)){\n      localStorage.setItem(\"LOCAL_CURRENCY\", currency.currency_name)\n    }\n    this.cdr.detectChanges()\n  }\n\n  viewCart(){\n    const modalRef = this.modalService.open(CartComponent, {size : \"lg\"});\n    // modalRef.componentInstance.authMode = 1\n  }\n  // ?product_type=Dresses\n\n  formatPrice(price: number){\n    var priceAsString = new String((price * Globals.selectedCurrency!.rate).toFixed(2))\n    let index = priceAsString.indexOf(\".\")\n\n    switch (index){\n    case priceAsString.length - 1:\n        priceAsString += \"00\"\n        break\n    case priceAsString.length - 2:\n        priceAsString += \"0\"\n        break\n    default:\n\n        break\n    }\n    return this.getCurrencyForCountry(Globals.selectedCurrency!, Globals.selectedCurrency!.name != \"US\") + priceAsString\n  }\n\n  isMobile(){\n    if (isPlatformBrowser(this.platformID)){\n      let height = window.innerHeight\n      let width = window.innerWidth\n      return width < height\n    }\n    return false\n  }\n  \n  getCurrencyForCountry(country: Country, shouldShowName: boolean){\n\n    var returnItem = country.currency_symbol\n    if (shouldShowName) returnItem = country.name + \" \" + returnItem\n  \n    return returnItem\n  }\n\n  \n\n  applyProductFilter(template?: Template){\n\n    let id = template?.productCode\n    this.mode = this.titleCase(template?.templateDisplayName ?? \"All Products\")\n    if (Globals.storeInfo.username){\n      this.loadService.myCallback = () => this.cdr.detectChanges()\n      // this.loadService.getPosts(id)\n      this.loadService.getPosts(products => {\n        this.loadService.setFilterProducts(products)\n      }, id)\n    }\n  }\n  \n  isShopComponent(){\n    let config = this.router.snapshot.firstChild?.routeConfig?.path?.split('/') ?? []\n    return config![config!.length - 1] == \"products\"\n  }\n\n  shouldShowCurrency(){\n\n\n    // return this.loadService.shouldShowCurrency\n\n    let product = this.router.snapshot.firstChild?.paramMap.get('product') as string\n\n\n    return (\n      this.router.snapshot.firstChild?.params == ShopComponent \n      || \n      product != undefined\n      ||\n      this.router.snapshot.firstChild?.routeConfig?.path?.includes(\"products\")\n      ||\n      this.router.snapshot.firstChild?.routeConfig?.path?.includes(\"home\")\n      ||\n      this.router.snapshot.firstChild?.routeConfig?.path?.includes(\"cart\")\n      ||\n      this.router.snapshot.firstChild?.routeConfig?.path?.includes(\"shipping-address\")\n      ||\n      this.router.snapshot.firstChild?.routeConfig?.path?.includes(\"billing-info\")\n      ||\n      this.router.snapshot.firstChild?.routeConfig?.path?.includes(\"review-order\")\n      ||\n      this.router.snapshot.firstChild?.routeConfig?.path?.includes(\"my-store\")\n    )\n  }\n\n  hideCart(){\n    \n    return (\n      this.router.snapshot.firstChild?.component == ViewOrderComponent \n      || \n      this.router.snapshot.firstChild?.component == ViewOrderInfoComponent\n    )\n  }\n\n  isBrowser(){\n    return isPlatformBrowser(this.platformID)\n  }\n\n  titleCase(str: string) {\n    var splitStr = str.toLowerCase().split(' ');\n    for (var i = 0; i < splitStr.length; i++) {\n        // You do not need to check if i is larger than splitStr length, as your for does that for you\n        // Assign it back to the array\n        splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);     \n    }\n    // Directly return the joined string\n    return splitStr.join(' '); \n  }\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformID: Object,\n    public cdr: ChangeDetectorRef,\n    private router: ActivatedRoute,\n    private loadService: LoadService,\n    private routingService: RoutingService,\n    private modalService: NgbModal,\n    private _router: Router,\n    ) {\n    }\n\n\n  setFavIcon(link: string){\n    if (isPlatformBrowser(this.platformID))\n    document.getElementById('appIcon')!.setAttribute('href', link)\n  }\n    \n\n  ngOnInit() {\n    \n    // this.setFavIcon(\"https://www.thredapps.com/favicon.ico\")\n    // OR \n\n    this.loadService.rootComponent = this\n    this.setOptions()\n  }\n\n\n  \n}\n","\n<nav *ngIf=\"isBrowser();\" [hidden]=\"storeInfo().username == undefined\"class=\"navbar navbar-expand-lg navbar-{{storeInfo().colorStyle!.back_code}} bg-{{storeInfo().colorStyle!.back_code}}\">\n    <div class=\"container px-4 px-lg-5\">\n        <img src='{{storeInfo().profileLink}}'/>\n        <a class=\"navbar-brand px-2 text-{{storeInfo().colorStyle!.text_code}}\" role=\"button\" (click)=\"routeToHome()\" [class.smallTitle]=\"isMobile()\" [class.bigTitle]=\"!isMobile()\"  [style.font-family]=\"storeInfo().fontName!\">{{storeInfo().fullName}}</a>\n        <button class=\"navbar-toggler mt-2\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"><span class=\"navbar-toggler-icon\"></span></button>\n        <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n            <ul class=\"navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4\">\n                <li class=\"nav-item\"><a data-bs-toggle=\"collapse\" data-bs-target=\".navbar-collapse.show\" class=\"nav-link\" aria-current=\"page\"role=\"button\" (click)=\"routeToHome()\" [style.font-family]=\"storeInfo().fontName!\">HOME</a></li>\n                <li class=\"nav-item\"><a data-bs-toggle=\"collapse\" data-bs-target=\".navbar-collapse.show\" class=\"nav-link\" role=\"button\" (click)=\"routeToAbout()\" [style.font-family]=\"storeInfo().fontName!\">ABOUT</a></li>\n                <!-- <li class=\"nav-item\"><a class=\"nav-link\" href=\"/{{storeInfo().username}}/blogs\">Blogs</a></li> -->\n                \n                <li *ngIf=\"isShopComponent(); else elseBlock\" class=\"nav-item dropdown\">\n                    <a class=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" [style.font-family]=\"storeInfo().fontName!\">SHOP</a>\n                    <ul class=\"dropdown-menu\"  aria-labelledby=\"navbarDropdown\" style.background-color=\"{{selectedTheme()!.bg_color}}\">\n                        <li><a data-bs-toggle=\"collapse\" data-bs-target=\".navbar-collapse.show\" class=\"dropdown-item\" role=button (click)=\"applyProductFilter()\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">All Products</a></li>\n                        <li><hr class=\"dropdown-divider\" /></li>\n                        <li *ngFor=\"let type of availableTemplates()\"><a data-bs-toggle=\"collapse\" data-bs-target=\".navbar-collapse.show\" class=\"dropdown-item\" role=button (click)=\"applyProductFilter(type)\" [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\">{{titleCase(type.templateDisplayName)}}</a></li>\n                    </ul>\n                </li>\n                <ng-template #elseBlock>\n                    <li class=\"nav-item\"><a data-bs-toggle=\"collapse\" data-bs-target=\".navbar-collapse.show\" class=\"nav-link\" role=\"button\" (click)=\"routeToShop()\" [style.font-family]=\"storeInfo().fontName!\">SHOP</a></li>\n                </ng-template>\n                <li [hidden]=\"selectedCurrency() == undefined || !shouldShowCurrency()\" class=\"nav-item dropdown\">\n                    <a  class=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">{{selectedCurrency()?.flag ?? \"\"}}</a>\n                    <ul class=\"dropdown-menu\"  aria-labelledby=\"navbarDropdown\" style.background-color=\"{{selectedTheme()!.bg_color}}\">\n                        <li *ngFor=\"let currency of availableCurrencies()\"><a data-bs-toggle=\"collapse\" data-bs-target=\".navbar-collapse.show\" class=\"dropdown-item\" style.color=\"{{selectedTheme()!.color}}\" role=button (click)=\"updateCurrency(currency)\" [style.font-family]=\"storeInfo().fontName!\" >{{currency.name}} {{currency.flag}}</a></li>\n                    </ul>\n                </li>\n            </ul>\n\n            <ul class=\"navbar-nav me-0 mb-2 ms-auto mb-lg-0 ms-lg-0 \" >\n                <li *ngIf=\"!(hideCart())\" class=\"d-flex\">\n                    <div class=\"nav-item dropdown\">\n                        <button id=\"navbarDropdown\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" class=\"btn me-2\">\n                            <img class=\"rounded-circle\" src='/assets/account_{{storeInfo().colorStyle!.text_code}}.png'/>\n                        </button>\n                        <ul class=\"dropdown-menu mb-2\"  aria-labelledby=\"navbarDropdown\" style.background-color=\"{{selectedTheme()!.bg_color}}\">\n                            <li><a data-bs-toggle=\"collapse\" data-bs-target=\".navbar-collapse.show\" class=\"dropdown-item\" role=button (click)= \"accountPressed()\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\" >{{settings(false)[0].Title}}</a></li>\n                            <li *ngFor=\"let option of settings(true)\"><a data-bs-toggle=\"collapse\" data-bs-target=\".navbar-collapse.show\" class=\"dropdown-item\" role=button (click)= \"routeToOrders()\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">{{option.Title}}</a></li>\n                        </ul>\n                    </div>\n                    \n                </li>\n                <li *ngIf=\"!(hideCart())\" [hidden]=\"selectedCurrency() == undefined\" class=\"d-flex mt-1 mb-1\">\n                    <a data-bs-toggle=\"collapse\" data-bs-target=\".navbar-collapse.show\" class=\"btn btn-outline-{{storeInfo().colorStyle!.text_code}}\" role=\"button\" (click)=\"routeToCart()\" [style.font-family]=\"storeInfo().fontName!\">\n                        MY BAG\n                        <span class=\"badge bg-{{storeInfo().colorStyle!.text_code}} text-{{storeInfo().colorStyle!.back_code}} ms-1 rounded-pill\" [style.font-family]=\"storeInfo().fontName!\">{{cartLength()}}</span>\n                    </a>\n                </li>\n            </ul>\n            \n        </div>\n    </div>\n  </nav>\n  <router-outlet></router-outlet>","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatIconModule } from '@angular/material/icon';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { CommonModule } from \"@angular/common\";\nimport { AngularFireModule } from '@angular/fire';\n// import { AngularFireAnalyticsModule } from '@angular/fire/analytics';\n// import { AngularFirestoreModule } from '@angular/fire/firestore';\nimport { environment } from '../environments/environment';\n// import { ShopModule } from './shop/shop.module';\n// import { BlogsModule } from './blogs/blogs.module';\n// import { HomeModule } from './home/home.module';\n// import { AboutModule } from './about/about.module';\n// import { ProductModule } from './product/product.module';\n// import { ModelViewerComponent } from './model-viewer/model-viewer.component';\n// import { SafeHtmlPipe } from './safeHtml.pipe'\n// import { HttpClientModule } from '@angular/common/http';\nimport { Globals } from './globals';\n// import { ArticleModule } from './article/article.module';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { LoginComponent } from './login/login.component';\n// import { SignupComponent } from './signup/signup.component'\nimport { ReactiveFormsModule } from '@angular/forms';\n// import { CartModule } from './cart/cart.module';\n// import { ShippingAddressModule } from './shipping-address/shipping-address.module';\n// import { MatButtonModule } from '@angular/material/button';\n// import { MatRadioModule } from '@angular/material/radio';\n// import { MatCardModule } from '@angular/material/card';\n// import { MatInputModule } from '@angular/material/input';\n// import { MatSelectModule } from '@angular/material/select';\nimport { LoginModule } from './login/login.module';\nimport { NgxSpinnerModule } from \"ngx-spinner\";\n// import { ViewOrderModule } from './view-order/view-order.module';\n// import { AdminViewModule } from './admin-view/admin-view.module';\n// import { ViewOrderInfoModule } from './view-order-info/view-order-info.module';\nimport { NgxStripeModule } from 'ngx-stripe';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { PopupDialogComponent } from './popup-dialog/popup-dialog.component';\nimport { Router } from '@angular/router';\n// import { ImageCropperModule } from 'ngx-image-cropper';\n// import { CropperComponent } from './cropper/cropper.component';\n// import { AngularFireStorageModule } from '@angular/fire/storage';\n// import { LandingModule } from './landing/landing.module';\n// import { ColorPickerModule } from 'ngx-color-picker';\n// import { DesignComponent } from './design/design.component';\n// import { InvalidPageModule } from './invalid-page/invalid-page.module';\n// import { CheckoutModule } from './checkout/checkout.module';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    PopupDialogComponent,\n  ],\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    BrowserModule.withServerTransition({ appId: 'serverApp' }),\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    MatToolbarModule,\n    MatIconModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    BrowserAnimationsModule,\n    NgbModule,\n    NgxSpinnerModule,\n    MatSnackBarModule,\n    LoginModule,\n    // NgxAwesomePopupModule.forRoot(),\n    // ConfirmBoxConfigModule.forRoot(),\n    NgxStripeModule.forRoot('pk_live_m7nEWhyTHoxGspcxtJAci6pu002LUiOnJK'),\n  ],\n  schemas:[CUSTOM_ELEMENTS_SCHEMA],\n  providers: [Globals],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n  constructor(router: Router){\n    var request = Globals.URL\n    if (globalThis.location){\n        request = globalThis.location.host\n    }\n    if (request != 'localhost:4200' && request != 'shopmythred.com' && request != \"\"){\n      console.log(\"URL: \" + request)\n      router.config = [\n        { path: '', loadChildren: () => import('./home/home.module').then((m) => m.HomeModule)},\n        { path: 'not-found', loadChildren: () => import('./invalid-page/invalid-page.module').then((m) => m.InvalidPageModule), pathMatch: 'full' },\n        { path: 'not-found/home', redirectTo: 'not-found', pathMatch: 'full' },\n      \n        { path: 'home', loadChildren: () => import('./home/home.module').then((m) => m.HomeModule)},\n        { path: 'about', loadChildren: () => import('./about/about.module').then((m) => m.AboutModule)},\n        { path: 'products', loadChildren: () => import('./shop/shop.module').then((m) => m.ShopModule)},\n        // { path: ':user/blogs', module:  BlogsModule},\n        { path: 'products/:product', loadChildren: () => import('./product/product.module').then((m) => m.ProductModule)},\n        { path: 'orders/:order', loadChildren: () => import('./view-order-info/view-order-info.module').then((m) => m.ViewOrderInfoModule)},\n        { path: 'orders', loadChildren: () => import('./view-order/view-order.module').then((m) => m.ViewOrderModule)},\n      \n        // { path: ':user/blogs/:article', module:  ArticleModule},\n        { path: 'cart', loadChildren: () => import('./cart/cart.module').then((m) => m.CartModule)},\n        { path: 'shipping-address', loadChildren: () => import('./shipping-address/shipping-address.module').then((m) => m.ShippingAddressModule)},\n        { path: 'billing-info', loadChildren: () => import('./billing-info/billing-info.module').then((m) => m.BillingInfoModule)},\n        { path: 'my-store/billing', loadChildren: () => import('./billing-admin/billing-admin.module').then((m) => m.BillingAdminModule)},\n      \n        { path: 'review-order', loadChildren: () => import('./checkout/checkout.module').then((m) => m.CheckoutModule)},\n        { path: 'my-store', loadChildren: () => import('./admin-view/admin-view.module').then((m) => m.AdminViewModule)},\n        { path: '404', loadChildren: () => import('./landing/landing.module').then((m) => m.LandingModule), pathMatch: 'full' },\n      ]\n    }\n  }\n }\n","import { Component, OnInit, Inject, PLATFORM_ID, ChangeDetectorRef } from '@angular/core';\nimport { Globals } from '../globals';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Title, Meta } from '@angular/platform-browser';\nimport { LoadService, Dict } from '../services/load.service';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { Product } from '../models/product.model';\nimport { Country } from '../models/shipping-country.model';\nimport { ProductInCart } from '../models/product-in-cart.model';\nimport { AppComponent } from '../app.component';\nimport { NgxSpinnerService } from \"ngx-spinner\";\nimport { Store } from '../models/store.model';\nimport { RoutingService } from '../services/routing.service';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit {\n\n  storeInfo(){return Globals.storeInfo}\n\n  availableCurrencies(){return Globals.availableCurrencies}\n\n  selectedCurrency(){return Globals.selectedCurrency}\n\n  templates(){return Globals.availableTemplates}\n\n  availableTemplates(){return Globals.availableTemplates}\n\n\n  selectedProduct(){return Globals.selectedProduct}\n  \n  selectedTemplate(){return Globals.selectedTemplate}\n\n  selectedCountry!: string\n  selectedCode!: string\n  loadedCart = false\n\n\n  cartLength(){\n    if (this.rootComponent.cart?.length == 0){\n      \n      return \"\"\n    }\n    return this.rootComponent.cart?.length\n  }\n\n  cart(){\n    return this.rootComponent.cart\n  }\n\n\n  getColor(product?: Product){\n\n    let colors = Globals.templates.find(template => template.productCode == product?.productType)?.colors\n    return colors?.find(color => color.code == product?.templateColor)?.display ?? \"White\"\n  }\n\n  stillLoadingProducts(){\n    return this.rootComponent.cart?.filter(product => product.product?.price == undefined)?.length != 0\n  }\n\n  calculateShipping($event: any){\n \n    let country = $event.target.options[$event.target.options.selectedIndex].text;\n\n    this.selectedCountry = country\n  }\n\n  onKey(event: any) {\n    const inputValue = event.target.value;\n    this.selectedCode = inputValue\n  }\n\n  calculateDiscount(){\n \n\n    // this.selectedCountry = country\n  }\n\n  updateProductQty(product: ProductInCart, newQty: string){\n \n    product.quantity = Number(newQty)\n\n    let mappedData: Array<Dict<any>> = []\n    let dataToRemove: Array<ProductInCart> = []\n\n    this.rootComponent.cart?.forEach((cartProduct, index) => {\n      if ((cartProduct.quantity ?? 0) > 0){\n        let data = {\n          \"UID\" : cartProduct.product?.uid,\n          \"Size\" : cartProduct.size,\n          \"Qty\" : cartProduct.quantity,\n          \"Timestamp\" : cartProduct.timestamp,\n          \"Post_ID\" : cartProduct.product?.productID\n        }\n        mappedData.push(data)\n      }\n      else{\n        dataToRemove.push(cartProduct)\n      }\n    })\n\n    this.rootComponent.cart = this.rootComponent.cart?.filter(cartProduct => !(dataToRemove.includes(cartProduct)))\n\n    this.loadService.changeCart(mappedData)\n    this.cdr.detectChanges()\n    // this.selectedCountry = country\n  }\n\n  calculate(){\n    this.cdr.detectChanges()\n  }\n\n  shipping(){\n    let shipping = (Globals.availableCurrencies.find(country => country.name_full == this.selectedCountry)?.shipping_rate_usd ?? 0) / 100\n    if (shipping > 0){\n      return this.formatPrice(shipping)\n    }\n    return \"FREE\"\n  }\n\n  total(){\n    var total = 0\n    \n    this.rootComponent.cart?.forEach(product => {\n      total += (product.product?.price ?? 0) * (product.quantity ?? 1)\n    })\n    return total / 100\n  }\n\n  format(d: Date) {\n    return Globals.months[d.getMonth()].substring(0,3) + \" \" + d.getDate() + \" \" + d.getFullYear()\n  }\n\n  selectedTheme(){\n    \n    let co = Globals.storeInfo?.colorStyle?.btn_color\n    let bco = Globals.storeInfo?.colorStyle?.bg_color\n    let name = Globals.storeInfo?.colorStyle?.name\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    var theme: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return theme\n  }\n\n  isSpinning = false\n\n    showSpinner(){\n      if (!this.isSpinning){\n        this.isSpinning = true\n        if (isPlatformBrowser(this.platformID)){\n          this.spinner.show()\n        };\n  \n        setTimeout(() => {\n            this.spinner.hide()\n        }, 1500);\n      }\n    }\n  \n    hideSpinner(){\n      if (this.isSpinning){\n        this.isSpinning = false\n        // this.spinner.hide()\n      }\n    }\n\n  async callback(){\n    if (Globals.storeInfo.username){\n      if (isPlatformBrowser(this.platformID)){\n          this.showSpinner()\n      }\n      this.rootComponent.setOptions()\n      this.rootComponent.setFavIcon(Globals.storeInfo.profileLink!.toString())\n\n      this.addTags(Globals.storeInfo.fullName ?? \"Thred\", (Globals.storeInfo.profileLink ?? new URL(\"https://shopmythred.com\")).toString(), Globals.storeInfo.bio ?? \"Check out my Thred Store!\", \"shopmythred.com/\" + Globals.storeInfo.username)\n      if (Globals.availableCurrencies.length == 0 && isPlatformBrowser(this.platformID)){\n        this.loadService.getCountries()\n      }\n      else if (Globals.userInfo == undefined && isPlatformBrowser(this.platformID)){\n        this.loadService.getCustomer()\n      }\n      else if (Globals.templates.length == 0 && isPlatformBrowser(this.platformID)){\n        this.loadService.getTemplates()\n      } \n      else if (Globals.shippingInfo == undefined && isPlatformBrowser(this.platformID)){\n        this.loadedCart = true\n        this.loadService.getShippingAddress()\n      }\n      else if (Globals.billingInfo == undefined && isPlatformBrowser(this.platformID)){\n        this.loadService.getBillingAddress()\n      }\n      else{\n        this.loadedCart = true\n        if (isPlatformBrowser(this.platformID)){\n          this.spinner.hide()\n      }\n        this.cdr.detectChanges()\n      }\n    }\n    else{\n      this.routingService.routeTo404(this.getStoreName().isCustom)\n    }\n  }\n\n  \n  routeToProduct(productID: string){\n    this.rootComponent.routeToProduct(productID)\n  }\n\n  routeToShop(){\n    this.rootComponent.routeToShop()\n  }\n  \n  init() {\n\n    \n\n    Globals.shippingInfo = undefined\n    Globals.billingInfo = undefined\n\n    \n    const storeInfo = this.getStoreName()\n    this.downloadAllStoreInfo(storeInfo.link, storeInfo.isCustom)\n\n  }\n\n\n  downloadAllStoreInfo(storeName: string, isCustom = false){\n    this.loadService.myCallback = () => this.callback()\n    this.loadService.getUser(storeName, undefined, isCustom)\n  }\n\n  getStoreName(){\n    var request = \"\"\n    if (isPlatformServer(this.platformID)){\n      request = Globals.URL\n      console.log(request)\n    }\n    else{\n      request = globalThis.location.host\n    }  \n    if (request != 'localhost:4200' && request != 'shopmythred.com'){\n      return {\n        isCustom: true,\n        link: request\n      }\n    }\n    const routeParams = this.router.snapshot.paramMap;\n    const storeID = routeParams.get('user') as string;\n    return {\n      isCustom: false,\n      link: storeID\n    }\n  }\n\n  isBrowser(){\n    return isPlatformBrowser(this.platformID)\n  }\n\n  hasCart(){\n    return this.rootComponent.cart?.length != 0\n  }\n\n  formatPrice(price: number){\n    var priceAsString = new String((price * Globals.selectedCurrency!.rate).toFixed(2))\n    let index = priceAsString.indexOf(\".\")\n\n    switch (index){\n    case priceAsString.length - 1:\n        priceAsString += \"00\"\n        break\n    case priceAsString.length - 2:\n        priceAsString += \"0\"\n        break\n    default:\n\n        break\n    }\n    return this.numberWithCommas(this.getCurrencyForCountry(Globals.selectedCurrency!, Globals.selectedCurrency!.name != \"US\") + priceAsString)\n  }\n\n  numberWithCommas(x: string) {\n    return x.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n  \n  getCurrencyForCountry(country: Country, shouldShowName: boolean){\n\n    var returnItem = country.currency_symbol\n    if (shouldShowName) returnItem = country.name + \" \" + returnItem\n  \n    return returnItem\n  }\n\n  addTags(title: string, imgUrl: string, description: string, url: string){\n    this.metaService.updateTag({property: 'og:title', content: title  + \" - \" + \"Home\"});\n    this.metaService.updateTag({property: 'og:image', content: imgUrl});\n    this.metaService.updateTag({property: 'og:url', content: url})\n    this.metaService.updateTag({property: 'og:description', content: description})\n    this.titleService.setTitle(title)\n    this.metaService.updateTag({property: 'description', content: description})\n\n  }\n\n  routeToShipping(){\n\n    if (Globals.shippingInfo?.email && Globals.billingInfo?.name){\n      this.rootComponent.routeToReview()\n    }\n    else if (Globals.shippingInfo?.email){\n      this.rootComponent.routeToBilling()\n    }\n    else if (Globals.billingInfo?.name){\n      this.rootComponent.routeToShipping()\n    }\n    else{\n      this.rootComponent.routeToShipping()\n    }\n  }\n\n  next(){\n    \n    this.routeToShipping()\n  }\n\n  selectedIndicator(){\n    \n    let co = Globals.storeInfo?.loading?.color\n    let bco = Globals.storeInfo?.loading?.bg_color\n    let name = Globals.storeInfo?.loading?.name\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    var indicator: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return indicator\n  }\n  \n  constructor(\n    @Inject(PLATFORM_ID) private platformID: Object,\n    private cdr: ChangeDetectorRef,\n    private router: ActivatedRoute,\n    private titleService: Title, \n    private metaService: Meta,\n    private routingService: RoutingService,\n    private loadService: LoadService,\n    private _router: Router,\n    private rootComponent: AppComponent,\n    private spinner: NgxSpinnerService,\n  ) {}\n\n  ngOnInit(): void {\n    this.init()\n  }\n\n}\n","<router-outlet></router-outlet>\n\n<ngx-spinner\n*ngIf=\"isBrowser()\" \nbdColor = '{{selectedIndicator().bg_color}}'\nsize = \"large\"\ncolor = '{{selectedIndicator().color}}'\ntype = {{selectedIndicator().name}} \n[fullScreen] = \"true\"\nstyle.color = \"{{selectedIndicator()!.color}}\"\n>\n<h3 class=\"text-center mt-5\" [style.font-family]=\"storeInfo().fontName!\" class=\"text-center\">{{storeInfo()?.fullName}}\n</h3>\n</ngx-spinner>\n  <!-- Header-->\n  <div style=\"max-height: 100%; min-height: 100%;\" style.background-color=\"{{selectedTheme()!.bg_color}}\">\n    <header *ngIf=\"isBrowser() && storeInfo().username != undefined\" class=\"bg-{{storeInfo().colorStyle!.back_code}} py-6\">\n      <div class=\"cover\" style=\"background-image: url(https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media);\" [style.background-image]='\"url(\" + storeInfo()!.themeLink!.toString() + \")\"'>\n          <div class=\"d-flex align-items-center justify-content-center\" style=\"height: 200px; font-weight: bold;font-size:35px\">\n            <div>\n              <p [style.font-family]=\"storeInfo().fontName!\" class = \"text-center\" style = \"line-height:1.2em;text-shadow: 2px 2px 4px #42424281;\">\n                SHOPPING BAG\n               </p>\n               <p [style.font-family]=\"storeInfo().fontName!\" class = \"text-center\" style = \"line-height:1.2em; font-size:25px; text-shadow: 2px 2px 4px #42424281;\">\n                SECURE CHECKOUT\n                <mat-icon [inline]='true'>\n                  lock\n                </mat-icon>\n               </p>\n            </div>\n             </div>\n        </div>\n    </header>\n  \n    <section *ngIf=\"isBrowser() && storeInfo().username != undefined\" class=\"py-5\"  style.background-color=\"{{selectedTheme()!.bg_color}}\">\n      <div class=\"container pb-5 mb-2 mb-md-4\">\n          <div class=\"row\">\n            <section class=\"col-lg-8\">\n              <div *ngIf=\"hasCart() && loadedCart;\" class=\"bg-{{storeInfo().colorStyle!.back_code}} rounded-3 shadow-lg p-4 pt-3 mt-0\">\n                  <h2 style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\" class=\"h6 mb-1 pb-1 ps-3 mt-2\">My Shopping Bag</h2>\n                  <div class=\"py-2 px-xl-2\">\n                      <div *ngFor=\"let product of cart()\" class=\"d-sm-flex justify-content-between align-items-center pb-3 pt-3\">\n                          <div class=\"d-block d-sm-flex align-items-center text-center text-sm-start\"><a role=\"button\" (click)=\"routeToProduct(product.product!.productID)\" class=\"d-inline-block flex-shrink-0 mx-auto me-sm-4\"><img style=\"border-radius: 2.5%;\" src=\"{{product.product!.url}}\" onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\" width=\"160\" alt=\"Product\"/></a>\n                            <div class=\"pt-2\">\n                                <p [style.font-family]=\"storeInfo().fontName!\"><a role=\"button\" (click)=\"routeToProduct(product.product!.productID)\" class=\"text-{{storeInfo().colorStyle!.text_code}} text-decoration-none\" style=\"font-weight: bold;\" style.color=\"{{selectedTheme()!.color}}\">{{product.product?.name ?? \"\"}}</a></p>\n                              <div class=\"fs-sm\" [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\"><span [style.font-family]=\"storeInfo().fontName!\" class=\"text-muted me-2\">Size:</span>{{product.size ?? \"M\"}}</div>\n                              <div class=\"fs-sm\" [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\"><span [style.font-family]=\"storeInfo().fontName!\" class=\"text-muted me-2\">Color:</span>{{getColor(product.product)}}</div>\n                              <div class=\"fs-lg text-accent pt-2\" [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\">{{formatPrice(product.product!.price / 100)}}</div>\n                            </div>\n                          </div>\n                          <div class=\"pt-2 pt-sm-0 ps-sm-3 mx-auto mx-sm-0 text-center text-sm-start\" style=\"max-width: 5.5rem;\">\n                            <label [style.font-family]=\"storeInfo().fontName!\" class=\"form-label\" for=\"quantity1\" style.color=\"{{selectedTheme()!.color}}\">Quantity</label>\n                            <input [style.font-family]=\"storeInfo().fontName!\" #qtyChooser class=\"form-control\" type=\"number\" id=\"quantity1\" min=\"1\" value=\"{{product.quantity ?? 1}}\" (change)=\"updateProductQty(product, qtyChooser.value)\" style.background-color=\"{{selectedTheme()!.bg_color}}\" style.color=\"{{selectedTheme()!.color}}\"/>\n                            <button [style.font-family]=\"storeInfo().fontName!\" class=\"btn btn-link px-0 text-danger\" type=\"button\" (click)=\"updateProductQty(product, '0')\"><i class=\"ci-close-circle me-0\"></i><span class=\"fs-sm\" style=\"font-size: 10px;\">Remove</span></button>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n              <div *ngIf=\"!(hasCart()) && loadedCart;\" class=\"bg-{{storeInfo().colorStyle!.back_code}} rounded-3 shadow-lg p-4 pt-3 mt-0\">\n                  <h2 [style.font-family]=\"storeInfo().fontName!\" class=\"h6 ps-3 mt-2 text-center\" style.color=\"{{selectedTheme()!.color}}\">Your Shopping Bag is Empty</h2>\n                  <div class=\"py-2 px-xl-2\">\n                      <div class=\"d-block align-items-center pt-2\">\n                          <div class=\"d-block align-items-center text-center text-sm-start\"><a class=\"mx-auto me-sm-4\" role=\"button\" (click)=\"routeToShop()\"><img style=\"border-radius: 2.5%;\" src=\"{{storeInfo()!.actionLink!.toString()}}\" style=\"max-width: 100%; height: auto;\" alt=\"Product\"/></a>\n                            <div class=\"pt-2\">\n                                \n                                <h2 [style.font-family]=\"storeInfo().fontName!\" class=\"h6 ps-3 mt-2 text-center\"><a role=\"button\" (click)=\"routeToShop()\" class=\"text-{{storeInfo().colorStyle!.text_code}} text-decoration-underline\" style=\"font-weight: bold;\">Shop More Products</a></h2>\n                            </div>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n            </section>\n            <!-- Sidebar-->\n            <aside class=\"col-lg-4 pt-4 pt-lg-0 ps-xl-5\">\n              <div class=\"bg-{{storeInfo().colorStyle!.back_code}} rounded-3 shadow-lg p-4\">\n                <div class=\"py-2 px-xl-2\">\n                  <div [hidden]=\"stillLoadingProducts()\" class=\"text-center mb-4 pb-3 border-bottom\">\n                    <h2 [style.font-family]=\"storeInfo().fontName!\" class=\"h6 mb-3 pb-1\" style.color=\"{{selectedTheme()!.color}}\">Subtotal</h2>\n                    <h3 [style.font-family]=\"storeInfo().fontName!\" class=\"fw-normal\" style.color=\"{{selectedTheme()!.color}}\">{{formatPrice(total())}}</h3>\n                  </div>\n                  <div class=\"accordion\" id=\"order-options\">\n                    <!-- <div class=\"accordion-item\">\n                      <h3 class=\"accordion-header\"><a class=\"accordion-button\" href=\"#promo-code\" role=\"button\" data-bs-toggle=\"collapse\" aria-expanded=\"true\" aria-controls=\"promo-code\">Apply promo code</a></h3>\n                      <div class=\"accordion-collapse collapse show\" id=\"promo-code\" data-bs-parent=\"#order-options\">\n                        <form class=\"accordion-body needs-validation\" novalidate=\"novalidate\">\n                          <div class=\"mb-3\">\n                            <input (keyup)=\"onKey($event)\"class=\"form-control\" type=\"text\" placeholder=\"Promo code\" required=\"required\"/>\n                            <div class=\"invalid-feedback\">Please provide promo code.</div>\n                          </div>\n                          <button class=\"btn btn-outline-primary d-block w-100\" type=\"button\" (click) = \"calculateDiscount()\">Apply promo code</button>\n                        </form>\n                      </div>\n                    </div> -->\n                    <div class=\"accordion-item\" style.background-color=\"{{selectedTheme()!.bg_color}}\" style.color=\"{{selectedTheme()!.color}}\">\n                      <h3 [style.font-family]=\"storeInfo().fontName!\" class=\"accordion-header\" style.color=\"{{selectedTheme()!.color}}\" ><a style.background-color=\"{{selectedTheme()!.bg_color}}\" style.color=\"{{selectedTheme()!.color}}\" class=\"accordion-button collapsed\" href=\"#shipping-estimates\" role=\"button\" data-bs-toggle=\"collapse\" aria-expanded=\"true\" aria-controls=\"shipping-estimates\">Shipping estimates</a></h3>\n                      <div class=\"accordion-collapse collapse\" id=\"shipping-estimates\" data-bs-parent=\"#order-options\">\n                        <div class=\"accordion-body\">\n                          <form class=\"needs-validation\" novalidate=\"novalidate\">\n                            <div class=\"mb-3\">\n                              <h2 [style.font-family]=\"storeInfo().fontName!\" class=\"h5 mb-3 pb-1\" style.color=\"{{selectedTheme()!.color}}\">Shipping: {{shipping()}}</h2>\n                              <select  class=\"form-select\" style.color=\"{{selectedTheme()!.color}}\" style.background-color=\"{{selectedTheme()!.bg_color}}\" (change)=\"calculateShipping($event)\" required=\"required\">\n                                <option value=\"\">Choose your country</option>\n                                <option value=\"United States\">United States</option>\n                                <option value=\"Canada\">Canada</option>\n                                <option value=\"United Kingdom\">United Kingdom</option>\n                              </select>\n                              \n                              <div class=\"invalid-feedback\">Please choose your country!</div>\n                            </div>\n                            \n                            <!-- <div class=\"mb-3\">\n                              <select class=\"form-select\" required=\"required\">\n                                <option value=\"\">Choose your city</option>\n                                <option value=\"Bern\">Bern</option>\n                                <option value=\"Brussels\">Brussels</option>\n                                <option value=\"Canberra\">Canberra</option>\n                                <option value=\"Helsinki\">Helsinki</option>\n                                <option value=\"Mexico City\">Mexico City</option>\n                                <option value=\"Ottawa\">Ottawa</option>\n                                <option value=\"Washington D.C.\">Washington D.C.</option>\n                                <option value=\"Wellington\">Wellington</option>\n                              </select>\n                              <div class=\"invalid-feedback\">Please choose your city!</div>\n                            </div> -->\n                            <!-- <div class=\"mb-3\">\n                              <input class=\"form-control\" type=\"text\" placeholder=\"ZIP / Postal code\" required=\"required\"/>\n                              <div class=\"invalid-feedback\">Please provide a valid zip!</div>\n                            </div> -->\n  \n                            <button [style.font-family]=\"storeInfo().fontName!\" class=\"btn btn-primary d-block w-100\" type=\"button\" (click)=\"calculate()\">Calculate shipping</button>\n                          </form>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"text-center mt-2\"><a *ngIf=\"hasCart() && loadedCart;\" [style.font-family]=\"storeInfo().fontName!\" class=\"btn mt-auto d-flex flex-wrap\" style=\"font-weight:bold; font-size:20px; justify-content: center;\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\" (click) = \"next()\" [innerHTML]=\"'CHECKOUT'\"></a></div>\n                </div>\n              </div>\n            </aside>\n          </div>\n        </div>\n    </section>\n  </div>\n","import { Store } from './models/store.model'\nimport { Country } from './models/shipping-country.model'\nimport { Product } from './models/product.model'\nimport { Template } from './models/template.model'\nimport { Injectable } from '@angular/core'\nimport { Blog } from './models/blog.model'\nimport { ProductInCart } from './models/product-in-cart.model'\nimport { ShippingInfo } from './models/shipping-address.model'\nimport { BillingInfo } from './models/billing-address.model'\nimport { Order } from './models/order.model'\nimport { StoreTheme } from './models/theme.model'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class Globals {\n\n  public static storeInfo: Store = new Store()\n\n  public static userInfo?: Store = undefined\n\n  public static availableCurrencies: Array<Country> = []\n\n  public static selectedCurrency?: Country = new Country()\n\n  public static templates: Array<Template> = []\n\n  public static availableTemplates: Array<Template> = []\n\n  public static selectedTemplate?: Template = new Template()\n\n\n  public static selectedProduct?: Product = new Product()\n\n  public static orders?: Array<Order> = []\n\n  public static selectedOrder?: Order = new Order()\n\n  public static selectedBlog?: Blog = new Blog()\n\n  public static blogs: Array<Blog> = []\n\n  public static URL: any = \"\"\n\n  public static productsSold?: Array<ProductInCart> = []\n\n  public static views?: Array<{\n      views: number,\n      timestamp: Date\n  }> = []\n\n  public static dropCarts?: Array<{\n    dropCarts: number,\n    timestamp: Date\n}> = []\n\n  public static newCustomers?: number = 0\n\n  public static shippingInfo?: ShippingInfo = new ShippingInfo()\n\n  public static billingInfo?: BillingInfo = new BillingInfo()\n\n  public static themes?: Array<StoreTheme> = []\n\n  public static shippingTax? = 0\n\n  public static didLog = false\n\n  public static days   = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];\n  public static months = ['January','February','March','April','May','June', 'July','August','September','October','November','December'];\n\n\n  public static useOtherPaymentMethod = false\n\n  public static isNewUser = false\n\npublic static socials = [\n\n    {\n        name: 'Instagram',\n        img: '/assets/instagram.png',\n    },\n    {\n        name: 'TikTok',\n        img: '/assets/tiktok.png',\n    },\n    {\n        name: 'Youtube',\n        img: '/assets/youtube.png',\n    },\n    {\n        name: 'Facebook',\n        img: '/assets/facebook.png',\n    },\n    {\n        name: 'Twitter',\n        img: '/assets/twitter.png',\n    },\n    {\n        name: 'Pinterest',\n        img: '/assets/pinterest.png',\n    }\n]\n\n\n\n  public static loaders = [\n    'ball-8bits',\n    'ball-atom',\n    'ball-beat',\n    'ball-circus',\n    'ball-climbing-dot',\n    'ball-clip-rotate',\n    'ball-clip-rotate-multiple',\n    'ball-clip-rotate-pulse',\n    'ball-elastic-dots',\n    'ball-fall',\n    'ball-fussion',\n    'ball-grid-beat',\n    'ball-grid-pulse',\n    'ball-newton-cradle',\n    'ball-pulse',\n    'ball-pulse-rise',\n    'ball-pulse-sync',\n    'ball-rotate',\n    'ball-running-dots',\n    'ball-scale',\n    'ball-scale-multiple',\n    'ball-scale-pulse',\n    'ball-scale-ripple',\n    'ball-scale-ripple-multiple',\n    'ball-spin',\n    'ball-spin-clockwise',\n    'ball-spin-clockwise-fade',\n    'ball-spin-clockwise-fade-rotating',\n    'ball-spin-fade',\n    'ball-spin-fade-rotating',\n    'ball-spin-rotate',\n    'ball-square-clockwise-spin',\n    'ball-square-spin',\n    'ball-triangle-path',\n    'ball-zig-zag',\n    'ball-zig-zag-deflect',\n    'cog',\n    'cube-transition',\n    'fire',\n    'line-scale',\n    'line-scale-party',\n    'line-scale-pulse-out',\n    'line-scale-pulse-out-rapid',\n    'line-spin-clockwise-fade',\n    'line-spin-clockwise-fade-rotating',\n    'line-spin-fade',\n    'line-spin-fade-rotating',\n    'pacman',\n    'square-jelly-box',\n    'square-loader',\n    'square-spin',\n    'timer',\n    'triangle-skew-spin',\n]\n\n\npublic static fonts = [\n    'Arbutus',\n    'Bungee Hairline',\n    'Bungee Outline',\n    'Clicker Script',\n    'Codystar',\n    'Condiment',\n    'Diplomata SC',\n    'DotGothic16',\n    'Erica One',\n    'Ewert',\n    'Geo',\n    'Lexend Peta',\n    'Meie Script',\n    'Monofett',\n    'Montserrat',\n    'Montserrat Alternates',\n    'Montserrat Subrayada',\n    'Nanum Brush Script',\n    'Notable',\n    'Original Surfer',\n    'Permanent Marker',\n    'Playfair Display',\n    'Roboto',\n    'Rowdies',\n    'Saira Stencil One',\n    'Tulpen One',\n]\n\n  public static countries = [\n\n    {\n      'name': 'Canada',\n      'abbreviation': 'CA'\n    },\n    {\n      'name': 'United States',\n      'abbreviation': 'US'\n    },\n    {\n      'name': 'United Kingdom',\n      'abbreviation': 'UK'\n    }\n  ]\n\n\n\n  public static usStates = [\n    {\n        'name': 'Alabama',\n        'abbreviation': 'AL'\n    },\n    {\n        'name': 'Alaska',\n        'abbreviation': 'AK'\n    },\n    {\n        'name': 'American Samoa',\n        'abbreviation': 'AS'\n    },\n    {\n        'name': 'Arizona',\n        'abbreviation': 'AZ'\n    },\n    {\n        'name': 'Arkansas',\n        'abbreviation': 'AR'\n    },\n    {\n        'name': 'California',\n        'abbreviation': 'CA'\n    },\n    {\n        'name': 'Colorado',\n        'abbreviation': 'CO'\n    },\n    {\n        'name': 'Connecticut',\n        'abbreviation': 'CT'\n    },\n    {\n        'name': 'Delaware',\n        'abbreviation': 'DE'\n    },\n    {\n        'name': 'District Of Columbia',\n        'abbreviation': 'DC'\n    },\n    {\n        'name': 'Federated States Of Micronesia',\n        'abbreviation': 'FM'\n    },\n    {\n        'name': 'Florida',\n        'abbreviation': 'FL'\n    },\n    {\n        'name': 'Georgia',\n        'abbreviation': 'GA'\n    },\n    {\n        'name': 'Guam',\n        'abbreviation': 'GU'\n    },\n    {\n        'name': 'Hawaii',\n        'abbreviation': 'HI'\n    },\n    {\n        'name': 'Idaho',\n        'abbreviation': 'ID'\n    },\n    {\n        'name': 'Illinois',\n        'abbreviation': 'IL'\n    },\n    {\n        'name': 'Indiana',\n        'abbreviation': 'IN'\n    },\n    {\n        'name': 'Iowa',\n        'abbreviation': 'IA'\n    },\n    {\n        'name': 'Kansas',\n        'abbreviation': 'KS'\n    },\n    {\n        'name': 'Kentucky',\n        'abbreviation': 'KY'\n    },\n    {\n        'name': 'Louisiana',\n        'abbreviation': 'LA'\n    },\n    {\n        'name': 'Maine',\n        'abbreviation': 'ME'\n    },\n    {\n        'name': 'Marshall Islands',\n        'abbreviation': 'MH'\n    },\n    {\n        'name': 'Maryland',\n        'abbreviation': 'MD'\n    },\n    {\n        'name': 'Massachusetts',\n        'abbreviation': 'MA'\n    },\n    {\n        'name': 'Michigan',\n        'abbreviation': 'MI'\n    },\n    {\n        'name': 'Minnesota',\n        'abbreviation': 'MN'\n    },\n    {\n        'name': 'Mississippi',\n        'abbreviation': 'MS'\n    },\n    {\n        'name': 'Missouri',\n        'abbreviation': 'MO'\n    },\n    {\n        'name': 'Montana',\n        'abbreviation': 'MT'\n    },\n    {\n        'name': 'Nebraska',\n        'abbreviation': 'NE'\n    },\n    {\n        'name': 'Nevada',\n        'abbreviation': 'NV'\n    },\n    {\n        'name': 'New Hampshire',\n        'abbreviation': 'NH'\n    },\n    {\n        'name': 'New Jersey',\n        'abbreviation': 'NJ'\n    },\n    {\n        'name': 'New Mexico',\n        'abbreviation': 'NM'\n    },\n    {\n        'name': 'New York',\n        'abbreviation': 'NY'\n    },\n    {\n        'name': 'North Carolina',\n        'abbreviation': 'NC'\n    },\n    {\n        'name': 'North Dakota',\n        'abbreviation': 'ND'\n    },\n    {\n        'name': 'Northern Mariana Islands',\n        'abbreviation': 'MP'\n    },\n    {\n        'name': 'Ohio',\n        'abbreviation': 'OH'\n    },\n    {\n        'name': 'Oklahoma',\n        'abbreviation': 'OK'\n    },\n    {\n        'name': 'Oregon',\n        'abbreviation': 'OR'\n    },\n    {\n        'name': 'Palau',\n        'abbreviation': 'PW'\n    },\n    {\n        'name': 'Pennsylvania',\n        'abbreviation': 'PA'\n    },\n    {\n        'name': 'Puerto Rico',\n        'abbreviation': 'PR'\n    },\n    {\n        'name': 'Rhode Island',\n        'abbreviation': 'RI'\n    },\n    {\n        'name': 'South Carolina',\n        'abbreviation': 'SC'\n    },\n    {\n        'name': 'South Dakota',\n        'abbreviation': 'SD'\n    },\n    {\n        'name': 'Tennessee',\n        'abbreviation': 'TN'\n    },\n    {\n        'name': 'Texas',\n        'abbreviation': 'TX'\n    },\n    {\n        'name': 'Utah',\n        'abbreviation': 'UT'\n    },\n    {\n        'name': 'Vermont',\n        'abbreviation': 'VT'\n    },\n    {\n        'name': 'Virgin Islands',\n        'abbreviation': 'VI'\n    },\n    {\n        'name': 'Virginia',\n        'abbreviation': 'VA'\n    },\n    {\n        'name': 'Washington',\n        'abbreviation': 'WA'\n    },\n    {\n        'name': 'West Virginia',\n        'abbreviation': 'WV'\n    },\n    {\n        'name': 'Wisconsin',\n        'abbreviation': 'WI'\n    },\n    {\n        'name': 'Wyoming',\n        'abbreviation': 'WY'\n    }\n  ];\n\n  public static caProvinces = [\n    {\n        'name': 'Alberta',\n        'abbreviation': 'AB'\n    },\n    {\n        'name': 'British Columbia',\n        'abbreviation': 'BC'\n    },\n    {\n        'name': 'Manitoba',\n        'abbreviation': 'MB'\n    },\n    {\n        'name': 'New Brunswick',\n        'abbreviation': 'NB'\n    },\n    {\n        'name': 'Newfoundland & Labrador',\n        'abbreviation': 'NL'\n    },\n    {\n        'name': 'Nova Scotia',\n        'abbreviation': 'NS'\n    },\n    {\n        'name': 'Prince Edward Island',\n        'abbreviation': 'PEI'\n    },\n    {\n        'name': 'Quebec',\n        'abbreviation': 'QC'\n    },\n    {\n        'name': 'Saskatchewan',\n        'abbreviation': 'SK'\n    },\n    {\n        'name': 'Ontario',\n        'abbreviation': 'ON'\n    }\n  ];\n\n  public static matchingProvince(a: string){\n    return this.caProvinces.find(p => {p.name.toLowerCase() == a.toLowerCase() || p.abbreviation.toLowerCase() == a.toLowerCase()})\n  }\n\n  public static ukNations = [\n    {\n        'name': 'England',\n        'abbreviation': 'ENG'\n    },\n    {\n        'name': 'Scotland',\n        'abbreviation': 'SCT'\n    },\n    {\n        'name': 'Northern Ireland',\n        'abbreviation': 'NIR'\n    },\n    {\n        'name': 'Wales',\n        'abbreviation': 'WLS'\n    },\n  ];\n\n  public static allCountries = [\n    {\"name\": \"Afghanistan\", \"code\": \"AF\"},\n    {\"name\": \"land Islands\", \"code\": \"AX\"},\n    {\"name\": \"Albania\", \"code\": \"AL\"},\n    {\"name\": \"Algeria\", \"code\": \"DZ\"},\n    {\"name\": \"American Samoa\", \"code\": \"AS\"},\n    {\"name\": \"AndorrA\", \"code\": \"AD\"},\n    {\"name\": \"Angola\", \"code\": \"AO\"},\n    {\"name\": \"Anguilla\", \"code\": \"AI\"},\n    {\"name\": \"Antarctica\", \"code\": \"AQ\"},\n    {\"name\": \"Antigua and Barbuda\", \"code\": \"AG\"},\n    {\"name\": \"Argentina\", \"code\": \"AR\"},\n    {\"name\": \"Armenia\", \"code\": \"AM\"},\n    {\"name\": \"Aruba\", \"code\": \"AW\"},\n    {\"name\": \"Australia\", \"code\": \"AU\"},\n    {\"name\": \"Austria\", \"code\": \"AT\"},\n    {\"name\": \"Azerbaijan\", \"code\": \"AZ\"},\n    {\"name\": \"Bahamas\", \"code\": \"BS\"},\n    {\"name\": \"Bahrain\", \"code\": \"BH\"},\n    {\"name\": \"Bangladesh\", \"code\": \"BD\"},\n    {\"name\": \"Barbados\", \"code\": \"BB\"},\n    {\"name\": \"Belarus\", \"code\": \"BY\"},\n    {\"name\": \"Belgium\", \"code\": \"BE\"},\n    {\"name\": \"Belize\", \"code\": \"BZ\"},\n    {\"name\": \"Benin\", \"code\": \"BJ\"},\n    {\"name\": \"Bermuda\", \"code\": \"BM\"},\n    {\"name\": \"Bhutan\", \"code\": \"BT\"},\n    {\"name\": \"Bolivia\", \"code\": \"BO\"},\n    {\"name\": \"Bosnia and Herzegovina\", \"code\": \"BA\"},\n    {\"name\": \"Botswana\", \"code\": \"BW\"},\n    {\"name\": \"Bouvet Island\", \"code\": \"BV\"},\n    {\"name\": \"Brazil\", \"code\": \"BR\"},\n    {\"name\": \"British Indian Ocean Territory\", \"code\": \"IO\"},\n    {\"name\": \"Brunei Darussalam\", \"code\": \"BN\"},\n    {\"name\": \"Bulgaria\", \"code\": \"BG\"},\n    {\"name\": \"Burkina Faso\", \"code\": \"BF\"},\n    {\"name\": \"Burundi\", \"code\": \"BI\"},\n    {\"name\": \"Cambodia\", \"code\": \"KH\"},\n    {\"name\": \"Cameroon\", \"code\": \"CM\"},\n    {\"name\": \"Canada\", \"code\": \"CA\"},\n    {\"name\": \"Cape Verde\", \"code\": \"CV\"},\n    {\"name\": \"Cayman Islands\", \"code\": \"KY\"},\n    {\"name\": \"Central African Republic\", \"code\": \"CF\"},\n    {\"name\": \"Chad\", \"code\": \"TD\"},\n    {\"name\": \"Chile\", \"code\": \"CL\"},\n    {\"name\": \"China\", \"code\": \"CN\"},\n    {\"name\": \"Christmas Island\", \"code\": \"CX\"},\n    {\"name\": \"Cocos (Keeling) Islands\", \"code\": \"CC\"},\n    {\"name\": \"Colombia\", \"code\": \"CO\"},\n    {\"name\": \"Comoros\", \"code\": \"KM\"},\n    {\"name\": \"Congo\", \"code\": \"CG\"},\n    {\"name\": \"Congo, The Democratic Republic of the\", \"code\": \"CD\"},\n    {\"name\": \"Cook Islands\", \"code\": \"CK\"},\n    {\"name\": \"Costa Rica\", \"code\": \"CR\"},\n    {\"name\": \"Cote D\\\"Ivoire\", \"code\": \"CI\"},\n    {\"name\": \"Croatia\", \"code\": \"HR\"},\n    {\"name\": \"Cuba\", \"code\": \"CU\"},\n    {\"name\": \"Cyprus\", \"code\": \"CY\"},\n    {\"name\": \"Czech Republic\", \"code\": \"CZ\"},\n    {\"name\": \"Denmark\", \"code\": \"DK\"},\n    {\"name\": \"Djibouti\", \"code\": \"DJ\"},\n    {\"name\": \"Dominica\", \"code\": \"DM\"},\n    {\"name\": \"Dominican Republic\", \"code\": \"DO\"},\n    {\"name\": \"Ecuador\", \"code\": \"EC\"},\n    {\"name\": \"Egypt\", \"code\": \"EG\"},\n    {\"name\": \"El Salvador\", \"code\": \"SV\"},\n    {\"name\": \"Equatorial Guinea\", \"code\": \"GQ\"},\n    {\"name\": \"Eritrea\", \"code\": \"ER\"},\n    {\"name\": \"Estonia\", \"code\": \"EE\"},\n    {\"name\": \"Ethiopia\", \"code\": \"ET\"},\n    {\"name\": \"Falkland Islands (Malvinas)\", \"code\": \"FK\"},\n    {\"name\": \"Faroe Islands\", \"code\": \"FO\"},\n    {\"name\": \"Fiji\", \"code\": \"FJ\"},\n    {\"name\": \"Finland\", \"code\": \"FI\"},\n    {\"name\": \"France\", \"code\": \"FR\"},\n    {\"name\": \"French Guiana\", \"code\": \"GF\"},\n    {\"name\": \"French Polynesia\", \"code\": \"PF\"},\n    {\"name\": \"French Southern Territories\", \"code\": \"TF\"},\n    {\"name\": \"Gabon\", \"code\": \"GA\"},\n    {\"name\": \"Gambia\", \"code\": \"GM\"},\n    {\"name\": \"Georgia\", \"code\": \"GE\"},\n    {\"name\": \"Germany\", \"code\": \"DE\"},\n    {\"name\": \"Ghana\", \"code\": \"GH\"},\n    {\"name\": \"Gibraltar\", \"code\": \"GI\"},\n    {\"name\": \"Greece\", \"code\": \"GR\"},\n    {\"name\": \"Greenland\", \"code\": \"GL\"},\n    {\"name\": \"Grenada\", \"code\": \"GD\"},\n    {\"name\": \"Guadeloupe\", \"code\": \"GP\"},\n    {\"name\": \"Guam\", \"code\": \"GU\"},\n    {\"name\": \"Guatemala\", \"code\": \"GT\"},\n    {\"name\": \"Guernsey\", \"code\": \"GG\"},\n    {\"name\": \"Guinea\", \"code\": \"GN\"},\n    {\"name\": \"Guinea-Bissau\", \"code\": \"GW\"},\n    {\"name\": \"Guyana\", \"code\": \"GY\"},\n    {\"name\": \"Haiti\", \"code\": \"HT\"},\n    {\"name\": \"Heard Island and Mcdonald Islands\", \"code\": \"HM\"},\n    {\"name\": \"Holy See (Vatican City State)\", \"code\": \"VA\"},\n    {\"name\": \"Honduras\", \"code\": \"HN\"},\n    {\"name\": \"Hong Kong\", \"code\": \"HK\"},\n    {\"name\": \"Hungary\", \"code\": \"HU\"},\n    {\"name\": \"Iceland\", \"code\": \"IS\"},\n    {\"name\": \"India\", \"code\": \"IN\"},\n    {\"name\": \"Indonesia\", \"code\": \"ID\"},\n    {\"name\": \"Iran, Islamic Republic Of\", \"code\": \"IR\"},\n    {\"name\": \"Iraq\", \"code\": \"IQ\"},\n    {\"name\": \"Ireland\", \"code\": \"IE\"},\n    {\"name\": \"Isle of Man\", \"code\": \"IM\"},\n    {\"name\": \"Israel\", \"code\": \"IL\"},\n    {\"name\": \"Italy\", \"code\": \"IT\"},\n    {\"name\": \"Jamaica\", \"code\": \"JM\"},\n    {\"name\": \"Japan\", \"code\": \"JP\"},\n    {\"name\": \"Jersey\", \"code\": \"JE\"},\n    {\"name\": \"Jordan\", \"code\": \"JO\"},\n    {\"name\": \"Kazakhstan\", \"code\": \"KZ\"},\n    {\"name\": \"Kenya\", \"code\": \"KE\"},\n    {\"name\": \"Kiribati\", \"code\": \"KI\"},\n    {\"name\": \"Korea, Democratic People\\\"S Republic of\", \"code\": \"KP\"},\n    {\"name\": \"Korea, Republic of\", \"code\": \"KR\"},\n    {\"name\": \"Kuwait\", \"code\": \"KW\"},\n    {\"name\": \"Kyrgyzstan\", \"code\": \"KG\"},\n    {\"name\": \"Lao People\\\"S Democratic Republic\", \"code\": \"LA\"},\n    {\"name\": \"Latvia\", \"code\": \"LV\"},\n    {\"name\": \"Lebanon\", \"code\": \"LB\"},\n    {\"name\": \"Lesotho\", \"code\": \"LS\"},\n    {\"name\": \"Liberia\", \"code\": \"LR\"},\n    {\"name\": \"Libyan Arab Jamahiriya\", \"code\": \"LY\"},\n    {\"name\": \"Liechtenstein\", \"code\": \"LI\"},\n    {\"name\": \"Lithuania\", \"code\": \"LT\"},\n    {\"name\": \"Luxembourg\", \"code\": \"LU\"},\n    {\"name\": \"Macao\", \"code\": \"MO\"},\n    {\"name\": \"Macedonia, The Former Yugoslav Republic of\", \"code\": \"MK\"},\n    {\"name\": \"Madagascar\", \"code\": \"MG\"},\n    {\"name\": \"Malawi\", \"code\": \"MW\"},\n    {\"name\": \"Malaysia\", \"code\": \"MY\"},\n    {\"name\": \"Maldives\", \"code\": \"MV\"},\n    {\"name\": \"Mali\", \"code\": \"ML\"},\n    {\"name\": \"Malta\", \"code\": \"MT\"},\n    {\"name\": \"Marshall Islands\", \"code\": \"MH\"},\n    {\"name\": \"Martinique\", \"code\": \"MQ\"},\n    {\"name\": \"Mauritania\", \"code\": \"MR\"},\n    {\"name\": \"Mauritius\", \"code\": \"MU\"},\n    {\"name\": \"Mayotte\", \"code\": \"YT\"},\n    {\"name\": \"Mexico\", \"code\": \"MX\"},\n    {\"name\": \"Micronesia, Federated States of\", \"code\": \"FM\"},\n    {\"name\": \"Moldova, Republic of\", \"code\": \"MD\"},\n    {\"name\": \"Monaco\", \"code\": \"MC\"},\n    {\"name\": \"Mongolia\", \"code\": \"MN\"},\n    {\"name\": \"Montserrat\", \"code\": \"MS\"},\n    {\"name\": \"Morocco\", \"code\": \"MA\"},\n    {\"name\": \"Mozambique\", \"code\": \"MZ\"},\n    {\"name\": \"Myanmar\", \"code\": \"MM\"},\n    {\"name\": \"Namibia\", \"code\": \"NA\"},\n    {\"name\": \"Nauru\", \"code\": \"NR\"},\n    {\"name\": \"Nepal\", \"code\": \"NP\"},\n    {\"name\": \"Netherlands\", \"code\": \"NL\"},\n    {\"name\": \"Netherlands Antilles\", \"code\": \"AN\"},\n    {\"name\": \"New Caledonia\", \"code\": \"NC\"},\n    {\"name\": \"New Zealand\", \"code\": \"NZ\"},\n    {\"name\": \"Nicaragua\", \"code\": \"NI\"},\n    {\"name\": \"Niger\", \"code\": \"NE\"},\n    {\"name\": \"Nigeria\", \"code\": \"NG\"},\n    {\"name\": \"Niue\", \"code\": \"NU\"},\n    {\"name\": \"Norfolk Island\", \"code\": \"NF\"},\n    {\"name\": \"Northern Mariana Islands\", \"code\": \"MP\"},\n    {\"name\": \"Norway\", \"code\": \"NO\"},\n    {\"name\": \"Oman\", \"code\": \"OM\"},\n    {\"name\": \"Pakistan\", \"code\": \"PK\"},\n    {\"name\": \"Palau\", \"code\": \"PW\"},\n    {\"name\": \"Palestinian Territory, Occupied\", \"code\": \"PS\"},\n    {\"name\": \"Panama\", \"code\": \"PA\"},\n    {\"name\": \"Papua New Guinea\", \"code\": \"PG\"},\n    {\"name\": \"Paraguay\", \"code\": \"PY\"},\n    {\"name\": \"Peru\", \"code\": \"PE\"},\n    {\"name\": \"Philippines\", \"code\": \"PH\"},\n    {\"name\": \"Pitcairn\", \"code\": \"PN\"},\n    {\"name\": \"Poland\", \"code\": \"PL\"},\n    {\"name\": \"Portugal\", \"code\": \"PT\"},\n    {\"name\": \"Puerto Rico\", \"code\": \"PR\"},\n    {\"name\": \"Qatar\", \"code\": \"QA\"},\n    {\"name\": \"Reunion\", \"code\": \"RE\"},\n    {\"name\": \"Romania\", \"code\": \"RO\"},\n    {\"name\": \"Russian Federation\", \"code\": \"RU\"},\n    {\"name\": \"RWANDA\", \"code\": \"RW\"},\n    {\"name\": \"Saint Helena\", \"code\": \"SH\"},\n    {\"name\": \"Saint Kitts and Nevis\", \"code\": \"KN\"},\n    {\"name\": \"Saint Lucia\", \"code\": \"LC\"},\n    {\"name\": \"Saint Pierre and Miquelon\", \"code\": \"PM\"},\n    {\"name\": \"Saint Vincent and the Grenadines\", \"code\": \"VC\"},\n    {\"name\": \"Samoa\", \"code\": \"WS\"},\n    {\"name\": \"San Marino\", \"code\": \"SM\"},\n    {\"name\": \"Sao Tome and Principe\", \"code\": \"ST\"},\n    {\"name\": \"Saudi Arabia\", \"code\": \"SA\"},\n    {\"name\": \"Senegal\", \"code\": \"SN\"},\n    {\"name\": \"Serbia and Montenegro\", \"code\": \"CS\"},\n    {\"name\": \"Seychelles\", \"code\": \"SC\"},\n    {\"name\": \"Sierra Leone\", \"code\": \"SL\"},\n    {\"name\": \"Singapore\", \"code\": \"SG\"},\n    {\"name\": \"Slovakia\", \"code\": \"SK\"},\n    {\"name\": \"Slovenia\", \"code\": \"SI\"},\n    {\"name\": \"Solomon Islands\", \"code\": \"SB\"},\n    {\"name\": \"Somalia\", \"code\": \"SO\"},\n    {\"name\": \"South Africa\", \"code\": \"ZA\"},\n    {\"name\": \"South Georgia and the South Sandwich Islands\", \"code\": \"GS\"},\n    {\"name\": \"Spain\", \"code\": \"ES\"},\n    {\"name\": \"Sri Lanka\", \"code\": \"LK\"},\n    {\"name\": \"Sudan\", \"code\": \"SD\"},\n    {\"name\": \"Suriname\", \"code\": \"SR\"},\n    {\"name\": \"Svalbard and Jan Mayen\", \"code\": \"SJ\"},\n    {\"name\": \"Swaziland\", \"code\": \"SZ\"},\n    {\"name\": \"Sweden\", \"code\": \"SE\"},\n    {\"name\": \"Switzerland\", \"code\": \"CH\"},\n    {\"name\": \"Syrian Arab Republic\", \"code\": \"SY\"},\n    {\"name\": \"Taiwan, Province of China\", \"code\": \"TW\"},\n    {\"name\": \"Tajikistan\", \"code\": \"TJ\"},\n    {\"name\": \"Tanzania, United Republic of\", \"code\": \"TZ\"},\n    {\"name\": \"Thailand\", \"code\": \"TH\"},\n    {\"name\": \"Timor-Leste\", \"code\": \"TL\"},\n    {\"name\": \"Togo\", \"code\": \"TG\"},\n    {\"name\": \"Tokelau\", \"code\": \"TK\"},\n    {\"name\": \"Tonga\", \"code\": \"TO\"},\n    {\"name\": \"Trinidad and Tobago\", \"code\": \"TT\"},\n    {\"name\": \"Tunisia\", \"code\": \"TN\"},\n    {\"name\": \"Turkey\", \"code\": \"TR\"},\n    {\"name\": \"Turkmenistan\", \"code\": \"TM\"},\n    {\"name\": \"Turks and Caicos Islands\", \"code\": \"TC\"},\n    {\"name\": \"Tuvalu\", \"code\": \"TV\"},\n    {\"name\": \"Uganda\", \"code\": \"UG\"},\n    {\"name\": \"Ukraine\", \"code\": \"UA\"},\n    {\"name\": \"United Arab Emirates\", \"code\": \"AE\"},\n    {\"name\": \"United Kingdom\", \"code\": \"GB\"},\n    {\"name\": \"United States\", \"code\": \"US\"},\n    {\"name\": \"United States Minor Outlying Islands\", \"code\": \"UM\"},\n    {\"name\": \"Uruguay\", \"code\": \"UY\"},\n    {\"name\": \"Uzbekistan\", \"code\": \"UZ\"},\n    {\"name\": \"Vanuatu\", \"code\": \"VU\"},\n    {\"name\": \"Venezuela\", \"code\": \"VE\"},\n    {\"name\": \"Viet Nam\", \"code\": \"VN\"},\n    {\"name\": \"Virgin Islands, British\", \"code\": \"VG\"},\n    {\"name\": \"Virgin Islands, U.S.\", \"code\": \"VI\"},\n    {\"name\": \"Wallis and Futuna\", \"code\": \"WF\"},\n    {\"name\": \"Western Sahara\", \"code\": \"EH\"},\n    {\"name\": \"Yemen\", \"code\": \"YE\"},\n    {\"name\": \"Zambia\", \"code\": \"ZM\"},\n    {\"name\": \"Zimbabwe\", \"code\": \"ZW\"}\n]\n\n}\n\n","import { Component, OnInit, ChangeDetectorRef, Input, Output, EventEmitter } from '@angular/core';\n\nimport { LoadService, Dict } from '../services/load.service';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Globals } from '../globals';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  authMode = 1\n  err = \"\"\n  title = \"account\"\n\n  @Input() isLanding?: boolean;\n  @Input() affiliate?: string;\n\n  @Output() signedIn = new EventEmitter<boolean>();\n\n\n  loadingAction = \"Creating Account...\"\n\n  storeInfo(){\n    return Globals.storeInfo\n  }\n\n  selectedIndicator(){\n\n    let co = Globals.storeInfo?.loading?.color\n    let bco = Globals.storeInfo?.loading?.bg_color\n    let name = Globals.storeInfo?.loading?.name\n    \n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    let indicator: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return indicator\n  }\n\n  selectedTheme(){\n    \n    let co = Globals.storeInfo?.colorStyle?.btn_color\n    let bco = Globals.storeInfo?.colorStyle?.bg_color\n    let name = Globals.storeInfo?.colorStyle?.name\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    var theme: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return theme\n  }\n\n\n  authForm = this.fb.group({\n    username: [null, [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n    email: [null, [Validators.required, Validators.email]],\n    password: [null, [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n    confirmpassword: [null, [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n  });\n\n  loginForm = this.fb.group({\n    username: [null, [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n    password: [null, [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n  });\n\n  constructor(\n    private cdr: ChangeDetectorRef, \n    private load: LoadService, \n    private fb: FormBuilder, \n    private modalService: NgbModal,\n    private spinner: NgxSpinnerService,\n  ) { }\n\n  isSpinning = false\n\n\n\nshowSpinner(){\n  if (!this.isSpinning){\n    this.isSpinning = true\n    this.spinner.show(\"loginSpinner\")\n\n    setTimeout(() => {\n        this.hideSpinner()\n    }, 2000);\n  }\n}\n\nhideSpinner(){\n  if (this.isSpinning){\n    this.spinner.hide(\"loginSpinner\")\n    this.isSpinning = false\n  }\n}\n\n  isSignIn(){\n    this.loadingAction = \"Signing in...\"\n    return this.authMode == 2\n  }\n  isGoogle(){\n    this.loadingAction = \"Signing in...\"\n    return this.authMode == 4\n  }\n  isApple(){\n    this.loadingAction = \"Signing in...\"\n    return this.authMode == 3\n  }\n  isSignUp(){\n    this.loadingAction = \"Creating Account...\"\n    return this.authMode == 1\n  }\n\n  changeAuth(to: number){\n    this.authMode = to\n    this.hideSpinner()\n    this.cdr.detectChanges()\n  }\n\n  useGuest(){\n\n    this.load.myCallback = () => this.close()\n\n    this.showSpinner()\n    this.load.registerAccount(\"Guest\")\n  }\n  \n  close(){\n    this.hideSpinner()\n    console.log(\"go\")\n    if (this.isLanding){\n      this.signedIn.emit(true)\n    }\n    else{\n      this.modalService.dismissAll(\"success\")\n    }\n  }\n\n\n  error(err: string){\n    this.spinner.hide(\"loginSpinner\")\n    console.log(err)\n    this.err = err\n    this.cdr.detectChanges()    \n  }\n\n\n\n  signInEmail(){\n\n    if (this.loginForm.valid){\n\n      this.load.myCallback = () => this.close()\n      this.load.errCallback = (err: string) => this.error(err)\n\n\n      const usernameOrEmail = this.loginForm.controls.username.value\n\n      const password = this.loginForm.controls.password.value\n\n      let fieldToSearch = \"Username\"\n  \n      const credentials = {\n        \"email\": usernameOrEmail,\n        \"password\": password,\n        \"Code\" : password,\n        \"Field\" : fieldToSearch,\n        \"Term\" : usernameOrEmail\n      }\n  \n      this.showSpinner()\n\n      if (usernameOrEmail.includes(\"@\")){\n        // this.showSpinner()\n        this.load.registerAccount(\"Email_IN\", credentials)\n      }\n      else{\n        // this.showSpinner()\n        this.load.registerAccount(\"Email_IN_USER\", credentials)\n      }\n    }\n    else{\n\n    }\n  }\n\n  useApple(){\n    this.load.myCallback = () => this.close()\n    this.load.errCallback = (err: string) => this.error(err)\n\n    this.load.registerAccount(\"Apple\", undefined, this.affiliate)\n  }\n\n  useGoogle(){\n    this.load.myCallback = () => this.close()\n    this.load.errCallback = (err: string) => this.error(err)\n\n    this.load.registerAccount(\"Google\", undefined, this.affiliate)\n  }\n\n  useEmail(){\n\n    if (this.authForm.valid){\n\n\n      const email = this.authForm.controls.email.value\n\n      const username = this.authForm.controls.username.value\n\n      const password = this.authForm.controls.password.value\n\n      const confirmpassword = this.authForm.controls.confirmpassword.value\n\n      const credentials = {\n\n        \"email\": email,\n        \"password\": password,\n        \"username\": username,\n      }\n\n      console.log(this.affiliate)\n      this.showSpinner()\n      if (password == confirmpassword){\n        this.load.myCallback = () => this.close()        \n        this.load.checkUsername(username, err => {\n          if (err){\n            this.error(err)\n          }\n          else{\n            this.load.registerAccount(\"Email_UP\", credentials, this.affiliate)\n          }\n        })\n      }\n    }\n    return false\n\n  }\n\n  ngOnInit(): void {\n    \n    if (this.isLanding) this.title = 'store'\n  }\n\n}\n","\n<app-landing></app-landing>\n<ngx-spinner\nbdColor = '{{selectedIndicator().bg_color}}'\nsize = \"medium\"\ncolor = '{{selectedIndicator().color}}'\ntype = {{selectedIndicator().name}} \n[fullScreen] = \"false\"\nstyle.color = \"{{selectedIndicator()!.color}}\"\n[disableAnimation] = \"true\"\n[name]=\"'loginSpinner'\"\n>\n<h3 class=\"text-center mt-5\" [style.font-family]=\"storeInfo().fontName!\" class=\"mt-5\">{{loadingAction}}\n</h3>\n</ngx-spinner>\n\n<div class=\"wrapper w-100\" style.background-color=\"{{selectedTheme()!.bg_color}}\" >\n    <div class=\"w-100\" id=\"formContent\" style.background-color=\"{{selectedTheme()!.bg_color}}\">\n      <!-- Tabs Titles -->\n      <!-- Login Form -->\n      <p [style.font-family]=\"storeInfo().fontName!\" class = \"text-center text-{{storeInfo().colorStyle!.text_code}} mt-5\" style = \"line-height:1.0em; font-size: 25px;font-weight: bold;\">\n        Create your {{title}}\n       </p>\n       <p [style.font-family]=\"storeInfo().fontName!\" class = \"text-center mt-1\" style.color=\"{{selectedTheme()!.color}}\" style = \"line-height:1.0em; font-size: 15px;font-weight: normal;\">\n        Or log in below\n       </p>\n       <div class=\"container px-4 px-lg-5 mt-5\" style = \"width:300px\">\n        <div style = \"width:auto\" class=\"row row-cols-3 row-cols-md-3 row-cols-xl-3 justify-content-center\">\n            <div class=\"col\">\n                <a class=\"brand-logo\" role=button (click)=\"changeAuth(2)\">\n                    <img style = \"width: 50px;height:auto;\" class=\"rounded-circle mx-auto d-block mb-5\" src='/assets/email.png'/>\n                </a>\n            </div>\n            <div class=\"col\">\n                <a class=\"brand-logo\" role=button (click)=\"useApple()\">\n                    <img style = \"width: 50px;height:auto;\" class=\"rounded-circle mx-auto d-block mb-5\" src='/assets/apple_{{storeInfo().colorStyle!.back_code}}.png'/>\n                </a>\n            </div>\n            <div class=\"col\">\n                <a class=\"brand-logo\" role=button (click)=\"useGoogle()\">\n                    <img style = \"width: 50px;height:auto;\" class=\"rounded-circle mx-auto d-block mb-5\" src='/assets/google.png'/>\n                </a>\n            </div>\n        </div>\n       </div>\n       <p [style.font-family]=\"storeInfo().fontName!\" class = \"text-center mt-1\" style = \"line-height:1.0em; font-size: 12px; height: 15px; font-weight: normal; color: red;\">\n        {{err}}\n       </p>\n       <div *ngIf=\"isSignUp()\">\n        <form class = \"mt-4\" [formGroup]=\"authForm\">\n            <!-- <img class=\"img mt-5\" src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media' alt='ok' onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\"/> -->\n            <input [style.font-family]=\"storeInfo().fontName!\" class = \"fadeIn second bg-{{storeInfo().colorStyle!.back_code}}\"  placeholder=\"Email Address\" [email]=\"true\" type=\"text\" name=\"email\" formControlName=\"email\">\n\n            <input [style.font-family]=\"storeInfo().fontName!\" type=\"text\" id=\"username\" class=\"fadeIn second mt-2 bg-{{storeInfo().colorStyle!.back_code}}\" name=\"username\" placeholder=\"Username\" formControlName=\"username\">\n            <input [style.font-family]=\"storeInfo().fontName!\" type=\"password\" id=\"password\" class=\"fadeIn third bg-{{storeInfo().colorStyle!.back_code}}\" name=\"password\" placeholder=\"Password\" formControlName=\"password\">\n            <input [style.font-family]=\"storeInfo().fontName!\" type=\"password\" id=\"confirmpass\" class=\"fadeIn third bg-{{storeInfo().colorStyle!.back_code}}\" name=\"confirmpass\" placeholder=\"Confirm Password\" formControlName=\"confirmpassword\">\n            <!-- <input type=\"submit\" class=\"fadeIn fourth mt-5\" value=\"Create Account\"> -->\n            <!-- <a type=\"submit\" href=\"#\" class=\"btn btn-primary mt-5 mb-5\">Create Account</a>\n            <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button> -->\n            <div>\n                <div class=\"col\">\n                  <button [style.font-family]=\"storeInfo().fontName!\" type=\"submit\" role=button (click)=\"useEmail()\" class=\"btn btn-lg btn-block btn-dark mt-5 mb-5 pt-3 pb-3 ps-4 pe-4 fadeIn fourth\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\" style=\"font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; font-size: small;\">CREATE ACCOUNT</button>\n                </div>\n            </div>\n          </form>\n          <div id=\"formFooter\" class=\"bg-{{storeInfo().colorStyle!.back_code}}\">\n            <a [style.font-family]=\"storeInfo().fontName!\" class=\"underlineHover text-{{storeInfo().colorStyle!.text_code}}\" role=button (click)=\"useGuest()\" >No thanks, continue as Guest</a>\n          </div>\n       </div>\n       <div *ngIf=\"isSignIn()\">\n        <form  class = \"mt-4\" [formGroup]=\"loginForm\">\n            <!-- <img class=\"img mt-5\" src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media' alt='ok' onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\"/> -->\n            <input [style.font-family]=\"storeInfo().fontName!\" type=\"text\" id=\"username\" class=\"fadeIn second mt-2 bg-{{storeInfo().colorStyle!.back_code}}\" name=\"username\" placeholder=\"Username/Email\" formControlName=\"username\">\n            <input [style.font-family]=\"storeInfo().fontName!\" type=\"password\" id=\"password\" class=\"fadeIn third bg-{{storeInfo().colorStyle!.back_code}}\" name=\"password\" placeholder=\"Password\" formControlName=\"password\">\n            <!-- <button class=\"btn forgot underlineHover\">Forgot Password</button> -->\n            <div>\n                <div class=\"col\">\n                  <button [style.font-family]=\"storeInfo().fontName!\" type=\"submit\" role=button (click)=\"signInEmail()\" class=\"btn btn-lg btn-block btn-dark mt-5 mb-5 pt-3 pb-3 ps-4 pe-4 fadeIn fourth\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\" style=\"font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; font-size: small;\">SIGN IN</button>\n                </div>\n            </div>\n          </form>\n          <div id=\"formFooter\"  class=\"bg-{{storeInfo().colorStyle!.back_code}}\">\n            <a [style.font-family]=\"storeInfo().fontName!\" class=\"underlineHover text-{{storeInfo().colorStyle!.text_code}}\" role=button (click)=\"changeAuth(1)\">Don't have an account?</a>\n          </div>\n        </div>\n      <!-- Remind Passowrd -->\n    </div>\n  </div>","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from \"@angular/common\";\nimport { Globals } from '../globals';\nimport { MatCardModule } from '@angular/material/card';\nimport { NgxSpinnerModule } from \"ngx-spinner\";\nimport { LoginComponent } from '../login/login.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatIconModule } from '@angular/material/icon';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\n\n@NgModule({\n  declarations: [\n    LoginComponent,\n  ],\n  exports: [LoginComponent],\n  imports: [\n    CommonModule,\n    MatCardModule,\n    \n    NgxSpinnerModule,\n    ReactiveFormsModule,\n    MatToolbarModule,\n    MatIconModule,\n    NgbModule,\n    \n  ],\n  schemas:[CUSTOM_ELEMENTS_SCHEMA],\n  providers: [Globals],\n  bootstrap: [LoginComponent]\n})\n\nexport class LoginModule { }\n","\nexport class BillingInfo {\n  name: string\n  company: string\n  number: string\n  brand: string\n  street: string\n  city: string\n  country: string\n  admin_area: string\n  unit?: string\n  postal: string\n  country_code: string\n\n  constructor(\n    name?: string,\n    company?: string,\n    number?: string,\n    brand?: string,\n    street?: string,\n    city?: string,\n    country?: string,\n    admin_area?: string,\n    unit?: string,\n    postal?: string,\n    country_code?: string\n\n    ) {\n\n    this.name = name ?? \"\"\n    this.company = company ?? \"\"\n    this.number = number ?? \"\"\n    this.brand = brand ?? \"VISA\"\n    this.street = street ?? \"\"\n    this.city = city ?? \"\"\n    this.country = country ?? \"\"\n    this.admin_area = admin_area ?? \"\"\n    this.postal = postal ?? \"\"\n    this.unit = unit\n    this.country_code = country_code ?? \"\"\n  }\n}","import { Dict } from '../services/load.service'\n\nexport class Blog {\n    uid: string\n    blogItems: Array<Dict<any>> = []\n    timestamp: Date\n    timestampDiff: string\n    isAvailable: boolean\n    title: string\n    coverURl: URL\n    blogID: string\n\n    constructor(\n      uid?: string,  \n      timestamp?: Date, \n      timestampDiff?: string, \n      isAvailable?: boolean,\n      title?: string,\n      blogItems?: Array<Dict<any>>,\n      blogID?: string,\n      blogURL?: string\n      ) {\n\n      this.uid = uid ?? \"\"\n      this.timestamp = timestamp ?? new Date()\n      this.timestampDiff = timestampDiff ?? \"\"\n      this.isAvailable = isAvailable ?? false\n      this.title = title ?? \"My Blog\"\n      this.blogItems = blogItems ?? []\n      this.blogID = blogID ?? \"null\"\n      if (blogURL){\n        this.coverURl = new URL(blogURL as string);\n      }\n      else{\n        this.coverURl = new URL(\"https://shopmythred.com\");\n      }\n    }\n}","\nexport class Color {\n    code: string\n    display: string\n    rgb: Array<number>\n    img?: string\n    imgBack?: string\n\n    constructor(\n      code: string,\n      display: string,\n      rgb: Array<number>,\n      img?: string,\n      imgBack?: string\n      ) {\n\n      this.code = code\n      this.display = display;\n      this.rgb = rgb;\n      this.img = img;\n      this.imgBack = imgBack;\n    }\n}","import { Dict } from '../services/load.service'\n\nexport class Inventory {\n  code: string\n  name: string\n  amount: number\n  timestamp: Date\n  id: string\n  autoReload: boolean\n\n\n  constructor(\n    code: string,\n    name: string,\n    amount: number,\n    timestamp: Date,\n    id: string,\n    autoReload: boolean\n    ) {\n    this.code = code ?? \"\"\n    this.name = name ?? \"\"\n    this.amount = amount ?? 0\n    this.timestamp = timestamp ?? new Date()\n    this.id = id ?? \"\"\n    this.autoReload = autoReload ?? false\n  }\n}","import { Product } from './product.model'\nimport { ProductInCart } from './product-in-cart.model'\nimport { Dict } from '../services/load.service'\nimport { Address } from './address.model'\nimport { ShippingInfo } from './shipping-address.model'\n\nexport class Order {\n\n\n    orderID: string\n    timestamp: Date\n    products: Array<ProductInCart>\n    status: string\n    intents: Array<Dict<string>>\n    shippingIntent?: string\n    shippingCost?: number\n    totalCost: number\n    tax: number\n    subtotal: number\n    address?: ShippingInfo\n    trackingNumber?: string\n    currency: string\n    currencySymbol: string\n    uid: string\n    merchantUID?: string\n\n    constructor(\n      orderID?: string,\n      timestamp?: Date,\n      products?: Array<ProductInCart>,\n      status?: string,\n      intents?: Array<Dict<string>>,\n      totalCost?: number,\n      tax?: number,\n      subtotal?: number,\n      address?: ShippingInfo,\n      currency?: string,\n      currencySymbol?: string,\n      trackingNumber?: string,\n      shippingIntent?: string,\n      shippingCost?: number,\n      uid?: string,\n      merchantUID?: string,\n      ) {\n\n      this.orderID = orderID ?? \"\"\n      this.timestamp = timestamp ?? new Date()\n      this.products = products ?? []\n      this.status = status ?? \"cancelled\"\n      this.intents = intents ?? []\n      this.totalCost = totalCost ?? 0\n      this.tax = tax ?? 0\n      this.subtotal = subtotal ?? 0\n      this.address = address\n      this.currency = currency ?? \"cad\"\n      this.currencySymbol = currencySymbol ?? \"$\"\n      this.trackingNumber = trackingNumber\n      this.shippingIntent = shippingIntent\n      this.shippingCost = shippingCost ?? 0\n      this.uid = uid ?? \"\"\n      this.merchantUID = merchantUID\n\n    }\n}","import { Product } from './product.model'\n\nexport class ProductInCart {\n\n    product?: Product\n    size?: string\n    quantity?: number\n    isDeleted?: boolean\n    timestamp?: Date\n    timestampDiff?: string\n    saleID?: string\n    profit?: number\n\n\n    constructor(\n      product?: Product, \n      size?: string,\n      quantity?: number,\n      isDeleted?: boolean,\n      timestamp?: Date,\n      timestampDiff?: string,\n      saleID?: string,\n      profit?: number\n      ) {\n\n      this.product = product\n      this.size = size ?? \"M\"\n      this.quantity = quantity ?? 1\n      this.isDeleted = isDeleted ?? false\n      this.timestamp = timestamp ?? new Date()\n      this.timestampDiff = timestampDiff ?? \"\"\n      this.saleID = saleID ?? \"\"\n      this.profit = profit ?? 0\n    }\n}","\nexport class Product {\n    uid: string\n    picID: string\n    description: string\n    productID: string\n    timestamp: Date\n    timestampDiff: string\n    blurred: boolean\n    price: number\n    name: string\n    templateColor: string\n    likes: number\n    liked: boolean\n    //designImage: Data!\n    comments: number\n    isAvailable: boolean\n    isPublic: boolean\n    productType: string\n    displaySide: string\n    supportedSides: Array<string>\n    url: URL\n\n\n    getUrl(downloadBack: boolean){\n      if (this.uid){\n        if (downloadBack){\n          return \"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F\" + this.uid + \"%2FProducts%2F\" + this.productID + \"%2FBACK_\" + this.productID + \".png?alt=media\"\n      }\n      return \"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F\" + this.uid + \"%2FProducts%2F\" + this.productID + \"%2F\" + this.productID + \".png?alt=media\"\n      }\n      return undefined\n    }\n\n    constructor(\n      uid?: string, \n      picID?: string, \n      description?: string, \n      productID?: string, \n      timestamp?: Date, \n      timestampDiff?: string, \n      blurred?: boolean, \n      price?: number, \n      name?: string,\n      templateColor?: string,\n      likes?: number,\n      liked?: boolean,\n      comments?: number,\n      isAvailable?: boolean,\n      isPublic?: boolean,\n      productType?: string,\n      displaySide?: string,\n      supportedSides?: Array<string>,\n      url?: string\n      ) {\n\n      this.uid = uid ?? \"\"\n      this.picID = picID ?? \"\"\n      this.description = description ?? \"\"\n      this.productID = productID ?? \"\"\n      this.timestamp = timestamp ?? new Date()\n      this.timestampDiff = timestampDiff ?? \"\"\n      this.blurred = blurred ?? false\n      this.price = price ?? 0\n      this.name = name ?? \"\"\n      this.templateColor = templateColor ?? \"\"\n      this.likes = likes ?? 0\n      this.liked = liked ?? false\n      this.comments = comments ?? 0\n      this.isAvailable = isAvailable ?? false\n      this.isPublic = isPublic ?? false\n      this.productType = productType ?? \"\"\n      this.displaySide = displaySide ?? \"\"\n      this.supportedSides = supportedSides ?? []\n      this.url = new URL(url ?? \"https://shopmythred.com\")\n    }\n}","\nexport class ShippingInfo {\n  name: string\n  company: string\n  street: string\n  city: string\n  country: string\n  admin_area: string\n  unit?: string\n  postal: string\n  phone_num: string\n  country_code: string\n  email: string\n\n  constructor(\n    name?: string,\n    company?: string,\n    street?: string,\n    city?: string,\n    country?: string,\n    admin_area?: string,\n    unit?: string,\n    postal?: string,\n    phone_num?: string,\n    country_code?: string,\n    email?: string\n\n    ) {\n\n    this.name = name ?? \"\"\n    this.company = company ?? \"\"\n    this.street = street ?? \"\"\n    this.city = city ?? \"\"\n    this.country = country ?? \"\"\n    this.admin_area = admin_area ?? \"\"\n    this.postal = postal ?? \"\"\n    this.phone_num = phone_num ?? \"\"\n    this.unit = unit\n    this.country_code = country_code ?? \"\"\n    this.email = email ?? \"\"\n\n  }\n}","\nexport class Country {\n  name: string\n  flag: string\n  name_full: string\n  currency_name: string\n  currency_symbol: string\n  rate: number\n  is_main_currency: boolean\n  shipping_rate_usd: number\n\n  constructor(\n    name?: string,\n    flag?: string,\n    name_full?: string,\n    currency_name?: string,\n    currency_symbol?: string,\n    rate?: number,\n    is_main_currency?: boolean,\n    shipping_rate_usd?: number\n\n    ) {\n\n    this.name = name ?? \"\"\n    this.name_full = name_full ?? \"\"\n    this.flag = flag ?? \"\";\n    this.currency_name = currency_name ?? \"\";\n    this.currency_symbol = currency_symbol ?? \"\";\n    this.rate = rate ?? 1;\n    this.is_main_currency = is_main_currency ?? false;\n    this.shipping_rate_usd = shipping_rate_usd ?? 0\n  }\n}","\nexport class StoreDomain {\n  host: string\n  protocol: string\n  status: number\n  txt: string\n\n  fullURL(){\n    return this.protocol + \"://\" + this.host\n  }\n\n  constructor(\n    host: string,\n    protocol: string,\n    status: number,\n    txt: string\n  ) {\n\n    this.host = host ?? \"\"\n    this.protocol = protocol ?? \"\";\n    this.status = status ?? 1;\n    this.txt = txt;\n  }\n}","import { Dict } from '../services/load.service'\nimport { StoreTheme } from './theme.model'\nimport { StoreDomain } from './store-domain.model'\n\nimport { Globals } from '../globals'\n\nexport class Store {\n    uid?: string\n    dpID?: string\n    username?: string\n    fullName?: string\n    bio?: string\n    notifID?: string\n    userFollowing?: Array<string>\n    userLiked?: Array<string>\n    followerCount?: number\n    postCount?: number\n    followingCount?: number\n    usersBlocking?: Array<string>\n    //designImage: Data!\n    profileLink?: URL\n    verified?: boolean\n    isPublic?: boolean\n    postNotifsList: Array<string>\n    slogan?: string\n    loading?: Dict<any>\n    themeLink?: URL\n    homeLink?: URL\n    actionLink?: URL\n    colorStyle: StoreTheme\n    fontName?: string\n    socials?: Array<{\n      name: string,\n      link: string\n    }>\n    customURL?: StoreDomain\n\n\n    constructor(\n      uid?: string, \n      dpID?: string,\n      username?: string,\n      fullName?: string,\n      bio?: string,\n      notifID?: string,\n      userFollowing?: Array<string>,\n      userLiked?: Array<string>,\n      followerCount?: number,\n      postCount?: number,\n      followingCount?: number,\n      usersBlocking?: Array<string>,\n      profileLink?: string,\n      verified?: boolean,\n      isPublic?: boolean,\n      postNotifsList?: Array<string>,\n      slogan?: string,\n      loading?: Dict<any>,\n      themeLink?: string,\n      homeLink?: string,\n      actionLink?: string,\n      colorStyle?: StoreTheme,\n      fontName?: string,\n      socials?: Array<{\n        name: string,\n        link: string\n      }>,\n      customURL?: StoreDomain\n      ) {\n\n      this.uid = uid\n      this.dpID = dpID;\n      this.username = username;\n      this.fullName = fullName;\n      this.bio = bio;\n      this.notifID = notifID;\n      this.userFollowing = userFollowing;\n      this.userLiked = userLiked;\n      this.followerCount = followerCount;\n      this.postCount = postCount;\n      this.followingCount = followingCount;\n      this.usersBlocking = usersBlocking;\n      if (profileLink){\n        this.profileLink = new URL(profileLink as string ?? \"\");\n      }\n      if (themeLink){\n        this.themeLink = new URL(themeLink as string ?? \"\");\n      }\n      if (homeLink){\n        this.homeLink = new URL(homeLink as string ?? \"\");\n      }\n      if (actionLink){\n        this.actionLink = new URL(actionLink as string ?? \"\");\n      }\n\n      this.verified = verified;\n      this.isPublic = isPublic\n      this.postNotifsList = postNotifsList as Array<string>\n      this.slogan = slogan ?? fullName ?? \"\"\n\n\n\n      this.loading = loading ?? {\n        name: \"ball-clip-rotate-pulse\",\n        color: [100.0, 100.0, 100.0, 1],\n        bg_color: [255.0, 255.0, 255.0, 0.98]\n      }\n\n      this.colorStyle = colorStyle ?? new StoreTheme('Light','light','dark',[255.0, 255.0, 255.0, 1],[10.0, 10.0, 10.0, 1])\n      this.fontName = fontName ?? 'Montserrat'//\"Roboto\"\n      // this.colorStyle = colorStyle ?? new StoreTheme('Dark','dark','light',[10.0, 10.0, 10.0, 1],[255.0, 255.0, 255.0, 1])\n\n      // this.colorStyle = colorStyle ?? new StoreTheme('Red','light','dark',[255.0, 0.0, 0.0, 1],[10.0, 10.0, 10.0, 1])\n\n      let s: {\n        name: string;\n        link: string;\n      }[] = []\n\n      if (socials != undefined && socials.length != 0){\n        Globals.socials.forEach( social => {\n          let same = socials.filter(obj => {\n            return obj.name == social.name\n          })\n          if (same && same.length != 0){\n            s.push(same[0])\n          }\n        })\n\n        this.socials = s\n      }\n      this.customURL = customURL\n    }\n}","\nexport class TemplateSide {\n  name: string\n  heightCM: number\n  widthCM: number\n  widthMultiplier: number\n  centerYConst: number\n  centerXConst: number\n\n  useReverseAspect: Boolean\n  rotation: number\n\n  aspectRatio() {\n    if (this.useReverseAspect){\n        return this.widthCM / this.heightCM\n    }\n    return this.heightCM / this.widthCM\n  }\n\n  reversedAspectRatio() {\n    return this.widthCM / this.heightCM\n  } \n\n  regularAspectRatio() {\n    return this.heightCM / this.widthCM\n  }\n\n  constructor(\n    name: string,\n    heightCM: number,\n    widthCM: number,\n    widthMultiplier: number,\n    centerYConst: number,\n    centerXConst: number,\n    useReverseAspect: Boolean,\n    rotation: number\n\n    ) {\n\n    this.name = name\n    this.heightCM = heightCM;\n    this.widthCM = widthCM;\n    this.widthMultiplier = widthMultiplier;\n    this.centerYConst = centerYConst;\n    this.centerXConst = centerXConst;\n    this.useReverseAspect = useReverseAspect;\n    this.rotation = rotation;\n  }\n}","import { Color } from './color.model'\nimport { TemplateSide } from './template-side.model'\n\nexport class Template {\n  templateID: string\n  templateDisplayName: string\n  info: string\n  colors: Array<Color>\n  sizes: Array<string>\n  minPrice: number\n  productCode: string\n  category: string\n  moreInfo: string\n  isDiscount: boolean\n  supportedSides: Array<TemplateSide>\n  extraCost: number\n  bulkPrice: number\n  bulkUnit: number\n  bulkSuggestPrice: number\n  onlyBulk: boolean\n  has3D: boolean\n\n  constructor(\n    templateID?: string,\n    templateDisplayName?: string,\n    info?: string,\n    colors?: Array<Color>,\n    sizes?: Array<string>,\n    minPrice?: number,\n    productCode?: string,\n    category?: string,\n    moreInfo?: string,\n    isDiscount?: boolean,\n    supportedSides?: Array<TemplateSide>,\n    extraCost?: number,\n    bulkPrice?: number,\n    bulkUnit?: number,\n    bulkSuggestPrice?: number,\n    onlyBulk?: boolean,\n    has3D?: boolean\n    ) {\n\n    this.templateID = templateID ?? \"\"\n    this.templateDisplayName = templateDisplayName ?? \"\";\n    this.info = info ?? \"\";\n    this.colors = colors ?? [];\n    this.sizes = sizes ?? [];\n    this.minPrice = minPrice ?? 0;\n    this.productCode = productCode ?? \"ATC1000\";\n    this.category = category ?? \"\";\n    this.moreInfo = moreInfo ?? \"\";\n    this.isDiscount = isDiscount ?? false;\n    this.supportedSides = supportedSides ?? []\n    this.extraCost = extraCost ?? 0;\n    this.bulkPrice = bulkPrice ?? 0\n    this.bulkUnit = bulkUnit ?? 0\n    this.bulkSuggestPrice = bulkSuggestPrice ?? 0\n    this.onlyBulk = onlyBulk ?? false\n    this.has3D = has3D ?? false;\n  }\n}","\nexport class StoreTheme {\n  name: string\n  back_code: string\n  text_code: string\n  bg_color: Array<number>\n  btn_color: Array<number> \n  constructor(\n    name: string,\n    back_code: string,\n    text_code: string,\n    bg_color: Array<number>,\n    btn_color: Array<number>,\n    ) {\n\n    this.name = name ?? \"\"\n    this.back_code = back_code ?? \"\";\n    this.text_code = text_code ?? \"\";\n    this.bg_color = bg_color ?? [];\n    this.btn_color = btn_color ?? [];\n\n  }\n}","<div class=\"w-100\">\n    <h3 class=\"text-center fw-bolder m-2\">{{title}}</h3>\n    <p class=\"text-center fw-bolder mx-2 mt-2\">{{message}}</p>\n    <div class=\"px-2 w-100\">\n        <img *ngIf=\"img != undefined\" src=\"{{img}}\" class=\"rounded w-100 aspect-ratio\" style=\"object-fit: contain;\"> \n    </div>\n    <div class=\"d-flex justify-content-center align-items-center m-2\">\n        <a role=\"button\" (click)=\"dismiss(false)\" class=\"btn flex-fill btn-danger me-1\">{{noBtn}}</a>\n        <a role=\"button\" (click)=\"dismiss(true)\" class=\"btn flex-fill btn-dark ms-1\">{{yesBtn}}</a>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-popup-dialog',\n  templateUrl: './popup-dialog.component.html',\n  styleUrls: ['./popup-dialog.component.css']\n})\nexport class PopupDialogComponent implements OnInit {\n\n  title = \"Popup Title\"\n  message = \"This is the message\"\n  img?: string\n\n  yesBtn = \"Yes\"\n  noBtn = \"No\"\n\n  constructor(private activeModal: NgbActiveModal) { }\n\n  dismiss(success: boolean){\n    this.activeModal.dismiss({Success: success})\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\nimport { AngularFirestore, DocumentData } from '@angular/fire/firestore';\nimport { AngularFireAuth, } from '@angular/fire/auth';\nimport firebase from 'firebase/app';\nimport { Product } from '../models/product.model';\nimport { Template } from '../models/template.model';\nimport { TemplateSide } from '../models/template-side.model';\nimport { Color } from '../models/color.model';\nimport { Country } from '../models/shipping-country.model';\nimport { Globals } from '../globals';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Blog } from '../models/blog.model';\nimport { first, skip, map } from 'rxjs/operators';\nimport { ProductInCart } from '../models/product-in-cart.model';\nimport { ShippingInfo } from '../models/shipping-address.model';\nimport { BillingInfo } from '../models/billing-address.model';\nimport { Inventory } from '../models/inventory.model';\n\nimport { AngularFireFunctions } from '@angular/fire/functions';\nimport { AngularFireStorage } from '@angular/fire/storage';\n\nimport { v4 as uuid } from 'uuid';\nimport { StripeService, StripeCardComponent } from 'ngx-stripe';\n\nimport { Order } from '../models/order.model';\nimport { Store } from '../models/store.model';\nimport {\n  MatSnackBar,\n  MatSnackBarHorizontalPosition,\n  MatSnackBarVerticalPosition,\n} from '@angular/material/snack-bar';\nimport { StoreTheme } from '../models/theme.model';\nimport { ShopComponent } from '../shop/shop.component';\nimport { AdminViewComponent } from '../admin-view/admin-view.component';\nimport { HomeComponent } from '../home/home.component';\nimport { AppComponent } from '../app.component';\nimport { StoreDomain } from '../models/store-domain.model';\n\n\n\nexport interface Dict<T> {\n  [key: string]: T;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class LoadService {\n\n  constructor(@Inject(PLATFORM_ID) \n  private platformID: Object,\n  private db: AngularFirestore,\n  private auth: AngularFireAuth,\n  private functions: AngularFireFunctions,\n  private storage: AngularFireStorage,\n  private stripeService: StripeService,\n  private snackBar: MatSnackBar,\n  ) { \n  }\n\n  rootComponent?: AppComponent\n\n\n  public myCallback: {\n    (): void;\n  } | undefined;\n\n  public orderCallback: {\n    (orderNum: string, intent: string): void;\n  } | undefined;\n\n  public saleCallback: {\n    (): void;\n  } | undefined;\n\n  public miscCallback: {\n    (): void;\n  } | undefined;\n\n  public errCallback: {\n    (message: string): void;\n  } | undefined;\n\n  isShop = false\n  hideCart = false\n  shouldShowCurrency = false\n\n  logView(){\n    if (!(Globals.didLog) && Globals.storeInfo.uid){\n      Globals.didLog = true\n      this.functions.httpsCallable(\"updateView\")({storeUID: Globals.storeInfo.uid!})\n      .pipe(first())\n      .subscribe(async resp => {\n        \n        if (resp as string){\n\n        }\n        else {\n\n        }\n      }, err => {\n        console.error({ err });\n      });\n    }\n  }\n\n\n  beginBankAdd(callback: (link: string) => any){\n\n\n    this.functions.httpsCallable(\"getExpressCreateLink\")({})\n      .pipe(first()).subscribe(async resp => {\n        \n        if (resp as string){\n          console.log(resp);\n\n          callback(resp)\n        }\n      \n    }, err => {\n        console.error({ err });\n    });\n  }\n\n  async getBankInfo(callback: (bankInfo: any) => any){\n    let uid = (await this.isLoggedIn())?.uid\n    let sub = this.db.collection(\"Users/\" + uid + \"/Payment_Info\").doc(\"Identifiers\").valueChanges().subscribe((doc) => {\n      let docData = doc as DocumentData\n\n      if (docData){\n        let activeMerchant = docData.activeMerchant as boolean\n        let merchantID = docData.merchant_id as string\n\n\n\n        if (activeMerchant && merchantID){\n          this.functions.httpsCallable('getBankInfo')({}).pipe(first()).subscribe(resp => {  \n      \n            callback(resp)\n          }, err => {\n            callback(undefined)\n            console.error({ err });\n          });\n        }\n        else{\n          callback(undefined)\n        }\n      }\n      else{\n        callback(undefined)\n      }\n      if (isPlatformBrowser(this.platformID))\n      sub.unsubscribe();\n    })\n  }\n\n  async getSubInfo(callback: (subInfo: any, canTrial?: boolean) => any){\n    let uid = (await this.isLoggedIn())?.uid\n    let sub = this.db.collection(\"Users/\" + uid + \"/Payment_Info\").doc(\"Identifiers\").valueChanges().subscribe((doc) => {\n      let docData = doc as DocumentData\n\n      if (docData){\n        let plan_id = docData.plan_id as string\n        let can_trial = docData.canTrial as boolean ?? true\n        if (plan_id && plan_id != \"\"){\n          this.functions.httpsCallable('getSubInfo')({}).pipe(first()).subscribe(resp => {  \n            callback(resp)\n          }, err => {\n            callback(undefined, can_trial)\n            console.error({ err });\n          });\n        }\n        else{\n          if (!can_trial){\n            callback(undefined, false)\n          }\n        }\n      }\n      else{\n        callback(undefined, true)\n      }\n      if (isPlatformBrowser(this.platformID))\n      sub.unsubscribe();\n    })\n  }\n\n\n  async getInventory(callback: (inventory: Array<Inventory>) => any){\n    let uid = (await this.isLoggedIn())?.uid\n    let sub = this.db.collection(\"Users/\" + uid + \"/Inventory\").valueChanges({idField: 'inventoryID'}).subscribe((docDatas) => {\n\n      let totalInventory = new Array<Inventory>()\n\n      docDatas.forEach((doc) => {\n        let docData = doc as DocumentData\n        if (docData){\n          let amt = docData.amount as number\n          let code = docData.id as string\n          let id = docData.inventoryID as string\n          let autoReload = docData.auto_reload as boolean ?? false\n\n          let timestamp = (docData.timestamp as firebase.firestore.Timestamp).toDate()\n\n          let name = Globals.templates.filter(obj => {\n            return obj.productCode == code\n          })[0].templateDisplayName\n\n          let inventory = new Inventory(code, name, amt, timestamp, id, autoReload)\n          totalInventory.push(inventory)\n        }\n        if (isPlatformBrowser(this.platformID))\n        sub.unsubscribe();\n      })     \n      callback(totalInventory) \n    })\n  }\n\n  async setAutoReload(inventory: Inventory, callback: (completed: boolean) => any){\n    let uid = (await this.isLoggedIn())?.uid\n    await this.db.collection(\"Users/\" + uid + \"/Inventory\").doc(inventory.id).update({auto_reload : true})\n    callback(true)\n  }\n\n  async removeAutoReload(inventory: Inventory, callback: (completed: boolean) => any){\n    let uid = (await this.isLoggedIn())?.uid\n    await this.db.collection(\"Users/\" + uid + \"/Inventory\").doc(inventory.id).update({auto_reload : false})\n    callback(true)\n  }\n\n  getCountries(){\n\n    let sub = this.db.collection(\"Print_Info\").doc(\"Shipping_Info\").valueChanges().subscribe((docData) => {\n\n        const data = docData as DocumentData\n\n        const usShipping = Math.round(data.shipping_rate_us * 100)\n        const caShipping = Math.round(data.shipping_rate_canada * 100)\n        const intlShipping = Math.round(data.shipping_rate_intl * 100)\n\n        const currencies = data.supportedCurrencies as Array<Dict<any>>\n\n        Globals.availableCurrencies = []\n\n        currencies.forEach((currency) => {\n\n          const name = currency.country\n          const flag = currency.flag\n          const currency_name = currency.name\n          const rate = currency.rate\n          const is_main_currency = currency.is_main_currency\n          const symbol = currency.symbol\n          const name_full = currency.country_full\n\n          const country = new Country(\n            name,\n            flag,\n            name_full,\n            currency_name,\n            symbol,\n            rate,\n            is_main_currency,\n            0\n          )\n\n\n          if (name == \"CA\"){\n            country.shipping_rate_usd = caShipping\n          }\n          else if (name == \"US\"){\n            country.shipping_rate_usd = usShipping\n            Globals.selectedCurrency = country\n          }\n          else{\n            country.shipping_rate_usd = intlShipping\n          }\n\n          if (!Globals.availableCurrencies?.includes(country)){\n            Globals.availableCurrencies.push(country)\n          }\n\n        })\n\n\n        Globals.availableCurrencies.sort(function(a, b){\n          if(a.name < b.name) { return -1; }\n          if(a.name > b.name) { return 1; }\n          return 0;\n        })\n\n        if (isPlatformBrowser(this.platformID)){\n          let cacheCurrency = localStorage.getItem(\"LOCAL_CURRENCY\")\n\n          if (cacheCurrency && cacheCurrency != null && cacheCurrency != \"\"){\n            Globals.selectedCurrency = Globals.availableCurrencies.find(currency => currency.currency_name == cacheCurrency)\n          }\n          else{\n            Globals.selectedCurrency = Globals.availableCurrencies.find(currency => currency.currency_name == \"USD\")\n          }\n        }\n\n        if (this.myCallback)\n          this.myCallback()\n        if (isPlatformBrowser(this.platformID))\n        sub.unsubscribe();\n    })\n  }\n\n  getUser(username?: string, uid?: string, isCustom = false) {\n\n    var query = this.db.collection(\"Users\", ref => ref.where(\"Username\",'==', username))\n\n    if (uid){\n      query = this.db.collection(\"Users\", ref => ref.where(firebase.firestore.FieldPath.documentId(),'==', uid))\n    }\n    if (isCustom){\n      query = this.db.collection(\"Users\", ref => ref.where(\"Custom_URL.host\",'==', username).where(\"Custom_URL.status\",'==', 2))\n    }\n\n\n    let sub = query.valueChanges({idField: 'UID'}).subscribe((doc) => {\n    \n        let docData = doc[0] as DocumentData\n\n        if (docData){\n          let uid = docData.UID //UID OF COMMENT IMAGE\n          let dpUID = docData[\"ProfilePicID\"] as string //UID OF COMMENT IMAGE\n          let username = docData[\"Username\"] as string //COMMENTER'S USERNAME\n          let fullName = docData[\"Full_Name\"] as string\n          let bio = docData[\"Bio\"] as string\n          let notifID = docData[\"Notification ID\"] as string\n          let userFollowing = (docData[\"Following_List\"] as Array<string>) ?? []\n          let usersBlocking = (docData[\"Users_Blocking\"] as Array<string>) ?? []\n          let followerCount = (docData[\"Followers_Count\"] as number) ?? 0\n          let followingCount = (docData[\"Following_Count\"] as number) ?? 0\n          let postCount = (docData[\"Posts_Count\"] as number) ?? 0\n          let verified = docData[\"Verified\"] as boolean ?? false\n          let postNotifs = docData[\"Post_Notifications\"] as Array<string> ?? []\n          let isPublic = docData[\"Public\"] as boolean ?? true\n          let slogan = docData[\"Slogan\"] as string\n          let loading = docData[\"indicator\"] as Dict<any>\n          let style = docData[\"store_style\"] as Dict<any>\n          let font = docData[\"font\"] as string\n          let socials = docData[\"Socials\"] as Array<{ name: string; link: string; }>\n          let custom_url = docData[\"Custom_URL\"] as Dict<any> ?? {}\n\n          let host = custom_url.host as string\n          let protocol = custom_url.protocol as string\n          let status = custom_url.status as number\n          let txt = custom_url.txt as string\n\n          let finalURL = new StoreDomain(\n            host,\n            protocol,\n            status,\n            txt\n          )\n\n          Globals.storeInfo = new Store(uid, dpUID, username, fullName, bio, notifID, userFollowing, [], followerCount, postCount, followingCount, usersBlocking, this.getProfileURL(uid, dpUID), verified, isPublic, postNotifs, slogan, undefined, this.getDefaultURL(), this.getDefaultURL(), this.getDefaultURL(), undefined, font, socials, finalURL)\n\n\n          let list = docData[\"image_list\"] as Array<string> ?? []\n\n          list.forEach(type =>{\n            if (type == 'theme'){\n              Globals.storeInfo!.themeLink = new URL(this.getThemeURL(uid))\n            }\n            else if (type == 'home'){\n              Globals.storeInfo!.homeLink = new URL(this.getHomeURL(uid))\n            }\n            else if (type == 'action'){\n              Globals.storeInfo!.actionLink = new URL(this.getActionURL(uid))\n            }\n          })\n\n\n\n\n          if (loading?.name){\n            Globals.storeInfo.loading!.name = loading?.name\n          }\n          if (loading?.color){\n            Globals.storeInfo.loading!.color = this.parseColor(loading.color)\n          }\n          if (loading?.bg_color){\n            Globals.storeInfo.loading!.bg_color = this.parseColor(loading.bg_color)\n          }\n\n          if (style){\n            Globals.storeInfo.colorStyle = new StoreTheme(style?.name, style?.back_code, style?.text_code, this.parseColor(style?.bg_color), this.parseColor(style?.btn_color))\n          }\n        }\n        else{\n          Globals.storeInfo.uid = \"\"\n        }\n\n        if (this.myCallback)\n          this.myCallback()\n        if (isPlatformBrowser(this.platformID)){\n          this.rootComponent?.getCart()\n          sub.unsubscribe();\n        }\n    });\n  }\n\n  parseColor(color?: string){\n\n    var finalArr = new Array<number>()\n\n    color?.split(\",\").forEach( color => {\n      finalArr.push(Number(color.trim()))\n    })\n    return finalArr\n  }\n\n  async getCustomer() {\n\n    Globals.userInfo = new Store()\n\n    let uid = (await this.isLoggedIn())?.uid\n\n\n\n    if (uid){\n      let sub = this.db.collection(\"Users\").doc(uid).valueChanges({idField: 'UID'}).subscribe((doc) => {\n        let docData = doc as DocumentData\n\n        if (docData){\n          let uid = docData.UID //UID OF COMMENT IMAGE\n          let dpUID = docData[\"ProfilePicID\"] as string //UID OF COMMENT IMAGE\n          let username = docData[\"Username\"] as string //COMMENTER'S USERNAME\n          let fullName = docData[\"Full_Name\"] as string\n          let bio = docData[\"Bio\"] as string\n          let notifID = docData[\"Notification ID\"] as string\n          let userFollowing = (docData[\"Following_List\"] as Array<string>) ?? []\n          let usersBlocking = (docData[\"Users_Blocking\"] as Array<string>) ?? []\n          let followerCount = (docData[\"Followers_Count\"] as number) ?? 0\n          let followingCount = (docData[\"Following_Count\"] as number) ?? 0\n          let postCount = (docData[\"Posts_Count\"] as number) ?? 0\n          let verified = docData[\"Verified\"] as boolean ?? false\n          let postNotifs = docData[\"Post_Notifications\"] as Array<string> ?? []\n          let isPublic = docData[\"Public\"] as boolean ?? true\n          let slogan = docData[\"Slogan\"] as string\n          let style = docData[\"store_style\"] as Dict<any>\n          let font = docData[\"font\"] as string\n          let socials = docData[\"Socials\"] as Array<{ name: string; link: string; }>\n          let custom_url = docData[\"Custom_URL\"] as Dict<any> ?? {}\n\n          let host = custom_url.host as string\n          let protocol = custom_url.protocol as string\n          let status = custom_url.status as number\n          let txt = custom_url.txt as string\n\n          let finalURL = new StoreDomain(\n            host,\n            protocol,\n            status,\n            txt\n          )\n\n\n          let loading = docData[\"indicator\"] as Dict<any>\n\n          Globals.userInfo = new Store(uid, dpUID, username, fullName, bio, notifID, userFollowing, [], followerCount, postCount, followingCount, usersBlocking, this.getProfileURL(uid, dpUID), verified, isPublic, postNotifs, slogan, undefined, this.getDefaultURL(), this.getDefaultURL(), this.getDefaultURL(), undefined, font, socials, finalURL)\n\n\n          let list = docData[\"image_list\"] as Array<string> ?? []\n\n          list.forEach(type =>{\n            if (type == 'theme'){\n              Globals.userInfo!.themeLink = new URL(this.getThemeURL(uid))\n            }\n            else if (type == 'home'){\n              Globals.userInfo!.homeLink = new URL(this.getHomeURL(uid))\n            }\n            else if (type == 'action'){\n              Globals.userInfo!.actionLink = new URL(this.getActionURL(uid))\n            }\n          })\n\n\n\n\n          if (loading?.name){\n            Globals.userInfo.loading!.name = loading?.name\n          }\n          if (loading?.color){\n            Globals.userInfo.loading!.color = this.parseColor(loading.color)\n          }\n          if (loading?.bg_color){\n            Globals.userInfo.loading!.bg_color = this.parseColor(loading.bg_color)\n          }\n\n          if (style){\n            Globals.userInfo.colorStyle = new StoreTheme(style?.name, style?.back_code, style?.text_code, this.parseColor(style?.bg_color), this.parseColor(style?.btn_color))\n          }\n\n          if (this.myCallback)\n          this.myCallback()\n          if (isPlatformBrowser(this.platformID))\n          sub.unsubscribe();\n        }\n      });\n    }\n    else{\n      if (this.myCallback)\n          this.myCallback()\n    }\n  }\n\n  getThemes(){\n\n    Globals.themes = []\n\n\n\n    var query = this.db.collection(\"Store_Themes\", ref => ref.orderBy(\"index\", \"asc\"))\n    \n    let sub = query.valueChanges().subscribe((docDatas) => {\n      docDatas.forEach((doc) => {\n  \n        let docData = doc as DocumentData\n  \n        if (docData){\n          let name = docData.name as string\n          let btn_color = docData.btn_color as string\n          let bg_color = docData.bg_color as string\n          let back_code = docData.back_code as string\n          let text_code = docData.text_code as string\n\n          let theme = new StoreTheme(\n            name,\n            back_code,\n            text_code,\n            this.parseColor(bg_color),\n            this.parseColor(btn_color)\n          )\n\n          Globals.themes?.push(theme);\n        }\n      });\n      if (this.myCallback)\n          this.myCallback()\n      if (isPlatformBrowser(this.platformID))\n        sub.unsubscribe();\n    });\n  }\n  \n  \n  getPosts(callback: (products: Array<Product>) => any, filterID?:string, uid = Globals.storeInfo.uid){\n\n\n    const time = firebase.firestore.Timestamp.now()\n\n\n    var query = this.db.collection(\"Users/\" + uid + \"/Products\", ref => ref.where(\"Timestamp\",'<=', time).where(\"Has_Picture\",'==', true).where(\"Available\",'==', true).where(\"Public\",'==', true).orderBy(\"Timestamp\", \"desc\"))\n\n    if (filterID){\n      query = this.db.collection(\"Users/\" + uid + \"/Products\", ref => ref.where(\"Timestamp\",'<=', time).where(\"Type\",'==', filterID).where(\"Available\",'==', true).where(\"Public\",'==', true).orderBy(\"Timestamp\", \"desc\"))\n    }\n    \n    let sub = query.get().subscribe(docDatas => {\n      var products = new Array<Product>()\n\n      docDatas.docs.forEach((doc) => {\n        let docData = doc.data() as DocumentData\n        \n        if (docData){\n          let uid = docData.UID as string\n          let productID = docData.Product_ID as string\n          let timestamp = (docData.Timestamp as firebase.firestore.Timestamp).toDate()\n          let description = docData.Description as string\n          let name = docData.Name as string\n  \n          let blurred = docData.Blurred as boolean\n          let templateColor = docData.Template_Color as string\n  \n          let likes = docData.Likes as number\n  \n          let priceCents = docData.Price_Cents as number\n          let comments = docData.Comments as number\n          let isPublic = docData.Public as boolean ?? true\n          let productType = docData.Type as string ?? \"ATC1000\"\n          let displaySide = docData.Side as string ?? \"front\"\n          let sides = docData[\"Sides\"] as Array<string> ?? [\"Front\"]\n  \n\n  \n          let product = new Product(\n            uid, \n            productID, \n            description, \n            productID, \n            timestamp, \n            \"\", \n            blurred, \n            priceCents, \n            name, \n            templateColor, \n            likes, \n            false, \n            comments, \n            true, \n            isPublic, \n            productType, \n            displaySide, \n            sides,\n            this.getURL(uid, productID)\n          )\n\n            products.push(product);\n          \n        }\n      });\n      if (!filterID){\n        Globals.availableTemplates = this.getTemplatesFiltered(products)\n      }\n      products.sort(function(a, b){\n        if(a.timestamp > b.timestamp) { return -1; }\n        if(a.timestamp < b.timestamp) { return 1; }\n        return 0;\n      })\n      if (isPlatformBrowser(this.platformID)){\n        sub.unsubscribe()\n      }\n      callback(products)\n    })\n  }\n\n  shopComponent?: ShopComponent\n  adminComponent?: AdminViewComponent\n  homeComponent?: HomeComponent\n\n  setFilterProducts(products: Array<Product>){\n    if (this.shopComponent)\n    this.shopComponent.storeProducts = products\n  }\n\n\n  addProduct(product: Product){\n    if (this.shopComponent)\n    this.shopComponent.storeProducts?.unshift(product)\n\n    if (this.adminComponent)\n    this.adminComponent.storeProducts?.unshift(product)\n\n    if (this.homeComponent)\n    this.homeComponent.storeProducts?.unshift(product)\n  }\n\n  editProduct(product: Product){\n\n    if (this.shopComponent){\n      let p = this.shopComponent.storeProducts?.filter(obj => {\n        return obj.productID == product.productID\n      })[0] as Product\n  \n      p.name = product.name\n      p.description = product.description\n      p.price = product.price\n    }\n\n    if (this.adminComponent){\n      let p = this.adminComponent.storeProducts?.filter(obj => {\n        return obj.productID == product.productID\n      })[0] as Product\n  \n      p.name = product.name\n      p.description = product.description\n      p.price = product.price\n    }\n\n    if (this.homeComponent){\n      let p = this.homeComponent.storeProducts?.filter(obj => {\n        return obj.productID == product.productID\n      })[0] as Product\n  \n      p.name = product.name\n      p.description = product.description\n      p.price = product.price\n    }\n  }\n\n\n  removeProduct(product: Product){\n\n    if (this.shopComponent){\n      let p = this.shopComponent.storeProducts?.filter(obj => {\n        return obj.productID == product.productID\n      })[0] as Product\n  \n      let index = this.shopComponent.storeProducts?.indexOf(p)\n      if (index){\n        this.shopComponent.storeProducts?.splice(index,1)\n      }\n    }\n\n    if (this.adminComponent){\n      let p = this.adminComponent.storeProducts?.filter(obj => {\n        return obj.productID == product.productID\n      })[0] as Product\n  \n      let index = this.adminComponent.storeProducts?.indexOf(p)\n      if (index){\n        this.adminComponent.storeProducts?.splice(index,1)\n      }\n    }\n\n    if (this.homeComponent){\n      let p = this.homeComponent.storeProducts?.filter(obj => {\n        return obj.productID == product.productID\n      })[0] as Product\n  \n      let index = this.homeComponent.storeProducts?.indexOf(p)\n      if (index){\n        this.homeComponent.storeProducts?.splice(index,1)\n      }\n    }\n  }\n\n  getBlogs(filterID?:string){\n\n    Globals.blogs = []\n\n    const time = firebase.firestore.Timestamp.now()\n\n\n    var query = this.db.collection(\"Users/\" + Globals.storeInfo.uid + \"/Blogs\", ref => ref.where(\"Timestamp\",'<=', time).where(\"isAvailable\",'==', true).orderBy(\"Timestamp\", \"desc\"))\n    \n    let sub = query.valueChanges({idField : \"Blog_ID\"}).subscribe((docDatas) => {\n      docDatas.forEach((doc) => {\n  \n        let docData = doc as DocumentData\n  \n        if (docData){\n          let uid = docData.UID as string\n          let title = docData.Title as string\n          let timestamp = (docData.Timestamp as firebase.firestore.Timestamp).toDate()\n          let isAvailable = docData.isAvailable as boolean\n          let blogID = docData.Blog_ID as string\n          let blogItems = docData.Blog_Items as Array<Dict<any>>\n          let coverURL = docData.Cover_URL as string\n\n\n          let blog = new Blog(uid, timestamp, \"\", isAvailable, title, blogItems, blogID, coverURL)\n\n          Globals.blogs.push(blog);\n        }\n      });\n      \n      if (this.myCallback)\n          this.myCallback()\n      if (isPlatformBrowser(this.platformID))\n        sub.unsubscribe();\n    });\n  }\n\n  hasEmptyProperties(obj: any, ignoreKeys: Array<string>) {\n    for (var key in obj) {\n      if (ignoreKeys.includes(key)){\n        continue\n      }\n      if (obj[key] == null || obj[key] == \"\" || obj[key] == undefined){\n        return true;\n      }\n    }\n    return false;\n  }\n\n  async linkAddress(callback: (err?: any) => any){\n\n    let uid = (await this.isLoggedIn())?.uid\n\n    \n    let shipping = Globals.shippingInfo\n\n\n    if (uid && shipping && this.hasEmptyProperties(shipping, [\"unit\", \"company\", \"country_code\"])){return}\n\n\n    let email = shipping!.email\n\n    if (((await this.isLoggedIn())?.isAnonymous)){\n      let fData = {\n        email: email,\n      }\n      this.functions.httpsCallable('updateAuth')(fData)\n      .pipe(first())\n      .subscribe(async resp => {\n        \n        if (typeof resp == \"string\"){\n          await this.setAddress(uid!)\n          this.auth.signInWithEmailAndPassword(email, resp).then(() => {\n            // Signed in..\n            callback()\n          }).catch((error) => {\n              var errorCode = error.code;\n              var errorMessage = error.message;\n              console.log(errorMessage)\n              callback(\"An error occured, please try again.\")\n              // if (this.myCallback) \n              // this.myCallback()\n          });\n        }\n        else {\n          //error\n          console.log(resp)\n          if (resp.errorInfo.code == \"auth/email-already-exists\"){\n              console.log(\"This email address is being used by another account.\")\n              //show popup ******\n              callback(\"Your email is being used by another Guest order.\")\n          }\n          else{\n            console.log(resp.errorInfo.code)\n\n            callback(\"An error occured, please try again.\")\n          }\n        }\n      }, err => {\n        console.error({ err });\n      });\n    }\n    else{\n      await this.setAddress(uid!)\n      callback()\n    }\n  }\n\n  async setAddress(uid: string){\n    let shipping = Globals.shippingInfo\n\n    let data = {\n      Administrative_Area: shipping?.admin_area,\n      City: shipping?.city,\n      Country: shipping?.country,\n      First_Name: shipping?.name.split(' ').slice(0, -1).join(' '),\n      Last_Name: shipping?.name.split(' ').slice(-1).join(' '),\n      Phone_Num: shipping?.phone_num,\n      Email: shipping?.email,\n      Postal_Code: shipping?.postal,\n      Street: shipping?.street,\n      Company: shipping?.company ?? \"\",\n      Unit_Number: shipping?.unit ?? \"\"\n    }\n\n\n    if (uid){\n      await this.db.collection(\"Users/\" + uid + \"/Payment_Info\").doc(\"Delivery_Address\").set(data)\n    }\n  }\n\n  async createPayment(storeID: string, isCard: boolean = true, callback: (order_id: string, client_secret: string, err?: any) => any){\n\n    this.functions.httpsCallable('createWebIntent')({merchant_uid: storeID, isCard: isCard})\n      .pipe(first())\n      .subscribe(async resp => {        \n          callback(resp.order_id, resp.client_secret)\n      }, err => {\n        callback(\"\", \"\", err)\n      });\n\n  }\n\n  async stopSubscription(callback: (id: any) => any){\n    this.functions.httpsCallable('removeSubIntent')({})\n      .pipe(first())\n      .subscribe(async resp => { \n        console.log(resp)       \n        callback(resp)\n      }, err => {\n        console.error({ err });\n      });\n  }\n\n  async reactivateSubscription(callback: (id: any) => any){\n    this.functions.httpsCallable('reactivateSubIntent')({})\n      .pipe(first())\n      .subscribe(async resp => { \n        console.log(resp)       \n        callback(resp)\n      }, err => {\n        console.error({ err });\n      });\n  }\n\n  async startSubscription(callback: (id: any) => any){\n    this.functions.httpsCallable('createSubIntent')({})\n      .pipe(first())\n      .subscribe(async resp => { \n        console.log(resp)       \n        callback(resp)\n      }, err => {\n        console.error({ err });\n      });\n  }\n\n  async createBulkPayment(type: string, callback: (id: string) => any){\n\n    this.functions.httpsCallable('createBulkIntent')({type: type})\n      .pipe(first())\n      .subscribe(async resp => {        \n        callback(resp)\n      }, err => {\n        console.error({ err });\n      });\n\n  }\n\n  async linkCard(details: Dict<any>, callback: (err?: any) => any){\n    \n    var billing = Globals.billingInfo\n\n    let uid = (await this.isLoggedIn())?.uid\n\n    console.log(\"assssss\")\n\n    if (details.card && details.stripe){\n      if (billing && this.hasEmptyProperties(billing, [\"unit\", \"company\", \"brand\", \"number\"])){\n      \n        console.log(billing)\n        return\n      \n      }\n  \n      console.log(\"s\")\n  \n      let stripe = details.stripe as StripeService\n  \n      if (this.isUndefined(billing?.unit)){\n        billing!.unit = undefined\n      }\n  \n      let name = billing?.name\n      let card = details.card as StripeCardComponent\n        \n        var b: Dict<string | undefined> = {\n          line1: billing?.street,\n          city: billing?.city,\n          state: billing?.admin_area,\n          postal_code: billing?.postal,\n          country: billing?.country_code\n        }\n  \n        if (billing?.unit){\n          b.line2 = billing.unit\n        }\n        \n        stripe.createPaymentMethod({\n          type: 'card',\n          card: card!.element,\n          billing_details: {\n            address: b,\n            name: name\n          }\n        })\n        .subscribe((result) => {\n          if (result.paymentMethod) {\n            // Use the token\n  \n  \n            var fData = {\n              token: result.paymentMethod.id,\n              name: billing?.name,\n              line1: billing?.street,\n              line2: billing?.unit ?? null,\n              city: billing?.city,\n              state: billing?.admin_area,\n              zip: billing?.postal,\n              country: billing?.country_code,\n            }\n        \n            if (true){\n              this.functions.httpsCallable('verifyCard')(fData)\n              .pipe(first())\n              .subscribe(async resp => {\n                let data = {\n                  Administrative_Area: billing?.admin_area,\n                  City: billing?.city,\n                  Country: billing?.country,\n                  First_Name: billing?.name.split(' ').slice(0, -1).join(' '),\n                  Last_Name: billing?.name.split(' ').slice(-1).join(' '),\n                  Postal_Code: billing?.postal,\n                  Street: billing?.street,\n                  Company: billing?.company ?? \"\",\n                  Unit_Number: billing?.unit ?? \"\"\n                }\n                if (uid){\n                  await this.db.collection(\"Users/\" + uid + \"/Payment_Info\").doc(\"Billing_Address\").set(data)\n                }\n                callback()\n              }, err => {\n                callback(err)\n                console.error({ err });\n              });\n            }\n          } else if (result.error) {\n            // Error creating the token\n            callback(result.error.message)\n            console.log(result.error.message);\n          }\n        });\n    }\n    else{\n      let data = {\n        Administrative_Area: billing?.admin_area,\n        City: billing?.city,\n        Country: billing?.country,\n        First_Name: billing?.name.split(' ').slice(0, -1).join(' '),\n        Last_Name: billing?.name.split(' ').slice(-1).join(' '),\n        Postal_Code: billing?.postal,\n        Street: billing?.street,\n        Company: billing?.company ?? \"\",\n        Unit_Number: billing?.unit ?? \"\"\n      }\n\n      if (uid){\n        console.log(\"adsfg\")\n        await this.db.collection(\"Users/\" + uid + \"/Payment_Info\").doc(\"Billing_Address\").set(data)\n      }\n      if (this.myCallback) \n        this.myCallback()\n    }\n  }\n\n  getBlog(blogID: string){\n\n    Globals.selectedBlog = new Blog()\n\n    let sub = this.db.collectionGroup(\"Blogs\", ref => ref.where(\"Blog_ID\",'==', blogID)).valueChanges().subscribe((docDatas) => {\n      docDatas.forEach((doc) => {\n        const docData = doc as DocumentData\n        if (docData){\n          let uid = docData.UID as string\n          let title = docData.Title as string\n          let timestamp = (docData.Timestamp as firebase.firestore.Timestamp).toDate()\n          let isAvailable = docData.isAvailable as boolean\n          let blogID = docData.Blog_ID as string\n          let blogItems = docData.Blog_Items as Array<Dict<any>>\n          let coverURL = docData.Cover_URL as string\n\n\n          let blog = new Blog(uid, timestamp, \"\", isAvailable, title, blogItems, blogID, coverURL)\n\n          Globals.selectedBlog = blog;\n        }\n      })\n      if (this.myCallback) \n      this.myCallback()\n      if (isPlatformBrowser(this.platformID))\n      sub.unsubscribe();\n    });\n  }\n\n  \n\n  async getAllBillingInfo(){\n    let uid = (await this.isLoggedIn())?.uid\n      let sub = this.db.collection(\"Users/\" + uid + \"/Payment_Info\").doc(\"Identifiers\").valueChanges().subscribe((doc) => {\n        let docData = doc as DocumentData\n\n        if (docData){\n          var card_type = (docData.card_type as string)\n          if (card_type){\n            card_type = card_type[0].toUpperCase() + card_type.slice(1)\n          }\n          let card_last_4 = docData.card_last_4 as string\n\n          if (Globals.billingInfo){\n            Globals.billingInfo!.brand = card_type\n            Globals.billingInfo!.number = card_last_4\n          }\n          else{\n            Globals.billingInfo = new BillingInfo(undefined, undefined, card_last_4, card_type)\n          }\n        }\n        else{\n          Globals.billingInfo = new BillingInfo()\n        }\n        this.getBillingAddress()\n        if (isPlatformBrowser(this.platformID))\n        sub.unsubscribe();\n      })\n  }\n\n\n  async getBillingInfo(){\n      let uid = (await this.isLoggedIn())?.uid\n      let sub = this.db.collection(\"Users/\" + uid + \"/Payment_Info\").doc(\"Identifiers\").valueChanges().subscribe((doc) => {\n        let docData = doc as DocumentData\n\n        if (docData){\n          let card_type = docData.card_type as string\n          let card_last_4 = docData.card_last_4 as string\n\n          if (Globals.billingInfo){\n            Globals.billingInfo!.brand = card_type\n            Globals.billingInfo!.number = card_last_4\n          }\n          else{\n            Globals.billingInfo = new BillingInfo(undefined, undefined, card_last_4, card_type)\n          }\n        }\n        else{\n          Globals.billingInfo = new BillingInfo()\n        }\n  \n        if (this.myCallback) \n        this.myCallback()\n        if (isPlatformBrowser(this.platformID))\n        sub.unsubscribe();\n      })\n  }\n  async getShippingAddress(oUID?: string){\n\n    var uid = oUID\n    if (!uid){\n      uid = (await this.isLoggedIn())?.uid\n    }\n\n    let sub = this.db.collection(\"Users/\" + uid + \"/Payment_Info\").doc(\"Delivery_Address\").valueChanges().subscribe((doc) => {\n      Globals.shippingInfo = undefined\n\n      let docData = doc as DocumentData\n\n      if (docData){\n        let area = docData.Administrative_Area as string\n        let city = docData.City as string\n        let country = docData.Country as string\n        let firstName = docData.First_Name as string\n        let lastName = docData.Last_Name as string\n        let name = firstName + \" \" + lastName\n        let phone = docData.Phone_Num as string\n        let postal_code = docData.Postal_Code as string\n        let street = docData.Street as string\n        var company: string | undefined = (docData.Company as string) ?? \"\"\n        var email: string | undefined = (docData.Email as string) ?? \"\"\n        if (company == \"\") company = undefined\n        if (email == \"\") email = undefined\n        var unit: string | undefined = (docData.Unit_Number as string) ?? \"\"\n        if (unit == \"\") unit = undefined\n\n        Globals.shippingInfo = new ShippingInfo(name, company, street, city, country, area, unit, postal_code, phone, undefined, email)\n      }\n      else{\n        Globals.shippingInfo = new ShippingInfo()\n      }\n\n      if (this.myCallback) \n      this.myCallback()\n      if (isPlatformBrowser(this.platformID))\n      sub.unsubscribe();\n    });\n  }\n\n  async getBillingAddress(){\n\n    let uid = (await this.isLoggedIn())?.uid\n\n\n    let sub = this.db.collection(\"Users/\" + uid + \"/Payment_Info\").doc(\"Billing_Address\").valueChanges().subscribe((doc) => {\n      // Globals.selectedBlog = undefined\n\n      let docData = doc as DocumentData\n\n      \n      if (docData){\n        let area = docData.Administrative_Area as string\n        let city = docData.City as string\n        let country = docData.Country as string\n        let firstName = docData.First_Name as string\n        let lastName = docData.Last_Name as string\n        let name = firstName + \" \" + lastName\n        let postal_code = docData.Postal_Code as string\n        let street = docData.Street as string\n        var company: string | undefined = (docData.Company as string) ?? \"\"\n        if (company == \"\") company = undefined\n        var unit: string | undefined = (docData.Unit_Number as string) ?? \"\"\n        if (unit == \"\") unit = undefined\n\n        if (Globals.billingInfo){\n          Globals.billingInfo!.admin_area = area\n          Globals.billingInfo!.city = city\n          Globals.billingInfo!.country = country\n          Globals.billingInfo!.name = name\n          Globals.billingInfo!.postal = postal_code\n          Globals.billingInfo!.street = street\n          Globals.billingInfo!.company = company ?? \"\"\n        }\n        else{\n          Globals.billingInfo = new BillingInfo(name, company, undefined, undefined, street, city, country, area, unit, postal_code, undefined)\n        }\n\n      }\n      else{\n        Globals.billingInfo = new BillingInfo()\n      }\n      if (this.myCallback) \n      this.myCallback()\n      if (isPlatformBrowser(this.platformID))\n      sub.unsubscribe();\n    });\n  }\n\n  isUndefined(element: any){\n    return element == undefined || element == null || element == \"\"\n  }\n\n  async getTax(taxData: BillingInfo){\n\n    // let uid = (await this.isLoggedIn())?.uid\n\n    const country = taxData.country\n    const admin = taxData.admin_area\n    const street = taxData.street\n    const postal = taxData.postal\n\n\n    var salesTax = 0.0\n\n\n    if (country === \"Canada\" || country === \"CA\"){\n\n      console.log(admin)\n      let a = Globals.matchingProvince(admin)?.abbreviation ?? \"ON\"\n      let sub = this.db.collection(\"Canada_Tax_Docs\").doc(a).get().subscribe((doc) => {\n        // Globals.selectedBlog = undefined\n  \n        let taxDoc = doc.data() as DocumentData\n        console.log(taxDoc)\n\n        if (taxDoc){\n          if (!this.isUndefined(taxDoc.HST)){\n            salesTax += taxDoc.HST\n          }\n          else{\n            if (!this.isUndefined(taxDoc.GST)){\n                salesTax += taxDoc.GST\n            }\n            if (!this.isUndefined(taxDoc.PST)){\n                salesTax += taxDoc.PST\n            }\n          }\n        }\n        Globals.shippingTax = salesTax\n        if (this.myCallback) \n        this.myCallback()\n        if (isPlatformBrowser(this.platformID))\n        sub.unsubscribe();\n      });\n    }\n    else if (country === \"United States\" || country === \"US\" || country === \"USA\"){\n      Globals.shippingTax = salesTax\n      if (this.myCallback) \n      this.myCallback()\n    }\n    else if (country === \"United Kingdom\" || country === \"UK\" || country === \"GB\"){\n      let sub = this.db.collection(\"Canada_Tax_Docs\").doc(admin).valueChanges().subscribe((doc) => {\n        // Globals.selectedBlog = undefined\n  \n        let taxDoc = doc as DocumentData\n  \n        if (taxDoc){\n          if (!this.isUndefined(taxDoc.HST)){\n            salesTax += taxDoc.VAT\n          }\n        }\n        Globals.shippingTax = salesTax\n        if (this.myCallback) \n        this.myCallback()\n        if (isPlatformBrowser(this.platformID))\n        sub.unsubscribe();\n      });\n    }\n  }\n\n  async addToCart(mappedData: Dict<any>){\n\n    \n    let uid = (await this.isLoggedIn())?.uid\n\n\n\n    const storeUID = Globals.storeInfo.uid\n\n    if (!(storeUID)){\n      return\n    }\n\n    let data = {\n      \"Cart_List\" : firebase.firestore.FieldValue.arrayUnion(mappedData),\n      \"UID\" : storeUID,\n      \"Timestamp\" : mappedData.Timestamp\n    }\n\n    if (uid){\n      await this.db.collection(\"Users/\" + uid + \"/Cart_Info\").doc(\"Cart_List_\" + storeUID).set(data, {merge : true})\n    }\n    this.rootComponent!.cart = undefined\n    this.rootComponent?.getCart()\n  }\n\n  async saveUser(mappedData: Dict<any>){\n\n    \n    let uid = (await this.isLoggedIn())?.uid\n\n    if (mappedData.profile_pic){\n      let picID = await this.uploadFile(mappedData, uid)\n      mappedData.picID = picID\n    }\n    \n    await this.saveUsername(mappedData, uid)\n  }\n\n  async saveEmail(mappedData: Dict<any>, callback: (success: boolean) => any){\n\n    let user = (await this.isLoggedIn())\n\n    let email = user?.email!\n    let password = mappedData.password\n    let newEmail = mappedData.newEmail\n\n    const credentials = firebase.auth.EmailAuthProvider.credential(\n      email, password);\n\n    user?.reauthenticateWithCredential(credentials).then(async (result) => {\n      if (result){\n        user?.updateEmail(newEmail).then(async () => {\n          callback(true)\n        })\n      }\n      else{\n        callback(false)\n      }\n    })\n  }\n\n  async savePassword(mappedData: Dict<any>, callback: (success: boolean) => any){\n\n    \n    let user = (await this.isLoggedIn())\n\n    let email = user?.email!\n    let password = mappedData.password\n    let newPassword = mappedData.newPassword\n\n    const credentials = firebase.auth.EmailAuthProvider.credential(\n      email, password);\n\n    user?.reauthenticateWithCredential(credentials).then(async (result) => {\n      if (result){\n        user?.updatePassword(newPassword).then(async () => {\n          callback(true)\n        })\n      }\n      else{\n        callback(false)\n      }\n    })\n  }\n  \n  \n  async updateProduct(mappedData: Dict<any>){\n    let uid = (await this.isLoggedIn())?.uid ?? \"\"\n    let productID = mappedData.productID\n    let data = {\n      \"Name\" : mappedData.name ?? \"Post\",\n      \"Search_Name\" : mappedData.name.toLowerCase() ?? \"post\",\n      \"Description\" : mappedData.description ?? \"\",\n      \"Price_Cents\" : mappedData.price ?? 2000,\n      \"Available\" : mappedData.available ?? true,\n    }\n    await this.db.collection(\"Users/\" + uid + \"/Products\").doc(productID).update(data)\n\n    let product = new Product(uid, productID, data.Description, productID, undefined, undefined, undefined, data.Price_Cents, data.Name, undefined, undefined, undefined, undefined, data.Available)\n\n    this.editProduct(product)\n\n    return console.log(\"Updated Product\")\n  }\n\n  async deleteProduct(mappedData: Dict<any>){\n    let uid = (await this.isLoggedIn())?.uid ?? \"\"\n    let productID = mappedData.productID\n    let data = {\n      \"Available\" : false,\n    }\n    await this.db.collection(\"Users/\" + uid + \"/Products\").doc(productID).update(data)\n\n    let product = new Product(undefined, undefined, undefined, productID)\n    this.removeProduct(product)\n    \n  }\n\n  async createProduct(mappedData: Dict<any>){\n\n\n    let uid = (await this.isLoggedIn())?.uid ?? \"\"\n\n    let productID = this.db.collection(\"Users/\" + uid + \"/Products\").doc().ref.id\n\n    console.log(productID)\n    let data = await this.saveProductInfo(mappedData, productID, uid) ?? {}\n\n    if (mappedData.images?.length > 0){\n      await mappedData.images.forEach(async (image: Dict<string>) => {\n        let url = await this.uploadProductImages(image.img, image.type, productID, uid)\n        console.log(url)\n      });\n      let url = mappedData.images.filter((obj: Dict<string>) => {\n        return obj.type == \"link_\"\n      })[0].img as string\n      let product = new Product(\n        uid, \n        productID, \n        data.Description, \n        productID, \n        data.Timestamp, \n        undefined, \n        data.Blurred, \n        data.Price_Cents, \n        data.Name, \n        data.Template_Color, \n        data.Likes, \n        false, \n        data.Comments, \n        data.Available, \n        data.Public, \n        data.Type, \n        data.Side,\n        data.sides,\n        url\n      )\n\n      this.addProduct(product)\n      // Globals.products?.unshift(product)\n    }\n  }\n\n  async saveStore(mappedData: Dict<any>){\n\n    \n    let uid = (await this.isLoggedIn())?.uid\n\n    if (mappedData.images?.length > 0){\n      mappedData.image_list = new Array<string>()\n      await mappedData.images.forEach(async (image: Dict<string>) => {\n        mappedData.image_list.push(image.type)\n        let url = await this.uploadStoreImages(image.img, image.type, uid)\n      });\n\n    }\n    \n    await this.saveStoreInfo(mappedData, uid)\n  }\n\n  private async uploadProductImages(image: string, type: string, productID: string, uid?: string) {\n      const filePath = 'Users/' + uid + '/Products/' + productID + \"/\" + type + productID + '.png';\n      let ref = this.storage.ref(filePath);\n      const byteArray = new Buffer(image.replace(/^[\\w\\d;:\\/]+base64\\,/g, ''), 'base64');\n  \n      // const task = await this.storage.upload(filePath, byteArray);\n      const task = await ref.put(byteArray);\n      const url = await task.ref.getDownloadURL();\n\n      // if (type == \"theme\"){\n      //   Globals.userInfo!.themeLink = url\n    \n      //   if (Globals.storeInfo.uid == Globals.userInfo?.uid){\n      //     Globals.storeInfo!.themeLink = url\n      //   }\n      // }\n      // else if (type == \"home\"){\n      //   Globals.userInfo!.homeLink = url\n    \n      //   if (Globals.storeInfo.uid == Globals.userInfo?.uid){\n      //     Globals.storeInfo!.homeLink = url\n      //   }\n      // }\n      // else if (type == \"action\"){\n\n      //   Globals.userInfo!.actionLink = url\n    \n      //   if (Globals.storeInfo.uid == Globals.userInfo?.uid){\n      //     Globals.storeInfo!.actionLink = url\n      //   }\n      // }\n      return url;\n    return undefined\n  }\n\n  private async uploadStoreImages(image: string, type?: string, uid?: string) {\n    if (type){\n      const filePath = 'Users/' + uid + '/Store_Images/' + type + '.png';\n      let ref = this.storage.ref(filePath);\n      const byteArray = new Buffer(image.replace(/^[\\w\\d;:\\/]+base64\\,/g, ''), 'base64');\n  \n  \n      // const task = await this.storage.upload(filePath, byteArray);\n      const task = await ref.put(byteArray);\n      const url = await task.ref.getDownloadURL();\n\n      if (type == \"theme\"){\n        Globals.userInfo!.themeLink = url\n    \n        if (Globals.storeInfo.uid == Globals.userInfo?.uid){\n          Globals.storeInfo!.themeLink = url\n        }\n      }\n      else if (type == \"home\"){\n        Globals.userInfo!.homeLink = url\n    \n        if (Globals.storeInfo.uid == Globals.userInfo?.uid){\n          Globals.storeInfo!.homeLink = url\n        }\n      }\n      else if (type == \"action\"){\n\n        Globals.userInfo!.actionLink = url\n    \n        if (Globals.storeInfo.uid == Globals.userInfo?.uid){\n          Globals.storeInfo!.actionLink = url\n        }\n      }\n      return url;\n    }\n    return undefined\n  }\n\n  async saveProductInfo(mappedData: Dict<any>, productID: string, uid?: string){\n\n\n    let data = {\n      \"Name\" : mappedData.name ?? \"Post\",\n      \"Search_Name\" : mappedData.name.toLowerCase() ?? \"post\",\n      \"Description\" : mappedData.description ?? \"\",\n      \"Price_Cents\" : mappedData.price ?? 2000,\n      \"UID\" : uid,\n      \"Blurred\" : false,\n      \"Timestamp\" : new Date(),\n      \"Template_Color\" : mappedData.templateColor ?? \"black\",\n      \"Likes\" : 0,\n      \"Comments\" : 0,\n      \"Has_Picture\" : false,\n      \"Product_ID\" : productID,\n      \"Available\" : true,\n      \"Public\" : true,\n      \"Type\" : mappedData.productType ?? \"ATC1000\",\n      \"Side\" : mappedData.displaySide ?? \"front\",\n      \"Sides\" : mappedData.sides\n     } as Dict<any>\n\n    if (uid){\n      \n      await this.db.collection(\"Users/\" + uid + \"/Products\").doc(productID).set(data)\n\n      return data\n      \n      // Globals.userInfo!.slogan = mappedData.slogan\n      // let matchingTheme = Globals.themes?.filter(theme => theme.name == mappedData.theme.name)[0]\n\n      // if (matchingTheme){\n      //   Globals.userInfo!.colorStyle = matchingTheme\n      // }\n      // Globals.userInfo!.slogan = mappedData.slogan\n      // Globals.userInfo!.fontName = mappedData.font\n\n      // if (Globals.storeInfo.uid == Globals.userInfo?.uid){\n      //   if (matchingTheme){\n      //     Globals.storeInfo!.colorStyle = matchingTheme\n      //     Globals.storeInfo!.fontName = mappedData.font\n      //   }\n      // }\n    }\n    return undefined\n  }\n\n  async saveStoreInfo(mappedData: Dict<any>, uid?: string){\n\n\n    var data: Dict<any> = {\n      \"Slogan\" : mappedData.slogan ?? \"\",\n    }\n\n    if (mappedData.indicator){\n      data[\"indicator\"] = mappedData.indicator\n    }\n\n    if (mappedData.theme){\n      data[\"store_style\"] = mappedData.theme\n    }\n\n    if (mappedData.font){\n      data[\"font\"] = mappedData.font\n    }\n\n    if (mappedData.image_list){\n      data[\"image_list\"] = firebase.firestore.FieldValue.arrayUnion(...mappedData.image_list)\n    }\n\n    if (uid){\n      await this.db.collection(\"Users\").doc(uid).update(data)\n      Globals.userInfo!.slogan = mappedData.slogan\n      let matchingTheme = Globals.themes?.filter(theme => theme.name == mappedData.theme.name)[0]\n\n      if (matchingTheme){\n        Globals.userInfo!.colorStyle = matchingTheme\n      }\n      Globals.userInfo!.slogan = mappedData.slogan\n      Globals.userInfo!.fontName = mappedData.font\n\n      if (Globals.storeInfo.uid == Globals.userInfo?.uid){\n        if (matchingTheme){\n          Globals.storeInfo!.colorStyle = matchingTheme\n          Globals.storeInfo!.fontName = mappedData.font\n        }\n      }\n    }\n    if (this.myCallback)\n      this.myCallback()\n  }\n\n  private async uploadFile(mappedData: Dict<any>, uid?: string) {\n    let picID = uuid().toString().replace(\"-\", \"\")\n    const filePath = 'Users/' + uid + '/profile_pic-' + picID + '.jpeg';\n    let ref = this.storage.ref(filePath);\n    const byteArray = new Buffer(mappedData.profile_pic.replace(/^[\\w\\d;:\\/]+base64\\,/g, ''), 'base64');\n\n\n    // const task = await this.storage.upload(filePath, byteArray);\n    const task = await ref.put(byteArray);\n    const url = await task.ref.getDownloadURL();\n    Globals.userInfo!.dpID = picID\n    Globals.userInfo!.profileLink = url\n\n    if (Globals.storeInfo.uid == Globals.userInfo?.uid){\n      Globals.storeInfo!.dpID = picID\n      Globals.storeInfo!.profileLink = url\n    }\n\n    return picID;\n  }\n\n  async saveUsername(mappedData: Dict<any>, uid?: string){\n\n\n    var data: Dict<any> = {\n      \"Username\" : mappedData.username,\n      \"Full_Name\" : mappedData.full_name,\n      \"Bio\" : mappedData.bio,\n    }\n\n    if (mappedData.picID){\n      data[\"ProfilePicID\"] = mappedData.picID\n    }\n    if (mappedData.socials){\n      data[\"Socials\"] = mappedData.socials ?? []\n    }\n    console.log(mappedData.custom_url)\n    if (mappedData.custom_url && mappedData.custom_url.trim() != \"\"){\n      var splitURL = mappedData.custom_url.split(\"://\")\n      data[\"Custom_URL\"] = {\n        host: splitURL[1],\n        protocol: splitURL[0],\n        status: 1\n      }\n    }\n    else{\n      if (Globals.userInfo?.customURL || Globals.userInfo?.customURL?.fullURL().trim() != \"\"){\n        data[\"Custom_URL\"] = firebase.firestore.FieldValue.delete()\n      }\n    }\n\n    if (uid){\n      await this.db.collection(\"Users\").doc(uid).update(data)\n      Globals.userInfo!.username = mappedData.username\n      Globals.userInfo!.fullName = mappedData.full_name\n\n      \n      if (Globals.storeInfo.uid == Globals.userInfo?.uid){\n        Globals.storeInfo!.username = mappedData.username\n        Globals.storeInfo!.fullName = mappedData.full_name\n      }\n    }\n    if (this.myCallback)\n      this.myCallback()\n  }\n\n\n  openSnackBar(\n    message: string,\n    timeDuration = 1000,\n    horizontal: MatSnackBarHorizontalPosition = 'right',\n    vertical: MatSnackBarVerticalPosition = 'top'\n  ) {\n    this.snackBar.open(message, '', {\n      duration: timeDuration,\n      horizontalPosition: horizontal,\n      verticalPosition: vertical,\n    });\n  }\n\n  async changeCart(mappedData: Array<Dict<any>>){\n\n    let uid = (await this.isLoggedIn())?.uid\n\n\n    let data = {\n      \"Cart_List\" : mappedData\n    }\n\n    const storeUID = Globals.storeInfo.uid\n\n    if (!(storeUID)){\n      return\n    }\n\n    if (uid){\n      await this.db.collection(\"Users/\" + uid + \"/Cart_Info\").doc(\"Cart_List_\" + storeUID).set(data)\n    }\n  }\n\n  async signOut(){\n\n    await this.auth.signOut().then(() =>{\n      Globals.userInfo = undefined\n      this.rootComponent!.cart = []\n      if (this.myCallback)\n      this.myCallback()\n    }).catch((error) => {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n\n      if (this.errCallback)\n      this.errCallback(errorMessage)\n    });\n    // Sign Out\n  }\n\n  isLoggedIn() {\n    return this.auth.authState.pipe(first()).toPromise();\n  }\n\n  registerAccount(type: string, credentials?: Dict<string>, affiliate?: string){\n\n    if (type == \"Guest\"){\n      this.auth.signInAnonymously().then(() => {\n        // Signed in..\n    \n        if (this.myCallback)\n          this.myCallback()\n\n        }).catch((error) => {\n          var errorCode = error.code;\n          var errorMessage = error.message;\n\n          if (this.errCallback)\n          this.errCallback(errorMessage)\n        });\n    }\n\n    else if(type == \"Email_UP\"){\n\n      let username = credentials?.username\n      let password = credentials?.password!\n      let email = credentials?.email!\n\n      this.auth.createUserWithEmailAndPassword(email, password).then(async (result) => {\n        // Signed in..\n        await result.user?.sendEmailVerification()\n        if (result.user && username){\n          Globals.isNewUser = result.additionalUserInfo?.isNewUser ?? false\n          await this.setUsername(result.user?.uid, username, true, affiliate)\n          if (this.myCallback)\n          this.myCallback()\n        }\n        else{\n          await this.auth.signOut()\n          if (this.errCallback)\n          this.errCallback(\"Unknown Error Occured. Please Try Again Later\")\n        }\n        }).catch((error) => {\n          var errorCode = error.code;\n          var errorMessage = error.message;\n\n          if (this.errCallback)\n          this.errCallback(errorMessage)\n\n          console.log(errorCode)\n          \n      });  \n    }\n    else if(type == \"Email_IN\"){\n      let password = credentials?.password!\n      let email = credentials?.email!\n\n      this.auth.signInWithEmailAndPassword(email, password).then(async (result) => {\n        // Signed in..\n        if (result.user){\n          Globals.isNewUser = result.additionalUserInfo?.isNewUser ?? false\n          if (this.myCallback)\n          this.myCallback()\n        }\n        else{\n          await this.auth.signOut()\n          if (this.errCallback)\n          this.errCallback(\"Unknown Error Occured. Please Try Again Later\")\n        }\n        }).catch((error) => {\n          var errorCode = error.code;\n          var errorMessage = error.message;\n\n          if (errorCode == \"auth/wrong-password\") errorMessage = \"The password is incorrect.\"\n\n          if (this.errCallback)\n          this.errCallback(errorMessage)\n\n          console.log(errorCode)\n      }); \n    }\n    else if(type == \"Email_IN_USER\"){\n\n      let data = {\n        \"Field\" : credentials?.Field,\n        \"Term\" : credentials?.Term\n      }\n      this.functions.httpsCallable('auth')(data)\n      .pipe(first())\n      .subscribe(async resp => {\n        \n        if (resp as string){\n          if (resp.includes(\"ERROR:\")){\n            let err = resp.replace(\"ERROR:\", \"\")\n            if (this.errCallback)\n            this.errCallback(err)\n            console.log(err)\n          }\n          else{\n\n            let email = resp as string\n            let password = credentials?.password!\n\n            this.auth.signInWithEmailAndPassword(email, password).then(async (result) => {\n              // Signed in..\n              if (result.user){\n                Globals.isNewUser = result.additionalUserInfo?.isNewUser ?? false\n                if (this.myCallback)\n                this.myCallback()\n              }\n              else{\n                await this.auth.signOut()\n                if (this.errCallback)\n                this.errCallback(\"Unknown Error Occured. Please Try Again Later\")\n              }\n            }).catch((error) => {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                if (errorCode == \"auth/wrong-password\") errorMessage = \"The password is incorrect.\"\n\n                if (this.errCallback)\n                this.errCallback(errorMessage)\n      \n                console.log(errorCode)\n            }); \n          }\n        }\n        else {\n          if (this.errCallback)\n          this.errCallback(\"Unknown Error Occured. Please Try Again Later\")\n        }\n      }, err => {\n        var errorCode = err.code;\n        var errorMessage = err.message;\n        if (this.errCallback)\n          this.errCallback(errorMessage)\n        console.log(errorCode)\n      });\n    }\n    else if (type == \"Apple\"){\n      var appleProvider = new firebase.auth.OAuthProvider('apple.com');\n      appleProvider.addScope('email');\n      appleProvider.addScope('name');\n\n      this.auth.signInWithPopup(appleProvider).then(async (result) => {\n        // Signed in..\n    \n        if ((result.additionalUserInfo?.isNewUser ?? false) && result.user?.uid){\n          Globals.isNewUser = result.additionalUserInfo?.isNewUser ?? false\n          await result.user?.sendEmailVerification()\n          await this.setUsername(result.user?.uid, result?.additionalUserInfo?.username ?? 'user_' + uuid.toString(), (!(this.isUndefined(result?.additionalUserInfo?.username))), affiliate)\n        }\n        if (this.myCallback)\n          this.myCallback()\n\n        }).catch((error) => {\n          var errorCode = error.code;\n          var errorMessage = error.message;\n\n          if (this.errCallback)\n          this.errCallback(errorMessage)\n        });\n    }\n    else if (type == \"Google\"){\n      var googleProvider = new firebase.auth.GoogleAuthProvider();\n      googleProvider.addScope('email');\n      googleProvider.addScope('profile');\n\n      this.auth.signInWithPopup(googleProvider).then(async (result) => {\n        // Signed in..\n        if ((result.additionalUserInfo?.isNewUser ?? false) && result.user?.uid){\n          await result.user?.sendEmailVerification()\n          Globals.isNewUser = result.additionalUserInfo?.isNewUser ?? false\n          await this.setUsername(result.user?.uid, result?.additionalUserInfo?.username ?? 'user_' + uuid().replace('-', ''), (!(this.isUndefined(result?.additionalUserInfo?.username))), affiliate)\n        }\n        if (this.myCallback)\n          this.myCallback()\n\n        }).catch((error) => {\n          var errorCode = error.code;\n          var errorMessage = error.message;\n\n          console.log(error)\n          if (this.errCallback)\n          this.errCallback(errorMessage)\n        });\n    }\n  }\n\n  roundedFavIconLink(){\n    return Globals.storeInfo.profileLink\n  }\n\n  async setUsername(uid: string, username: string, hasUsername?: boolean, affiliate?: string){\n    \n    var data = {\n      'Full_Name' : \"GUEST\",\n      'Username': username,\n      'Bio' : '',\n      'ProfilePicID' : null,\n      'notification_tokens' : [],\n      'Following_List' : [],\n      'Following_Count' : 0,\n      'Followers_Count' : 0,\n      'Posts_Count' : 0,\n      'Platform' : \"WEB\"\n    }\n\n    if (hasUsername ?? false){\n      data.Full_Name = username.toUpperCase()\n    }\n\n    await this.db.collection(\"Users\").doc(uid).set(data, {merge : true})\n\n    if (affiliate && affiliate != \"\"){\n      await this.db.collection(\"Users/\" + uid + \"/Payment_Info\").doc(\"Identifiers\").set({affiliate: {id: affiliate, timestamp: new Date()}}, {merge: true})\n    }\n\n    return true\n  }\n\n\n  async checkUsername(username: string, callback: (err?: string) => any, myUID?: string){\n\n\n\n    let sub = this.db.collection(\"Users\", ref => ref.where(\"Username\",'==', username)).valueChanges({idField: 'UID'}).subscribe((docs) => {\n      \n      if (docs && docs?.length != 0){\n        console.log(docs[0])\n        if (myUID == (docs[0] as DocumentData).UID){\n          callback()\n        }\n        else{\n          callback(\"This username already exists\")\n        }\n      }\n      else{\n        callback()\n      }\n      sub.unsubscribe()\n    });\n  }\n\n  async checkURL(url: string, callback: (err?: string) => any){\n\n    if (url.replace(\" \", \"\") == \"\"){\n      callback()\n    }\n\n    let sub = this.db.collection(\"Users\", ref => ref.where(\"Custom_URL\",'==', url)).valueChanges().subscribe((doc) => {\n      \n      if (doc && doc?.length != 0){\n        callback(\"This domain is already linked to a store.\")\n      }\n      else{\n        callback()\n      }\n      sub.unsubscribe()\n    });\n  }\n\n\n  async authenticated(){\n    const user = await this.isLoggedIn()\n    if (user) {\n      return true\n    } else {\n      return false\n   }\n  }\n\n\n\n  async getCart(shouldGetProducts = false, callback: (cart: Array<ProductInCart>) => any){\n\n    const uid = (await this.isLoggedIn())?.uid\n    const storeUID = Globals.storeInfo.uid\n\n\n    console.log(\"moooooo\")\n    if (!(storeUID) || !(uid)){\n      if (this.myCallback)\n      this.myCallback()\n      return\n    }\n\n    var cart = new Array<ProductInCart>()\n\n    let sub = this.db.collection(\"Users/\" + uid + \"/Cart_Info\").doc(\"Cart_List_\" + storeUID).valueChanges().subscribe(async (doc) => {\n      const docData = doc as DocumentData\n\n      if (docData){\n\n        let cartList = docData.Cart_List as Array<Dict<any>>\n\n        const promises = cartList.map(async (productInCart, i) => {\n\n          let uid = productInCart.UID as string\n          let size = productInCart.Size as string\n          let qty = productInCart.Qty as number\n          let timestamp = (productInCart.Timestamp as firebase.firestore.Timestamp).toDate()\n          let productID = productInCart.Post_ID as string\n\n          let product = new Product(\n            uid, \n            productID, \n            undefined, \n            productID, \n            timestamp, \n            undefined, \n            undefined, \n            undefined, \n            undefined, \n            undefined, \n            undefined, \n            false, \n            undefined, \n            true, \n            undefined, \n            undefined, \n            undefined, \n            [],\n            this.getURL(uid, productID)\n          )\n\n          let productCart = new ProductInCart(product, size, qty, false, timestamp, \"\", undefined)\n          cart.push(productCart)\n          if (shouldGetProducts)\n          console.log('okmo')\n\n          await this.getPost(productID, true, i)\n        })\n        await Promise.all(promises)\n      }\n      callback(cart)\n      if (isPlatformBrowser(this.platformID))\n      sub.unsubscribe();\n    });\n  }\n\n  async getOrder(orderID: string){\n    \n\n    let sub = this.db.collectionGroup(\"Orders\", ref => ref.where(\"order_id\",'==', orderID)).valueChanges().subscribe((docDatas) => {\n      docDatas.forEach((doc) => {\n        const docData = doc as DocumentData\n        if (docData){\n          let status = docData.status as string ?? \"cancelled\"\n          let intents = docData.order_intents as Array<Dict<string>>\n          \n          let timestamp = (docData.timestamp as firebase.firestore.Timestamp).toDate()\n          let shippingIntent = docData.shipping_intent as string\n          let trackingNumber = docData.tracking_id as string\n          let shippingCost = (docData.shipping_cost as number ?? 0) / 100\n          let taxPercent = docData.tax as number\n          let taxNum = docData.sales_tax as number\n  \n          let currency = docData.currency as string ?? \"CAD\"\n\n          let currencySymbol = docData.currency_symbol as string\n          let orderID = docData.order_id as string\n          let merchantID = docData.merchant_uid as string\n\n          var subtotal = 0.0\n\n\n          let address = docData.delivery_address as Dict<string>\n          let street = address.street_address as string\n          let city = address.city as string\n          let country = address.country as string\n          let postalCode = address.postal_code as string\n          let area = address.admin_area as string\n          let phone = address.phone_number as string\n          let name = address.full_name as string\n          let company = address.company as string\n          let email = address.email as string\n          let country_code = address.country_code as string\n          const uid = docData.uid as string\n\n                    // let shippingCost = (doc[\"shipping_cost\"] as? Double ?? 0.00) / 100              \n                \n                    \n          let unitNum = address.unit_number as string\n                    \n          let orderAddress = new ShippingInfo(name, company, street, city, country, area, unitNum, postalCode, phone, country_code, email)\n                    \n          let tax = taxNum ?? (taxPercent ?? 0) * subtotal\n          let totalCost = (tax ?? 0.0) + (subtotal ?? 0.0) + (shippingCost ?? 0.0)\n\n\n          let order = new Order(orderID, timestamp, [], status, intents, totalCost, tax, subtotal, orderAddress, currency, currencySymbol, trackingNumber, shippingIntent, shippingCost, uid, merchantID)\n\n\n          Globals.selectedOrder = order\n\n\n          this.getOrderProducts(order, uid, 0, true)\n        }\n        else{\n          \n          Globals.selectedOrder = new Order()\n        }\n      })\n      if (this.myCallback) \n          this.myCallback()\n      if (isPlatformBrowser(this.platformID))\n      sub.unsubscribe();\n    });\n  }\n\n  async getOrders(){\n    \n    const uid = (await this.isLoggedIn())?.uid\n    const storeUID = Globals.storeInfo.uid\n\n    if (!(storeUID) || !(uid)){\n      if (this.myCallback)\n      this.myCallback()\n      return\n    }\n\n    var query = this.db.collection(\"Users/\" + uid + \"/Orders\", ref => ref.where(\"merchant_uid\",'==', storeUID).orderBy(\"timestamp\", \"desc\"))\n\n\n    Globals.orders = []\n    \n    let sub = query.valueChanges().subscribe((docDatas) => {\n      docDatas.forEach((doc, index) => {\n        const docData = doc as DocumentData\n        if (docData){\n          let status = docData.status as string ?? \"cancelled\"\n          let intents = docData.order_intents as Array<Dict<string>>\n          \n          let timestamp = (docData.timestamp as firebase.firestore.Timestamp).toDate()\n          let shippingIntent = docData.shipping_intent as string\n          let trackingNumber = docData.tracking_id as string\n          let shippingCost = docData.shipping_cost as number\n          let taxPercent = docData.tax as number\n          let taxNum = docData.sales_tax as number\n  \n          let currency = docData.currency as string ?? \"CAD\"\n\n          let currencySymbol = docData.currency_symbol as string\n          let orderID = docData.order_id as string\n          let merchantID = docData.merchant_uid as string\n\n          var subtotal = 0.0\n\n\n          let address = docData.delivery_address as Dict<string>\n          let street = address.street_address as string\n          let city = address.city as string\n          let country = address.country as string\n          let postalCode = address.postal_code as string\n          let area = address.admin_area as string\n          let phone = address.phone_number as string\n          let name = address.full_name as string\n          let company = address.company as string\n          let email = address.email as string\n          let country_code = address.country_code as string\n          const uid = docData.uid as string\n\n\n                    // let shippingCost = (doc[\"shipping_cost\"] as? Double ?? 0.00) / 100              \n                \n                    \n          let unitNum = address.unit_number as string\n                    \n          let orderAddress = new ShippingInfo(name, company, street, city, country, area, unitNum, postalCode, phone, country_code, email)\n                    \n\n          let tax = taxNum ?? (taxPercent ?? 0) * subtotal\n          let totalCost = (tax ?? 0.0) + (subtotal ?? 0.0) + (shippingCost ?? 0.0)\n\n          let order = new Order(orderID, timestamp, [], status, intents, totalCost, tax, subtotal, orderAddress, currency, currencySymbol, trackingNumber, shippingIntent, shippingCost, uid, merchantID)\n\n\n          Globals.orders?.push(order)\n\n\n          this.getOrderProducts(order, uid, index)\n    \n        }\n      })\n\n      if (this.myCallback) \n          this.myCallback()\n      if (isPlatformBrowser(this.platformID))\n      sub.unsubscribe();\n    });\n  }\n\n  getOrderProducts(order: Order, uid: string, orderIndex: number, isSelectedOrder?: boolean){\n    let sub = this.db.collection(\"Users/\" + uid + \"/Orders/\" + order.orderID + \"/Purchases\").valueChanges().subscribe((docDatas) => {\n      docDatas.forEach((doc, index) => {\n        const docData = doc as DocumentData\n        if (docData){\n\n          let productID = docData.productID as string\n          let quantity = docData.quantity as number\n          let size = docData.size as string\n          let status = docData.status as string\n          let price = (docData.amount as number) / quantity\n          let timestamp = (docData.timestamp as firebase.firestore.Timestamp).toDate()\n\n          let product = new Product(\n            uid, \n            productID, \n            undefined, \n            productID, \n            timestamp, \n            undefined, \n            undefined, \n            price, \n            undefined, \n            undefined, \n            undefined, \n            false, \n            undefined, \n            true, \n            undefined, \n            undefined, \n            undefined, \n            [],\n            this.getURL(uid, productID)\n          )\n\n          \n          let orderProduct = new ProductInCart(product, size, quantity, false, timestamp, undefined, undefined)\n\n          order.products.push(orderProduct)\n\n          if (isSelectedOrder ?? false){\n            console.log('okpo')\n\n            this.getPost(productID, undefined, undefined, undefined, orderIndex, index, true)\n          }\n          else{\n            console.log('okp2o')\n\n            this.getPost(productID, undefined, undefined, true, orderIndex, index, false)\n          }\n        }\n      })\n      if (this.myCallback) \n          this.myCallback()\n      if (isPlatformBrowser(this.platformID))\n      sub.unsubscribe();\n    });\n  }\n\n  getMiscStats(uid: string){\n\n    Globals.views = []\n    Globals.dropCarts = []\n    let sub = this.db.collection(\"Users/\" + uid + \"/Daily_Info/\").valueChanges().subscribe((docDatas) => {\n      docDatas.forEach((doc, index) => {\n        const docData = doc as DocumentData\n        if (docData){\n          let time = docData.time as Array<Date>\n          let timestamp = (docData.timestamp as firebase.firestore.Timestamp).toDate()\n          let length = time.length\n          Globals.views?.push({views: length, timestamp: timestamp})\n        }\n      })\n      if (isPlatformBrowser(this.platformID))\n      sub.unsubscribe();\n\n      let sub2 = this.db.collectionGroup(\"Cart_Info\", ref => ref.where(\"UID\", \"==\", uid)).valueChanges().subscribe((docDatas) => {\n        \n        docDatas.forEach((doc, index) => {\n          const docData = doc as DocumentData\n          if (docData){\n            let timestamp = (docData.Timestamp as firebase.firestore.Timestamp)?.toDate()\n            Globals.dropCarts?.push({dropCarts: 1, timestamp: timestamp})\n          }\n        })\n        if (isPlatformBrowser(this.platformID))\n        sub2.unsubscribe();\n        if (this.miscCallback) \n            this.miscCallback()\n      });\n    });\n  }\n\n  getAffiliateStats(uid: string, callback: (stats: any) => any){\n\n    let stats = new Array<any>()\n\n    let sub = this.db.collectionGroup(\"Payment_Info\", ref => ref.where(\"affiliate.id\", '==', uid)).valueChanges().subscribe((docDatas) => {\n      docDatas.forEach((doc, index) => {\n        const docData = doc as DocumentData\n        if (docData){\n          let affiliate = docData.affiliate as Dict<any>\n          let timestamp = (affiliate.timestamp as firebase.firestore.Timestamp).toDate()\n          let id = affiliate.id as string\n          stats.push({affiliate: id, timestamp: timestamp})\n        }\n      })\n      callback(stats)\n      if (isPlatformBrowser(this.platformID))\n      sub.unsubscribe();\n    });\n  }\n\n  getSoldProducts(uid: string = \"\"){\n    \n    Globals.productsSold = []\n\n    let sub = this.db.collectionGroup(\"Purchases\", ref => ref.where(\"merchant_uid\",'==', uid).where(\"status\",'==', 'confirmed')).valueChanges().subscribe((docDatas) => {\n      docDatas.forEach((doc, index) => {\n        const docData = doc as DocumentData\n        if (docData){\n          let productID = docData.productID as string\n          let quantity = docData.quantity as number\n          let size = docData.size as string\n          let price = (docData.amount as number) / quantity\n          let profit = docData.moneyToMerchant as number / 100\n          let timestamp = (docData.timestamp as firebase.firestore.Timestamp)?.toDate()\n\n          let product = new Product(\n            uid, \n            productID, \n            undefined, \n            productID, \n            timestamp, \n            undefined, \n            undefined, \n            price / 100, \n            undefined, \n            undefined, \n            undefined, \n            false, \n            undefined, \n            true, \n            undefined, \n            undefined, \n            undefined, \n            [],\n            this.getURL(uid, productID)\n          )\n\n          \n          let orderProduct = new ProductInCart(product, size, quantity, false, timestamp, undefined, undefined, profit ?? 0)\n\n          Globals.productsSold?.push(orderProduct)\n          console.log('okro')\n          this.getPost(productID, false, undefined, false, undefined, index, false, true)\n        }\n      })\n      if (this.saleCallback) \n              this.saleCallback()\n            if (isPlatformBrowser(this.platformID))\n              sub.unsubscribe();\n    });\n  }\n\n  async getPost(productID: string, forCart?: boolean, cartIndex?: number, forOrder?: boolean, orderIndex?: number, productIndex?: number, isSelectedOrder?: boolean, forSale?: boolean){\n    \n    var query = this.db.collectionGroup(\"Products\", ref => ref.where(\"Product_ID\",'==', productID))\n    if (!(forSale && productIndex && Globals.productsSold)){\n      query = this.db.collectionGroup(\"Products\", ref => ref.where(\"Product_ID\",'==', productID).where(\"Public\",'==', true))\n    }\n    let sub = query.valueChanges().subscribe((docDatas) => {\n\n      if (docDatas.length == 0){\n\n        if (this.myCallback) \n          this.myCallback()\n        if (isPlatformBrowser(this.platformID))\n          sub.unsubscribe();\n      }\n\n      docDatas.forEach((doc) => {\n        const docData = doc as DocumentData\n        if (docData){\n          let uid = docData.UID as string\n          let productID = docData.Product_ID as string\n          let timestamp = (docData.Timestamp as firebase.firestore.Timestamp).toDate()\n          let description = docData.Description as string\n          let name = docData.Name as string\n  \n          let blurred = docData.Blurred as boolean\n          let templateColor = docData.Template_Color as string\n  \n          let likes = docData.Likes as number\n  \n          let comments = docData.Comments as number\n          let isPublic = docData.Public as boolean ?? true\n          let productType = docData.Type as string ?? \"ATC1000\"\n          let displaySide = docData.Side as string ?? \"front\"\n          let sides = docData[\"Sides\"] as Array<string> ?? [\"Front\"]\n          let priceCents = docData.Price_Cents as number\n\n          let product = new Product(\n            uid, \n            productID, \n            description, \n            productID, \n            timestamp, \n            \"\", \n            blurred, \n            priceCents,\n            name, \n            templateColor, \n            likes, \n            false, \n            comments, \n            true, \n            isPublic, \n            productType, \n            displaySide, \n            sides,\n            this.getURL(uid, productID)\n          )\n\n\n          if (forSale && productIndex != undefined && Globals.productsSold != undefined){\n            Globals.productsSold![productIndex] = product;\n          }\n          else{\n            if ((forCart ?? false)){\n              this.rootComponent!.cart![cartIndex!].product = product\n\n              if (this.myCallback) \n              this.myCallback()\n            if (isPlatformBrowser(this.platformID))\n              sub.unsubscribe();\n            }\n            else{\n\n              if ((forOrder ?? false)){\n                product.price = Globals.orders![orderIndex!].products[productIndex!].product?.price ?? 0\n                Globals.orders![orderIndex!].products[productIndex!].product = product\n\n              }\n              else if ((isSelectedOrder ?? false)){\n                product.price = Globals.selectedOrder!.products[productIndex!].product?.price ?? 0\n                Globals.selectedOrder!.products[productIndex!].product = product\n\n              }\n              else{\n                Globals.selectedProduct = product;\n              }\n              if (this.myCallback) \n              this.myCallback()\n            if (isPlatformBrowser(this.platformID))\n              sub.unsubscribe();\n            }\n          }\n        }\n      })\n    });\n  }\n  \n  getTemplatesFiltered(products: Array<Product>){\n    \n\n    Globals.templates = [...new Map(Globals.templates.map(item => [item.productCode, item])).values()]\n    console.log(Globals.templates)\n    return Globals.templates.filter(\n      (template, i) => products.some(product => product.productType === template.productCode));\n  }\n  \n  getURL(uid: string, productID: string){\n      return 'https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F' + uid + '%2FProducts%2F' + productID + '%2Flink_' + productID + '.png?alt=media'\n  }\n\n  getProfileURL(uid: string, dpID: string){\n    return 'https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F' + uid + '%2Fprofile_pic-' + dpID + '.jpeg?alt=media'\n  }\n\n  getThemeURL(uid: string){\n    return 'https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F' + uid + '%2FStore_Images%2F' + \"theme\" + '.png?alt=media'\n  }\n\n  getDefaultURL(){\n\n    return 'https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media'\n  }\n\n\n  getHomeURL(uid: string){\n    return 'https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F' + uid + '%2FStore_Images%2F' + \"home\" + '.png?alt=media'\n  }\n\n  getActionURL(uid: string){\n    return 'https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F' + uid + '%2FStore_Images%2F' + \"action\" + '.png?alt=media'\n  }\n  \n  \n  getAltURL(){\n    return 'https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media'\n  }\n\n  getTemplate(templateID: string){\n\n    Globals.selectedTemplate = undefined\n\n    let sub = this.db.collection(\"Templates\", ref => ref.where(\"Code\",'==', templateID).orderBy(\"index\", \"asc\")).valueChanges({idField : \"TemplateID\"}).subscribe((docDatas) => {\n\n      docDatas.forEach((doc) => {\n  \n        var docData = doc as DocumentData\n  \n        if (docData){\n          let type = doc.TemplateID\n          let testingAccounts = docData[\"testingAccounts\"] as Array<string>\n          let isAvailable = docData[\"isAvailable\"] as boolean\n\n          // guard isAvailable ?? false || testingAccounts?.contains(pUserInfo.uid ?? \"\") ?? false else{\n              \n          //     continue\n          //   }\n          \n          let display = docData[\"Display_Name\"] as string\n          let info = docData[\"Info\"] as string\n          let supportedSides = docData[\"Supported_Sides\"] as Array<Dict<any>>\n          \n          if (!supportedSides || supportedSides.length == 0){\n            return\n          }\n\n          let vari = docData[\"Colors\"] as Array<Dict<any>>\n          \n          let minPrice = docData[\"Min_Price_USD\"] as number\n          let extra = docData[\"Extra_Cost_USD\"] as number\n          let code = docData[\"Code\"] as string\n          let sizes = docData[\"Sizes\"] as Array<string>\n          let category = docData[\"category\"] as string\n          let onlyBulk = docData[\"Only_Bulk\"] as boolean\n          let bulkPrice = docData[\"Bulk_Price_USD\"] as number\n          let bulkSuggestPrice = docData[\"Bulk_Suggest_Price_USD\"] as number\n          let bulkUnit = docData[\"Bulk_Unit\"] as number\n          let has3D = docData[\"has3D\"] as boolean\n          let moreInfo = (docData[\"More_info\"] as string)\n          // let discountInfo = docData[\"Discount\"] as Dict<any>\n          // let discountedUsers = discountInfo[\"Artists\"] as Array<string>\n          // let discountedPrice = discountInfo.Minimum_Price_USD as number\n          // let discountCodes = discountInfo.Discount_Codes as Array<Dict<any>>   \n          \n          const template = new Template(\n            type,\n            display,\n            info,\n            [],\n            sizes,\n            minPrice,\n            code,\n            category,\n            moreInfo,\n            false,\n            [],\n            extra,\n            bulkPrice,\n            bulkUnit,\n            bulkSuggestPrice,\n            onlyBulk,\n            has3D\n          );\n\n          supportedSides.forEach((side) => {\n            let name = side[\"Name\"] as string\n            let height = side[\"HeightCM\"] as number\n            let width = side[\"WidthCM\"] as number\n            let widthMultiplier = side[\"WidthMultiplier\"] as number\n            let centerYConst = side[\"CenterYConst\"] as number\n            let centerXConst = side[\"CenterXConst\"] as number\n            let rotation = side[\"Rotation\"] as number\n            let useReverseAspect = side[\"useReverseAspect\"] as boolean ?? false\n            \n            let supportedSide = new TemplateSide(\n              name,\n              height,\n              width,\n              widthMultiplier,\n              centerYConst,\n              centerXConst,\n              useReverseAspect,\n              rotation\n            )\n            template.supportedSides.push(supportedSide)\n          })\n\n          vari.forEach((v) => {\n            let code = v[\"Code\"] as string\n            let display = v[\"Display\"] as string\n            let img = (v[\"IMG\"] as firebase.firestore.Blob)?.toBase64()\n            let backImg = (v[\"IMG_BACK\"] as firebase.firestore.Blob)?.toBase64()\n            let rgb = v[\"RGB\"] as Array<number>\n            let color = new Color(\n              code,\n              display,\n              rgb,\n              img,\n              backImg\n            )\n            template.colors.push(color)\n          })\n          Globals.selectedTemplate = template\n        }\n      });\n      if (this.myCallback)\n          this.myCallback()\n          if (isPlatformBrowser(this.platformID))\n          sub.unsubscribe();\n      });\n  }\n\n\n  getTemplates(){\n\n    Globals.templates = []\n\n\n\n    let sub = this.db.collection(\"Templates\", ref => ref.orderBy(\"index\", \"asc\")).valueChanges({idField : \"TemplateID\"}).subscribe((docDatas) => {\n\n      docDatas.forEach((doc) => {\n  \n        var docData = doc as DocumentData\n  \n        if (docData){\n          let type = doc.TemplateID\n          let testingAccounts = docData[\"testingAccounts\"] as Array<string>\n          let isAvailable = docData[\"isAvailable\"] as boolean\n\n          // guard isAvailable ?? false || testingAccounts?.contains(pUserInfo.uid ?? \"\") ?? false else{\n              \n          //     continue\n          //   }\n          \n          let display = docData[\"Display_Name\"] as string\n          let info = docData[\"Info\"] as string\n          let supportedSides = docData[\"Supported_Sides\"] as Array<Dict<any>>\n          \n          if (!supportedSides || supportedSides.length == 0){\n            return\n          }\n\n          let vari = docData[\"Colors\"] as Array<Dict<any>>\n          \n          let minPrice = docData[\"Min_Price_USD\"] as number\n          let extra = docData[\"Extra_Cost_USD\"] as number\n          let code = docData[\"Code\"] as string\n          let sizes = docData[\"Sizes\"] as Array<string>\n          let category = docData[\"category\"] as string\n          let has3D = docData[\"has3D\"] as boolean\n          let onlyBulk = docData[\"Only_Bulk\"] as boolean\n          let bulkPrice = docData[\"Bulk_Price_USD\"] as number\n          let bulkSuggestPrice = docData[\"Bulk_Suggest_Price_USD\"] as number\n          let bulkUnit = docData[\"Bulk_Unit\"] as number\n          let moreInfo = (docData[\"More_info\"] as string)\n          // let discountInfo = docData[\"Discount\"] as Dict<any>\n          // let discountedUsers = discountInfo[\"Artists\"] as Array<string>\n          // let discountedPrice = discountInfo.Minimum_Price_USD as number\n          // let discountCodes = discountInfo.Discount_Codes as Array<Dict<any>>   \n          \n          const template = new Template(\n            type,\n            display,\n            info,\n            [],\n            sizes,\n            minPrice,\n            code,\n            category,\n            moreInfo,\n            false,\n            [],\n            extra,\n            bulkPrice,\n            bulkUnit,\n            bulkSuggestPrice,\n            onlyBulk,\n            has3D\n          );\n\n          supportedSides.forEach((side) => {\n            let name = side[\"Name\"] as string\n            let height = side[\"HeightCM\"] as number\n            let width = side[\"WidthCM\"] as number\n            let widthMultiplier = side[\"WidthMultiplier\"] as number\n            let centerYConst = side[\"CenterYConst\"] as number\n            let centerXConst = side[\"CenterXConst\"] as number\n            let rotation = side[\"Rotation\"] as number\n            let useReverseAspect = side[\"useReverseAspect\"] as boolean ?? false\n            \n            let supportedSide = new TemplateSide(\n              name,\n              height,\n              width,\n              widthMultiplier,\n              centerYConst,\n              centerXConst,\n              useReverseAspect,\n              rotation\n            )\n            template.supportedSides.push(supportedSide)\n          })\n\n          vari.forEach((v) => {\n            let code = v[\"Code\"] as string\n            let display = v[\"Display\"] as string\n            let img = (v[\"IMG\"] as firebase.firestore.Blob)?.toBase64()\n            let backImg = (v[\"IMG_BACK\"] as firebase.firestore.Blob)?.toBase64()\n\n            let rgb = v[\"RGB\"] as Array<number>\n            let color = new Color(\n              code,\n              display,\n              rgb,\n              img,\n              backImg\n            )\n            template.colors.push(color)\n          })\n          \n          if (!Globals.templates.includes(template)){\n            Globals.templates.push(template)\n          }\n        }\n      });\n      if (this.myCallback)\n        this.myCallback()\n        if (isPlatformBrowser(this.platformID))\n        sub.unsubscribe();\n    });\n  }\n}\n","import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RoutingService {\n\n  constructor(private _router: Router, @Inject(PLATFORM_ID) private platformID: Object) { }\n\n  routeTo404(isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"404\")\n      return\n    }\n    this._router.navigateByUrl(\"not-found\")\n  }\n\n  routeToStore404(storeName: string, isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"not-found\")\n      return\n    }\n    this._router.navigateByUrl(storeName + '/' + \"not-found\")\n  }\n\n  routeToHome(storeName: string, isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"home\")\n      return\n    }\n    this._router.navigateByUrl(storeName + \"/\" + \"home\")\n  }\n\n  routeToOrders(storeName: string, isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"orders\")\n      return\n    }\n    this._router.navigateByUrl(storeName + \"/\" + \"orders\")\n  }\n\n  routeToShop(storeName: string, isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"products\")\n      return\n    }\n    this._router.navigateByUrl(storeName + \"/\" + \"products\")\n  }\n\n  routeToAbout(storeName: string, isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"about\")\n      return\n    }\n    this._router.navigateByUrl(storeName + \"/\" + \"about\")\n  }\n\n  routeToCart(storeName: string, isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"cart\")\n      return\n    }\n    this._router.navigateByUrl(storeName + \"/\" + \"cart\")\n  }\n\n  routeToProduct(productID: string, storeName: string, isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"products/\" + productID)\n      return\n    }\n    this._router.navigateByUrl(storeName + \"/\" + \"products/\" + productID)\n  }\n\n  routeToOrder(orderID: string, storeName: string, isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"orders/\" + orderID)\n      return\n    }\n    this._router.navigateByUrl(storeName + \"/\" + \"orders/\" + orderID)\n  }\n\n  routeToProfile(storeName: string, isCustom: boolean = false, selected?: string, externalURL?: string){\n    var url = \"\"\n    if (externalURL){\n      url = \"externalURL\" + \"/\" + \"my-store\"\n      if (selected){\n        url += \"?selected=\" + selected\n      }\n\n      window.location.href = url\n    }\n    else{\n      if (isCustom){\n        url = \"my-store\"\n      }\n      else{\n        url = storeName + \"/\" + \"my-store\"\n      }\n      if (selected){\n        url += \"?selected=\" + selected\n      }\n      this._router.navigateByUrl(url)\n    }\n  }\n\n  routeToShipping(storeName: string, isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"shipping-address\")\n      return\n    }\n    this._router.navigateByUrl(storeName + '/shipping-address')\n  }\n\n  routeToReview(storeName: string, isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"review-order\")\n      return\n    }\n    this._router.navigateByUrl(storeName + '/' + \"review-order\")\n  }\n\n  routeToBilling(storeName: string, isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"/billing-info\")\n      return\n    }\n    this._router.navigateByUrl(storeName + '/billing-info')\n  }\n\n  routeToBillingAdmin(storeName: string, isCustom: boolean = false){\n    if (isCustom){\n      this._router.navigateByUrl(\"my-store/billing\")\n      return\n    }\n    this._router.navigateByUrl(storeName + '/my-store/billing')\n  }\n  \n\n}\n","import { ChangeDetectorRef, Component, OnInit, Inject, OnDestroy } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Product } from 'src/app/models/product.model';\n\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Template } from '../models/template.model';\nimport { Country } from '../models/shipping-country.model';\nimport { Title, Meta } from '@angular/platform-browser';  \nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { PLATFORM_ID } from '@angular/core';\nimport { LoadService, Dict } from '../services/load.service';\nimport { AppComponent } from '../app.component';\nimport { Globals } from '../globals';\nimport { NgxSpinnerService } from \"ngx-spinner\";\nimport { RoutingService } from '../services/routing.service';\n\n@Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.css'],\n})\nexport class ShopComponent implements OnInit, OnDestroy {\n\n  isImgLoaded = false;\n\n\n  storeInfo(){return Globals.storeInfo}\n\n  availableCurrencies(){return Globals.availableCurrencies}\n\n  selectedCurrency(){return Globals.selectedCurrency}\n\n  templates(){return Globals.availableTemplates}\n\n  availableTemplates(){return Globals.availableTemplates}\n\n\n  getLinkImg(name: string){\n    return Globals.socials.filter(obj => { \n      return obj.name == name\n    })[0].img\n  }\n\n  openSocial(l: string){\n    const link = document.createElement('a');\n    link.target = '_blank';\n\n    let url: string = '';\n    if (!/^http[s]?:\\/\\//.test(l)) {\n      url += 'http://';\n    }\n\n    url += l\n\n    link.href = url\n    \n    link.setAttribute('visibility', 'hidden')\n    link.click()\n    link.remove()\n  }\n\n  selectedProduct(){return Globals.selectedProduct}\n    \n  \n  constructor(\n    @Inject(PLATFORM_ID) private platformID: Object,\n    private cdr: ChangeDetectorRef,\n    private router: ActivatedRoute,\n    private titleService: Title, \n    private metaService: Meta,\n    private loadService: LoadService,\n    private rootComponent: AppComponent,\n    private _router: Router,\n    private spinner: NgxSpinnerService,\n    private routingService: RoutingService,\n  ) {\n  }\n\n\n  ngOnDestroy(): void {\n    this.loadService.shopComponent = undefined\n  }\n  \n  ngOnInit(): void {\n    //Globals.siteTitle = \"jojo\"\n    \n    this.loadService.shopComponent = this\n\n    this.init();\n  }\n\n\n  isBrowser(){\n    return isPlatformBrowser(this.platformID)\n  }\n\n  isSpinning = false\n\n    showSpinner(){\n      if (!this.isSpinning){\n        this.isSpinning = true\n        if (isPlatformBrowser(this.platformID)){\n          this.spinner.show()\n        };\n  \n        setTimeout(() => {\n            this.spinner.hide()\n        }, 1500);\n      }\n    }\n  \n    hideSpinner(){\n      if (this.isSpinning){\n        this.isSpinning = false\n        // this.spinner.hide()\n      }\n    }\n\n    routeToProduct(productID: string){\n      this.rootComponent.routeToProduct(productID)\n    }\n\n\n\n    selectedTheme(){\n    \n      let co = Globals.storeInfo?.colorStyle?.btn_color\n      let bco = Globals.storeInfo?.colorStyle?.bg_color\n      let name = Globals.storeInfo?.colorStyle?.name\n  \n      let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n  \n      let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n  \n      var theme: Dict<string> = {\n        \"name\": name,\n        \"color\": color,\n        \"bg_color\": bg_color\n      }\n      return theme\n    }\n\n    storeProducts?: Array<Product> = undefined\n\n    callback(){\n      if (Globals.storeInfo.username){\n        this.rootComponent.setFavIcon(Globals.storeInfo.profileLink!.toString())\n        this.addTags(Globals.storeInfo.fullName ?? \"Thred\", (Globals.storeInfo.profileLink ?? new URL(\"https://shopmythred.com\")).toString(), Globals.storeInfo.bio ?? \"Check out my Thred Store!\", \"shopmythred.com/\" + Globals.storeInfo.username)\n        if (isPlatformBrowser(this.platformID)){\n          this.showSpinner()\n          this.loadService.logView()\n          this.rootComponent.setOptions()\n        }\n        if (Globals.userInfo == undefined && isPlatformBrowser(this.platformID)){\n          this.loadService.getCustomer()\n        }\n        else if (Globals.availableCurrencies.length == 0 && isPlatformBrowser(this.platformID)){\n          this.loadService.getCountries()\n        }\n        else if (Globals.templates.length == 0 && isPlatformBrowser(this.platformID)){\n          this.loadService.getTemplates()\n        }\n        else if (this.storeProducts == undefined){\n          this.loadService.getPosts(products => {\n            this.storeProducts = products\n          })\n        }\n        else{\n          this.rootComponent.cdr.detectChanges()\n        }\n      }\n      else{\n        this.routingService.routeTo404(this.getStoreName().isCustom)\n      }\n    }\n\n  selectedIndicator(){\n    \n    let co = Globals.storeInfo?.loading?.color\n    let bco = Globals.storeInfo?.loading?.bg_color\n    let name = Globals.storeInfo?.loading?.name\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    var indicator: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return indicator\n  }\n  \n  init() {\n    const storeInfo = this.getStoreName()\n    this.downloadAllStoreInfo(storeInfo.link, storeInfo.isCustom)\n  }\n\n  downloadAllStoreInfo(storeName: string, isCustom = false){\n    this.loadService.myCallback = () => this.callback()\n    this.loadService.getUser(storeName, undefined, isCustom)\n  }\n\n  getStoreName(){\n    var request = \"\"\n    if (isPlatformServer(this.platformID)){\n      request = Globals.URL\n      console.log(request)\n    }\n    else{\n      request = globalThis.location.host\n    }  \n    if (request != 'localhost:4200' && request != 'shopmythred.com'){\n      return {\n        isCustom: true,\n        link: request\n      }\n    }\n    const routeParams = this.router.snapshot.paramMap;\n    const storeID = routeParams.get('user') as string;\n    return {\n      isCustom: false,\n      link: storeID\n    }\n  }\n\n  mode(){\n      return this.rootComponent.mode\n  }\n\n\n  open(e: Event, item: Product){\n\n\n\n    \n  }\n\n\n  addTags(title: string, imgUrl: string, description: string, url: string){\n    this.metaService.updateTag({property: 'og:title', content: title + \" - \" + \"Products\"});\n    this.metaService.updateTag({property: 'og:image', content: imgUrl});\n    this.metaService.updateTag({property: 'og:url', content: url})\n    this.metaService.updateTag({property: 'og:description', content: description})\n    this.titleService.setTitle(title)\n    this.metaService.updateTag({property: 'description', content: description})\n\n  }\n\n\n  formatPrice(price: number){\n    var priceAsString = new String((price * Globals.selectedCurrency!.rate).toFixed(2))\n    let index = priceAsString.indexOf(\".\")\n\n    switch (index){\n    case priceAsString.length - 1:\n        priceAsString += \"00\"\n        break\n    case priceAsString.length - 2:\n        priceAsString += \"0\"\n        break\n    default:\n\n        break\n    }\n    return this.getCurrencyForCountry(Globals.selectedCurrency!, Globals.selectedCurrency!.name != \"US\") + priceAsString\n}\n  \ngetCurrencyForCountry(country: Country, shouldShowName: boolean){\n\n  var returnItem = country.currency_symbol\n  if (shouldShowName) returnItem = country.name + \" \" + returnItem\n\n  return returnItem\n}\n\n  \n  titleCase(str: string) {\n    var splitStr = str.toLowerCase().split(' ');\n    for (var i = 0; i < splitStr.length; i++) {\n        // You do not need to check if i is larger than splitStr length, as your for does that for you\n        // Assign it back to the array\n        splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);     \n    }\n    // Directly return the joined string\n    return splitStr.join(' '); \n }\n\n  \n\n}\n","<!-- Navigation-->\n<router-outlet></router-outlet>\n\n  <!-- Header-->\n  <ngx-spinner \n  bdColor = '{{selectedIndicator().bg_color}}'\n  size = \"large\" \n  color = '{{selectedIndicator().color}}'\n  type = {{selectedIndicator().name}} \n  [fullScreen] = \"true\"\n  style.color = \"{{selectedIndicator()!.color}}\"\n  >\n  <h3 class=\"text-center mt-5\" [style.font-family]=\"storeInfo().fontName!\">{{storeInfo()?.fullName}}\n  </h3>\n  </ngx-spinner>\n\n  <header *ngIf=\"isBrowser() && storeProducts?.length != 0\" class=\"bg-{{storeInfo().colorStyle!.back_code}} py-6\">\n    <div class=\"cover\" style=\"background-image: url(https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media);\" [style.background-image]='\"url(\" + storeInfo()!.themeLink!.toString() + \")\"'>\n        <div class=\"d-flex align-items-center justify-content-center\" style=\"height: 300px; font-weight: bold;font-size:35px\">\n            <p class = \"text-center text-{{storeInfo().colorStyle!.text_code}}\" style = \"line-height:1.2em;text-shadow: 2px 2px 4px #42424281;\" [style.font-family]=\"storeInfo().fontName!\">\n                {{storeInfo().fullName}}\n             </p>\n        </div>\n    </div>\n  </header>\n  <!-- Section-->\n  <div style=\"max-height: 100%; min-height: 100%;\" style.background-color=\"{{selectedTheme()!.bg_color}}\">\n    <section *ngIf=\"isBrowser() && storeProducts?.length != 0\" class=\"py-5\" style.background-color=\"{{selectedTheme()!.bg_color}}\">\n        <h1 class=\"display-4 fw-bolder text-center\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">{{mode()}}</h1>\n        <div [hidden]=\"storeProducts == []\" class=\"container px-4 px-lg-5 mt-5\">\n            <div class=\"row gx-4 gx-lg-5 row-cols-1 row-cols-md-3 row-cols-xl-4 justify-content-center\">\n                <div class=\"col mb-5\" *ngFor=\"let product of storeProducts\">\n                    <div class=\"card h-100 bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                        <!-- Product image-->\n                        <a role=\"button\" (click)=\"routeToProduct(product.productID)\"><img class=\"card-img-top\" src='{{product.url}}' alt='ok' onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\"/></a>\n                        <!-- Product details-->\n                        <div class=\"card-body p-2 pb-0\">\n                            <div class=\"text-center\">\n                                <!-- Product name-->\n                                <h4 class=\"fw-bolder\" ><a style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\"  role=\"button\" (click)=\"routeToProduct(product.productID)\" [style.font-family]=\"storeInfo().fontName!\">{{product.name}}</a></h4>\n                                <!-- Product price-->\n                            </div>\n                        </div>\n                        <!-- Product actions-->\n                        <div class=\"card-footer p-4 pt-0 pb-4 border-top-0 bg-transparent\">\n                            <div class=\"text-center\" ><a [style.font-family]=\"storeInfo().fontName!\" class=\"btn btn-outline-{{storeInfo().colorStyle!.text_code}} mt-auto d-flex justify-content-center text-center\" style=\"font-weight:bold;\" role=\"button\" (click)=\"routeToProduct(product.productID)\">{{formatPrice(product.price / 100)}}</a></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n      </section>\n       <!-- Footer-->\n       <footer *ngIf=\"isBrowser() && storeProducts?.length != 0\" class=\"py-5 bg-{{storeInfo().colorStyle!.back_code}}\">\n        <div class=\"container w-100 d-block justify-content-center\">\n            <div class=\"w-100 row row-cols-1 row-cols-md-7 row-cols-xl-7 justify-content-center justify-content-sm-start mb-5\">\n                <div class=\"col mb- mx-2\" [style.width.px]=\"50\">\n                    <a role=\"button\">\n                        <img style=\"object-fit: contain;\" [style.width.px]=\"50\"  alt='ok' src=\"assets/visacard.png\"/>\n                    </a>\n                </div>\n                <div class=\"col mb-2 mx-2\" [style.width.px]=\"50\">\n                    <a role=\"button\">\n                        <img style=\"object-fit: contain;\" [style.width.px]=\"50\"  alt='ok' src=\"assets/mastercard.png\"/>\n                    </a>\n                </div>\n                <div class=\"col mb-2 mx-2\" [style.width.px]=\"50\">\n                    <a role=\"button\">\n                        <img style=\"object-fit: contain;\" [style.width.px]=\"50\"  alt='ok' src=\"assets/amexcard.png\"/>\n                    </a>\n                </div>\n                <div class=\"col mb-2 mx-2\" [style.width.px]=\"50\">\n                    <a role=\"button\">\n                        <img style=\"object-fit: contain;\" [style.width.px]=\"50\"  alt='ok' src=\"assets/applecard.png\"/>\n                    </a>\n                </div>\n                <div class=\"col mb-2 mx-2\" [style.width.px]=\"50\">\n                    <a role=\"button\">\n                        <img style=\"object-fit: contain;\" [style.width.px]=\"50\"  alt='ok' src=\"assets/googlecard.png\"/>\n                    </a>\n                </div>\n                <div class=\"col mb-2 mx-2\" [style.width.px]=\"50\">\n                    <a role=\"button\">\n                        <img style=\"object-fit: contain;\" [style.width.px]=\"50\"  alt='ok' src=\"assets/microsoftcard.png\"/>\n                    </a>\n                </div>\n            </div>\n            <div class=\"w-100 row row-cols-2 row-cols-md-4 row-cols-xl-4 justify-content-center\">\n                <div class=\"col mb-4 mx-3\" *ngFor=\"let social of storeInfo().socials\" [style.width.px]=\"45\">\n                    <a role=\"button\" (click)=\"openSocial(social.link)\">\n                        <img class=\"rounded-circle\" style=\"object-fit: contain;\" [style.width.px]=\"45\"  alt='ok' [src]=\"getLinkImg(social.name)\"/>\n                    </a>\n                </div>\n            </div>\n            <div class=\"w-100 row row-cols-4 row-cols-md-7 row-cols-xl-7 justify-content-end\">\n                <div class=\"col mb-4 mx-2\" [style.width.px]=\"50\">\n                    \n                </div>\n                <div class=\"col mb-4 mx-2\" [style.width.px]=\"50\">\n                    \n                </div>\n                <div class=\"col mb-4 mx-2\" [style.width.px]=\"50\">\n                    \n                </div>\n                <div class=\"col mb-4 mx-2\" [style.width.px]=\"50\">\n                    \n                </div>\n                <div class=\"col mb-4 mx-2\" [style.width.px]=\"50\">\n                    \n                </div>\n            </div>\n        </div>\n        <div class=\"container\"><p class=\"m-0 text-center text-{{storeInfo().colorStyle!.text_code}}\" [style.font-family]=\"storeInfo().fontName!\">&copy; {{storeInfo().fullName}} 2021</p></div>\n        <div class=\"container\"><p class=\"m-0 text-center text-{{storeInfo().colorStyle!.text_code}}\" [style.font-family]=\"storeInfo().fontName!\">Powered by Thred</p></div>\n      </footer>\n  </div>\n\n  <!-- Bootstrap core JS-->\n  <script *ngIf=\"isBrowser();\" src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js\"></script>\n  <!-- Core theme JS-->\n  <script *ngIf=\"isBrowser();\" src=\"js/scripts.js\"></script>","import { Component, OnInit, Inject, PLATFORM_ID, ChangeDetectorRef } from '@angular/core';\nimport { Globals } from '../globals';\nimport { Product } from '../models/product.model';\nimport { ProductInCart } from '../models/product-in-cart.model';\nimport { Dict, LoadService } from '../services/load.service';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { Country } from '../models/shipping-country.model';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Title, Meta } from '@angular/platform-browser';\nimport { ShippingInfo } from '../models/shipping-address.model';\nimport { AppComponent } from '../app.component';\nimport { NgxSpinnerService } from \"ngx-spinner\";\nimport { RoutingService } from '../services/routing.service';\n\n@Component({\n  selector: 'app-view-order-info',\n  templateUrl: './view-order-info.component.html',\n  styleUrls: ['./view-order-info.component.css']\n})\nexport class ViewOrderInfoComponent implements OnInit {\n\n  storeInfo(){return Globals.storeInfo}\n\n  availableCurrencies(){return Globals.availableCurrencies}\n\n\n  templates(){return Globals.availableTemplates}\n\n  availableTemplates(){return Globals.availableTemplates}\n\n\n  selectedProduct(){return Globals.selectedProduct}\n  \n  selectedTemplate(){return Globals.selectedTemplate}\n\n  shippingAddress(){\n    return this.selectedOrder()!.address\n  }\n\n  billingAddress(){return Globals.billingInfo}\n\n  selectedCountry!: string\n  selectedCode!: string\n  loadedCart = false\n\n  cartLength(){\n    if (this.rootComponent.cart?.length == 0){\n      \n      return \"\"\n    }\n    return this.rootComponent.cart?.length\n  }\n\n  selectedOrder(){\n    return Globals.selectedOrder\n  }\n\n\n\n  getColor(product?: Product){\n\n    let colors = Globals.templates.find(template => template.productCode == product?.productType)?.colors\n    return colors?.find(color => color.code == product?.templateColor)?.display ?? \"White\"\n  }\n\n  stillLoadingProducts(){\n    return this.rootComponent.cart?.filter(product => product.product?.price == undefined)?.length != 0\n  }\n\n  calculateShipping($event: any){\n \n    let country = $event.target.options[$event.target.options.selectedIndex].text;\n\n    this.selectedCountry = country\n  }\n\n  onKey(event: any) {\n    const inputValue = event.target.value;\n    this.selectedCode = inputValue\n  }\n\n  \n\n  calculateDiscount(){\n \n\n    // this.selectedCountry = country\n  }\n\n  calculate(){\n    this.cdr.detectChanges()\n  }\n\n  shipping(){\n    let shipping = (this.selectedOrder()?.shippingCost ?? 0)\n    if (shipping > 0){\n      return this.formatPrice(shipping)\n    }\n    return \"FREE\"\n  }\n\n  total(){\n    var total = 0\n    \n    Globals.selectedOrder?.products.forEach(product => {\n      total += (product.product?.price ?? 0) * (product.quantity ?? 1)\n    })\n    return total / 100\n  }\n\n  format(d: Date) {\n    return Globals.months[d.getMonth()].substring(0,3) + \" \" + d.getDate() + \" \" + d.getFullYear()\n  }\n\n  selectedIndicator(){\n    \n    let co = Globals.storeInfo?.loading?.color\n    let bco = Globals.storeInfo?.loading?.bg_color\n    let name = Globals.storeInfo?.loading?.name\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    var indicator: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return indicator\n  }\n\n  isSpinning = false\n\n    showSpinner(){\n      if (!this.isSpinning){\n        this.isSpinning = true\n        if (isPlatformBrowser(this.platformID)){\n          this.spinner.show()\n        };\n  \n        setTimeout(() => {\n            this.spinner.hide()\n        }, 1500);\n      }\n    }\n  \n    hideSpinner(){\n      if (this.isSpinning){\n        this.isSpinning = false\n        // this.spinner.hide()\n      }\n    }\n\n  async callback(orderID: string){\n    if (Globals.storeInfo.username){\n      this.rootComponent.setOptions()\n      this.rootComponent.setFavIcon(Globals.storeInfo.profileLink!.toString())\n\n      this.showSpinner()\n      this.addTags(Globals.storeInfo.fullName ?? \"Thred\", (Globals.storeInfo.profileLink ?? new URL(\"https://shopmythred.com\")).toString(), Globals.storeInfo.bio ?? \"Check out my Thred Store!\", \"shopmythred.com/\" + Globals.storeInfo.username)\n      if (Globals.templates.length == 0 && isPlatformBrowser(this.platformID)){\n        this.loadService.getTemplates()\n      } \n      else if (Globals.selectedOrder == undefined && isPlatformBrowser(this.platformID)){\n        this.loadService.getOrder(orderID)\n      }\n      else if (Globals.selectedOrder?.merchantUID != Globals.storeInfo.uid){\n        this.routingService.routeToStore404(this.getStoreName().link, this.getStoreName().isCustom)\n        \n        return\n      }\n      else if (Globals.shippingInfo == undefined && isPlatformBrowser(this.platformID)){\n        this.loadService.getShippingAddress(this.selectedOrder()?.uid)\n      }\n      else{\n        this.loadedCart = true\n        this.cdr.detectChanges()\n        this.rootComponent.cdr.detectChanges()\n      }\n    }\n    else{\n      this.routingService.routeTo404(this.getStoreName().isCustom)\n    }\n  }\n\n  // routeToMain404(){\n  //   this._router.navigateByUrl(\"not-found\")\n  // }\n\n  // routeTo404(){\n  //   const storeName = this.getStoreName()\n  //   this._router.navigateByUrl(storeName + \"/not-found\")\n  // }\n\n  orderCurrency(){\n    return new Country(Globals.selectedOrder?.currency.toUpperCase().slice(0, (this.selectedOrder()?.currency.length ?? 0) - 1), undefined, undefined, Globals.selectedOrder?.currency, Globals.selectedOrder?.currencySymbol, 1, true, 0)\n  }\n\n  getShippingAddressSecond(){\n    var address = this.shippingAddress()?.street\n    var unit = this.shippingAddress()?.unit\n    if (unit) address += \". \" + unit\n    return address\n  }\n\n  getShippingAddressThird(){\n    return this.shippingAddress()?.city + \", \" + this.shippingAddress()?.admin_area + \". \" + this.shippingAddress()?.postal\n  }\n\n  getShippingAddressFirst(){\n    var name = this.shippingAddress()?.name\n    var company = this.shippingAddress()?.company\n    if (company) name += \" - \" + company\n    return name\n  }\n\n\n  stillLoading(){\n    return (this.selectedOrder()?.products.filter(product => product.product?.price == undefined)?.length != 0) \n    || \n    Globals.availableCurrencies?.filter(currency => currency.shipping_rate_usd == undefined)?.length != 0\n    ||\n    Globals.shippingTax == undefined\n\n  }\n\n  itemCount(){\n    var count = 0\n    this.selectedOrder()?.products.forEach(product => {\n      count += (product.quantity ?? 0)\n    });\n    return count\n  }\n\n  orderTotal(){\n    return this.numberWithCommas(this.formatPrice(this.total() + this.shippingNum() + this.productTaxNum()))\n  }\n\n  productTax(){\n    let tax = this.tax()\n    if (tax > 0){\n      return this.numberWithCommas(this.formatPrice((tax ?? 0)))\n    }\n    return \"N/A\"\n  }\n\n  trackingLink(){\n    var link = \"\"\n    if (this.selectedOrder()?.address?.country === \"Canada\"){\n      link = \"https://www.purolator.com/purolator/ship-track/tracking-details.page?pin=\" + this.selectedOrder()?.trackingNumber\n    }\n    else{\n      link = \"https://chitchats.com/tracking/\" + this.selectedOrder()?.trackingNumber\n    }\n    window.open(link, \"_blank\");\n  }\n\n  productTaxNum(){\n    return (this.tax() ?? 0)\n  }\n\n  tax(){\n    return this.selectedOrder()!.tax\n  }\n\n  shippingNum(){\n    return this.selectedOrder()?.shippingCost ?? 0\n  }\n  \n  \n  init() {\n\n\n    Globals.selectedOrder = undefined\n    Globals.shippingInfo = undefined\n\n    const storeInfo = this.getStoreName()\n    this.downloadAllStoreInfo(storeInfo.link, storeInfo.isCustom)\n\n  }\n\n  downloadAllStoreInfo(storeName: string, isCustom = false){\n    let orderID = this.getOrderID()\n    this.loadService.myCallback = () => this.callback(orderID)\n    this.loadService.getUser(storeName, undefined, isCustom)\n  }\n\n  getStoreName(){\n    var request = \"\"\n    if (isPlatformServer(this.platformID)){\n      request = Globals.URL\n      console.log(request)\n    }\n    else{\n      request = globalThis.location.host\n    }  \n    if (request != 'localhost:4200' && request != 'shopmythred.com'){\n      return {\n        isCustom: true,\n        link: request\n      }\n    }\n    const routeParams = this.router.snapshot.paramMap;\n    const storeID = routeParams.get('user') as string;\n    return {\n      isCustom: false,\n      link: storeID\n    }\n  }\n\n  isBrowser(){\n    return isPlatformBrowser(this.platformID)\n  }\n\n  hasCart(){\n    return (Globals.selectedOrder != undefined)\n  }\n\n  formatPrice(price: number){\n    var priceAsString = new String((price * this.orderCurrency()!.rate).toFixed(2))\n    let index = priceAsString.indexOf(\".\")\n\n    switch (index){\n    case priceAsString.length - 1:\n        priceAsString += \"00\"\n        break\n    case priceAsString.length - 2:\n        priceAsString += \"0\"\n        break\n    default:\n\n        break\n    }\n    return this.numberWithCommas(this.getCurrencyForCountry(this.orderCurrency(), this.orderCurrency().name != \"US\") + priceAsString)\n  }\n\n  numberWithCommas(x: string) {\n    return x.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n  \n  getCurrencyForCountry(country: Country, shouldShowName: boolean){\n\n    var returnItem = country.currency_symbol\n    if (shouldShowName) returnItem = country.name + \" \" + returnItem\n  \n    return returnItem\n  }\n\n  addTags(title: string, imgUrl: string, description: string, url: string){\n    this.metaService.updateTag({property: 'og:title', content: title  + \" - \" + \"Home\"});\n    this.metaService.updateTag({property: 'og:image', content: imgUrl});\n    this.metaService.updateTag({property: 'og:url', content: url})\n    this.metaService.updateTag({property: 'og:description', content: description})\n    this.titleService.setTitle(title)\n    this.metaService.updateTag({property: 'description', content: description})\n\n  }\n\n  routeToShipping(){\n\n    if (Globals.shippingInfo?.email && Globals.billingInfo?.name){\n      this.rootComponent.routeToReview()\n    }\n    else if (Globals.shippingInfo?.email){\n      this.rootComponent.routeToBilling()\n    }\n    else if (Globals.billingInfo?.name){\n      this.rootComponent.routeToShipping()\n    }\n    else{\n      this.rootComponent.routeToShipping()\n    }\n  }\n\n  next(){\n    \n    this.routeToShipping()\n  }\n\n\n  getOrderID(){\n    const routeParams = this.router.snapshot.paramMap;\n    const orderID = routeParams.get('order') as string;\n\n  // Find the product that correspond with the id provided in route.\n    return orderID\n  }\n  \n  constructor(\n    @Inject(PLATFORM_ID) private platformID: Object,\n    private cdr: ChangeDetectorRef,\n    private router: ActivatedRoute,\n    private titleService: Title, \n    private metaService: Meta,\n    private loadService: LoadService,\n    private _router: Router,\n    private rootComponent: AppComponent,\n    private spinner: NgxSpinnerService,\n    private routingService: RoutingService,\n\n  ) {}\n\n  ngOnInit(): void {\n    this.init()\n  }\n\n}\n","<router-outlet></router-outlet>\n\n<ngx-spinner\n*ngIf=\"isBrowser()\" \nbdColor = '{{selectedIndicator().bg_color}}'\nsize = \"large\"\ncolor = '{{selectedIndicator().color}}'\ntype = {{selectedIndicator().name}} \n[fullScreen] = \"true\"\nstyle.color = \"{{selectedIndicator()!.color}}\"\n>\n<h3 class=\"text-center mt-5\" [style.font-family]=\"storeInfo().fontName!\">{{storeInfo()?.fullName}}\n</h3>\n</ngx-spinner>\n  <!-- Header-->\n  <header *ngIf=\"isBrowser() && hasCart();\" class=\"bg-{{storeInfo().colorStyle!.back_code}} py-6\">\n    <div class=\"cover\" style=\"background-image: url(https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media);\" [style.background-image]='\"url(\" + storeInfo()!.themeLink!.toString() + \")\"'>\n      <div class=\"d-flex align-items-center justify-content-center\" style=\"height: 100px; font-weight: bold;font-size:35px\">\n            <p class = \"text-center\" style = \"line-height:1.2em;text-shadow: 2px 2px 4px #42424281;\">\n              ORDER HAS BEEN PLACED\n             </p>\n           </div>\n      </div>\n  </header>\n\n  <section *ngIf=\"isBrowser() && hasCart();\" [hidden]=\"stillLoadingProducts()\" class=\"py-5\">\n    <div class=\"container pb-5 mb-2 mb-md-4\">\n        <div class=\"row\">\n          <!-- List of items-->\n          <!-- <div class=\"d-flex justify-content-left align-items-center pb-4 pb-sm-5 mt-1 ms-2 ps-1\">\n            <a class=\"btn btn-outline-primary btn-sm ps-2\" href=\"shop-grid-ls.html\"><i class=\"ci-arrow-left me-2\"></i>Continue shopping</a>\n          </div> -->\n\n          <section class=\"col-lg-8\">\n            \n            <div class=\"bg-white rounded-3 shadow-lg p-2 pb-1\">\n                <div class=\"py-0 px-xl-2\">\n                  <div [hidden]=\"stillLoadingProducts()\" class=\"text-accent\">\n                    <h2 class=\"h6 mb-3 pb-1 ps-2 mt-2\">Shipping Address</h2>\n                    <h3 class=\"fw-normal ps-2\" style=\"font-style: italic\">{{getShippingAddressFirst()}}</h3>\n                    <h3 class=\"fw-normal ps-2\" style=\"font-style: italic\">{{getShippingAddressSecond()}}</h3>\n                    <h3 class=\"fw-normal ps-2\" style=\"font-style: italic\">{{getShippingAddressThird()}}</h3>\n                    <!-- <p><a href=\"/{{storeInfo().username}}/shipping-address\" class=\"text-primary text-decoration-none ps-4\" style=\"font-weight: bold;\">Change</a></p> -->\n                  </div>\n                </div>\n            </div>\n<!-- \n            <div class=\"bg-white rounded-3 shadow-lg p-2 pt-3 pb-1 mt-3\">\n                <div class=\"py-0 px-xl-2\">\n                  <div [hidden]=\"stillLoadingProducts()\" class=\"text-accent\">\n                    <h2 class=\"h6 mb-3 pb-1 ps-4 mt-2\">2. Payment Method </h2>\n                    <h3 class=\"fw-normal ps-4\" style=\"font-style: italic\">{{getBillingAddressFirst()}}</h3>\n                    <p><a href=\"/{{storeInfo().username}}/billing-info\" class=\"text-primary text-decoration-none ps-4\" style=\"font-weight: bold;\">Change</a></p>\n                    </div>\n                </div>\n            </div> -->\n            <!-- Item-->\n            <div class=\"bg-white rounded-3 shadow-lg p-4 pt-3 mt-3\">\n                <h2 class=\"h6 mb-1 pb-1 ps-1 mt-2\">Order #: {{selectedOrder()!.orderID}}</h2>\n                <div class=\"py-2 px-xl-2\">\n                    <div *ngFor=\"let product of selectedOrder()!.products\" class=\"d-sm-flex justify-content-between align-items-center pb-3 pt-2\">\n                        <div class=\"d-block d-sm-flex align-items-center text-center text-sm-start\"><a class=\"d-inline-block flex-shrink-0 mx-auto me-sm-4\" href=\"/{{storeInfo().username}}/products/{{product.product!.productID}}\"><img style=\"border-radius: 2.5%;\" src=\"{{product.product!.url}}\" onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\" width=\"160\" alt=\"Product\"/></a>\n                          <div class=\"pt-2\">\n                              <p><a href=\"/{{storeInfo().username}}/products/{{product.product!.productID}}\" class=\"text-dark text-decoration-none\" style=\"font-weight: bold;\">{{product.product?.name ?? \"\"}}</a></p>\n                            <div class=\"fs-sm\"><span class=\"text-muted me-2\">Size:</span>{{product.size ?? \"M\"}}</div>\n                            <div class=\"fs-sm\"><span class=\"text-muted me-2\">Color:</span>{{getColor(product.product)}}</div>\n                            <div class=\"fs-lg text-accent pt-2\">{{formatPrice(product.product!.price / 100)}}</div>\n                          </div>\n                        </div>\n                        <div class=\"pt-2 pt-sm-0 ps-sm-3 mx-auto mx-sm-0 text-center text-sm-start\" style=\"max-width: 5.5rem;\">\n                          <label class=\"form-label\" for=\"quantity1\">Quantity</label>\n                          <div>\n                            <label class = \"text-center\" style=\"font-weight: bold; font-size: 22px; width: 100%;\" for=\"quantity1\">{{product.quantity ?? 1}}</label>\n                          </div>\n                        </div>\n                      </div>\n                </div>\n            </div>\n            \n          </section>\n          <!-- Sidebar-->\n          <aside class=\"col-lg-4 pt-4 pt-lg-0 ps-xl-5\">\n            <div [hidden]=\"stillLoading()\" class=\"bg-white rounded-3 shadow-lg p-4 pb-0\">\n              <div class=\"py-2 px-xl-2\">\n                <!-- (click)=\"placeOrder()\" -->\n                <a *ngIf=\"selectedOrder()?.trackingNumber ?? false\" class=\"btn btn-primary  d-block w-100 mb-4\" type=\"button\" (click)=\"trackingLink()\"><i class=\"ci-card fs-lg me-2\"></i>Track Order</a>\n\n                <div class=\"text-center mt-4 pt-3 border-top border-bottom\">\n                <div class=\"d-flex justify-content-between\">\n                    <h3 class=\"fw-bold\" style=\"font-size: 9;\">Items ({{itemCount()}}):</h3>\n                    <h3 class=\"fw-normal\" style=\"font-size: 9;\">{{formatPrice(total())}}</h3>\n                </div>\n                <div class=\"d-flex justify-content-between\">\n                    <h3 class=\"fw-bold\" style=\"font-size: 9;\">Shipping & Handling:</h3>\n                    <h3 class=\"fw-normal\" style=\"font-size: 9;\">{{shipping()}}</h3>\n                </div>\n                <div class=\"d-flex justify-content-between\">\n                    <h3 class=\"fw-bold\" style=\"font-size: 9;\">Sales Tax:</h3>\n                    <h3 class=\"fw-normal\" style=\"font-size: 9;\">{{productTax()}}</h3>\n                </div>\n                </div>\n                <div class=\"d-flex justify-content-between pt-2 mt-2\">\n                    <h3 class=\"fw-bold\" style=\"font-size: 9;\">Order Total:</h3>\n                    <h3 class=\"fw-normal\" style=\"font-size: 9;\">{{orderTotal()}}</h3>\n                </div>\n              </div>\n            </div>\n          </aside>\n        </div>\n      </div>\n  </section>\n","import { Component, OnInit, Inject, PLATFORM_ID, ChangeDetectorRef } from '@angular/core';\nimport { Globals } from '../globals';\nimport { Product } from '../models/product.model';\nimport { ProductInCart } from '../models/product-in-cart.model';\nimport { Dict, LoadService } from '../services/load.service';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { Country } from '../models/shipping-country.model';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Title, Meta } from '@angular/platform-browser';\nimport { Order } from '../models/order.model';\nimport { AppComponent } from '../app.component';\nimport { NgxSpinnerService } from \"ngx-spinner\";\nimport { RoutingService } from '../services/routing.service';\n\n@Component({\n  selector: 'app-view-order',\n  templateUrl: './view-order.component.html',\n  styleUrls: ['./view-order.component.css']\n})\nexport class ViewOrderComponent implements OnInit {\n\n\n  storeInfo(){return Globals.storeInfo}\n\n  availableCurrencies(){return Globals.availableCurrencies}\n\n  selectedCurrency(){return Globals.selectedCurrency}\n\n  templates(){return Globals.availableTemplates}\n\n  availableTemplates(){return Globals.availableTemplates}\n\n\n  selectedProduct(){return Globals.selectedProduct}\n  \n  selectedTemplate(){return Globals.selectedTemplate}\n\n  selectedCountry!: string\n  selectedCode!: string\n  loadedCart = false\n  \n  cartLength(){\n    if (this.rootComponent.cart?.length == 0){\n      \n      return \"\"\n    }\n    return this.rootComponent.cart?.length\n  }\n\n  orders(){\n    return Globals.orders\n  }\n\n\n  getColor(product?: Product){\n\n    let colors = Globals.templates.find(template => template.productCode == product?.productType)?.colors\n    return colors?.find(color => color.code == product?.templateColor)?.display ?? \"White\"\n  }\n\n  stillLoadingProducts(){\n    return this.rootComponent.cart?.filter(product => product.product?.price == undefined)?.length != 0\n  }\n\n  calculateShipping($event: any){\n \n    let country = $event.target.options[$event.target.options.selectedIndex].text;\n\n    this.selectedCountry = country\n  }\n\n  onKey(event: any) {\n    const inputValue = event.target.value;\n    this.selectedCode = inputValue\n  }\n\n  calculateDiscount(){\n \n\n    // this.selectedCountry = country\n  }\n\n  updateProductQty(product: ProductInCart, newQty: string){\n \n    product.quantity = Number(newQty)\n\n    let mappedData: Array<Dict<any>> = []\n    let dataToRemove: Array<ProductInCart> = []\n\n    this.rootComponent.cart?.forEach((cartProduct, index) => {\n      if ((cartProduct.quantity ?? 0) > 0){\n        let data = {\n          \"UID\" : cartProduct.product?.uid,\n          \"Size\" : cartProduct.size,\n          \"Qty\" : cartProduct.quantity,\n          \"Timestamp\" : cartProduct.timestamp,\n          \"Post_ID\" : cartProduct.product?.productID\n        }\n        mappedData.push(data)\n      }\n      else{\n        dataToRemove.push(cartProduct)\n      }\n    })\n\n    this.rootComponent.cart = this.rootComponent.cart?.filter(cartProduct => !(dataToRemove.includes(cartProduct)))\n\n    this.loadService.changeCart(mappedData)\n    this.cdr.detectChanges()\n    // this.selectedCountry = country\n  }\n\n  calculate(){\n    this.cdr.detectChanges()\n  }\n\n  shipping(order: Order){\n    let shipping = (Globals.availableCurrencies.find(country => country.name_full == this.selectedCountry)?.shipping_rate_usd ?? 0) / 100\n    if (shipping > 0){\n      return this.formatPrice(shipping, order)\n    }\n    return \"FREE\"\n  }\n\n  total(){\n    var total = 0\n    \n    this.rootComponent.cart?.forEach(product => {\n      total += (product.product?.price ?? 0) * (product.quantity ?? 1)\n    })\n    return total / 100\n  }\n\n  format(d: Date) {\n    return Globals.months[d.getMonth()].substring(0,3) + \" \" + d.getDate() + \" \" + d.getFullYear()\n  }\n\n  selectedIndicator(){\n    \n    let co = Globals.storeInfo?.loading?.color\n    let bco = Globals.storeInfo?.loading?.bg_color\n    let name = Globals.storeInfo?.loading?.name\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    var indicator: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return indicator\n  }\n\n  isSpinning = false\n\n    showSpinner(){\n      if (!this.isSpinning){\n        this.isSpinning = true\n        if (isPlatformBrowser(this.platformID)){\n          this.spinner.show()\n        };\n  \n        setTimeout(() => {\n            this.spinner.hide()\n        }, 1500);\n      }\n    }\n  \n    hideSpinner(){\n      if (this.isSpinning){\n        this.isSpinning = false\n        // this.spinner.hide()\n      }\n    }\n\n  async callback(){\n    if (Globals.storeInfo.username){\n      this.showSpinner()\n      this.rootComponent.setOptions()\n      this.rootComponent.setFavIcon(Globals.storeInfo.profileLink!.toString())\n\n      this.addTags(Globals.storeInfo.fullName ?? \"Thred\", (Globals.storeInfo.profileLink ?? new URL(\"https://shopmythred.com\")).toString(), Globals.storeInfo.bio ?? \"Check out my Thred Store!\", \"shopmythred.com/\" + Globals.storeInfo.username)\n      if (Globals.userInfo == undefined && isPlatformBrowser(this.platformID)){\n        this.loadService.getCustomer()\n      }\n      else if (Globals.availableCurrencies.length == 0 && isPlatformBrowser(this.platformID)){\n        this.loadService.getCountries()\n      }\n      else if (Globals.templates.length == 0 && isPlatformBrowser(this.platformID)){\n        this.loadService.getTemplates()\n      } \n      else if (Globals.orders == undefined && isPlatformBrowser(this.platformID)){\n        if (await this.loadService.authenticated()){\n          this.loadService.getOrders()\n        }\n        else{\n\n          this.loadedCart = true\n          Globals.orders = []\n          this.cdr.detectChanges()\n        }\n      }\n      else if (Globals.shippingInfo == undefined && isPlatformBrowser(this.platformID)){\n\n        this.loadService.getShippingAddress()\n      }\n      else if (Globals.billingInfo == undefined && isPlatformBrowser(this.platformID)){\n        this.loadService.getBillingAddress()\n        \n      }\n      else{\n        this.loadedCart = true\n\n        this.cdr.detectChanges()\n      }\n    }\n    else{\n      this.routingService.routeTo404(this.getStoreName().isCustom)\n    }\n  }\n  \n  init() {\n\n\n    Globals.orders = undefined\n    Globals.shippingInfo = undefined\n    Globals.billingInfo = undefined\n\n    const storeInfo = this.getStoreName()\n    this.downloadAllStoreInfo(storeInfo.link, storeInfo.isCustom)\n  }\n\n\n  downloadAllStoreInfo(storeName: string, isCustom = false){\n    this.loadService.myCallback = () => this.callback()\n    this.loadService.getUser(storeName, undefined, isCustom)\n  }\n\n  getStoreName(){\n    var request = \"\"\n    if (isPlatformServer(this.platformID)){\n      request = Globals.URL\n      console.log(request)\n    }\n    else{\n      request = globalThis.location.host\n    }  \n    if (request != 'localhost:4200' && request != 'shopmythred.com'){\n      return {\n        isCustom: true,\n        link: request\n      }\n    }\n    const routeParams = this.router.snapshot.paramMap;\n    const storeID = routeParams.get('user') as string;\n    return {\n      isCustom: false,\n      link: storeID\n    }\n  }\n\n  isBrowser(){\n    return isPlatformBrowser(this.platformID)\n  }\n\n  hasCart(){\n    return (Globals.orders?.length != 0 ?? false)\n  }\n  \n  formatPrice(price: number, order: Order){\n    var priceAsString = new String((price * this.orderCurrency(order)!.rate).toFixed(2))\n    let index = priceAsString.indexOf(\".\")\n\n    switch (index){\n    case priceAsString.length - 1:\n        priceAsString += \"00\"\n        break\n    case priceAsString.length - 2:\n        priceAsString += \"0\"\n        break\n    default:\n\n        break\n    }\n    return this.numberWithCommas(this.getCurrencyForCountry(this.orderCurrency(order), this.orderCurrency(order).name != \"US\") + priceAsString)\n  }\n\n  orderCurrency(order: Order){\n    return new Country(order.currency.toUpperCase().slice(0, (order.currency.length ?? 0) - 1), undefined, undefined, order.currency, order.currencySymbol, 1, true, 0)\n  }\n\n  numberWithCommas(x: string) {\n    return x.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n  \n  getCurrencyForCountry(country: Country, shouldShowName: boolean){\n\n    var returnItem = country.currency_symbol\n    if (shouldShowName) returnItem = country.name + \" \" + returnItem\n  \n    return returnItem\n  }\n\n  trackingLink(order: Order){\n    var link = \"\"\n    if (order.address?.country === \"Canada\"){\n      link = \"https://www.purolator.com/purolator/ship-track/tracking-details.page?pin=\" + order.trackingNumber\n    }\n    else{\n      link = \"https://chitchats.com/tracking/\" + order.trackingNumber\n    }\n    window.open(link, \"_blank\");\n  }\n\n  addTags(title: string, imgUrl: string, description: string, url: string){\n    this.metaService.updateTag({property: 'og:title', content: title  + \" - \" + \"Home\"});\n    this.metaService.updateTag({property: 'og:image', content: imgUrl});\n    this.metaService.updateTag({property: 'og:url', content: url})\n    this.metaService.updateTag({property: 'og:description', content: description})\n    this.titleService.setTitle(title)\n    this.metaService.updateTag({property: 'description', content: description})\n\n  }\n\n  routeToShipping(){\n\n    if (Globals.shippingInfo?.email && Globals.billingInfo?.name){\n      this.rootComponent.routeToReview()\n    }\n    else if (Globals.shippingInfo?.email){\n      this.rootComponent.routeToBilling()\n    }\n    else if (Globals.billingInfo?.name){\n      this.rootComponent.routeToShipping()\n    }\n    else{\n      this.rootComponent.routeToShipping()\n    }\n  }\n\n  next(){\n    \n    this.routeToShipping()\n  }\n  \n  constructor(\n    @Inject(PLATFORM_ID) private platformID: Object,\n    private cdr: ChangeDetectorRef,\n    private router: ActivatedRoute,\n    private titleService: Title, \n    private metaService: Meta,\n    private loadService: LoadService,\n    private _router: Router,\n    private rootComponent: AppComponent,\n    private spinner: NgxSpinnerService,\n    private routingService: RoutingService,\n\n  ) {}\n\n  ngOnInit(): void {\n    this.init()\n  }\n\n}\n\n","<router-outlet></router-outlet>\n\n<ngx-spinner\n*ngIf=\"isBrowser()\" \nbdColor = '{{selectedIndicator().bg_color}}'\nsize = \"large\"\ncolor = '{{selectedIndicator().color}}'\ntype = {{selectedIndicator().name}} \n[fullScreen] = \"true\"\nstyle.color = \"{{selectedIndicator()!.color}}\"\n>\n<h3 class=\"text-center mt-5\" [style.font-family]=\"storeInfo().fontName!\">{{storeInfo()?.fullName}}\n</h3>\n</ngx-spinner>\n  <!-- Header-->\n  <header *ngIf=\"isBrowser();\" class=\"bg-{{storeInfo().colorStyle!.back_code}} py-6\">\n    <div class=\"cover\" style=\"background-image: url(https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media);\" [style.background-image]='\"url(\" + storeInfo()!.themeLink!.toString() + \")\"'>\n      <div class=\"d-flex align-items-center justify-content-center\" style=\"height: 100px; font-weight: bold;font-size:35px\">\n            <p class = \"text-center\" style = \"line-height:1.2em;text-shadow: 2px 2px 4px #42424281;\">\n              MY ORDERS\n             </p>\n           </div>\n      </div>\n  </header>\n\n  <section *ngIf=\"isBrowser();\" [hidden]=\"stillLoadingProducts()\" class=\"py-5\">\n    <div class=\"container pb-5 mb-2 mb-md-4\">\n        <div class=\"row\">\n          <!-- List of items-->\n          <!-- <div class=\"d-flex justify-content-left align-items-center pb-4 pb-sm-5 mt-1 ms-2 ps-1\">\n            <a class=\"btn btn-outline-primary btn-sm ps-2\" href=\"shop-grid-ls.html\"><i class=\"ci-arrow-left me-2\"></i>Continue shopping</a>\n          </div> -->\n\n          <section class=\"col-lg-0\">\n            <div *ngIf=\"hasCart() && loadedCart;\">\n\n              <div *ngFor=\"let order of orders()\" class=\"bg-white rounded-3 shadow-lg p-4 pt-3 mt-4\">\n               <h2 class=\"h6 mb-0 pb-0 ps-2 mt-0\"><a href=\"/{{storeInfo().username}}/orders/{{order!.orderID}}\" class=\"text-dark text-decoration-none\" style=\"font-weight: bold;\">Order #: {{order!.orderID}}</a></h2>\n\n               <div class = \"d-flex justify-content-between align-items-top\"> \n                <div class=\"py-2 px-xl-2 \">\n                  <div *ngFor=\"let product of order!.products\" class=\"d-sm-flex justify-content-between align-items-center pb-3 pt-2\">\n                      <div class=\"d-block d-sm-flex align-items-center text-center text-sm-start\"><a class=\"d-inline-block flex-shrink-0 mx-auto me-sm-4\" href=\"/{{storeInfo().username}}/products/{{product.product!.productID}}\"><img style=\"border-radius: 2.5%;\" src=\"{{product.product!.url}}\" onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\" width=\"160\" alt=\"Product\"/></a>\n                        <div class=\"pt-2\">\n                            <p><a href=\"/{{storeInfo().username}}/products/{{product.product!.productID}}\" class=\"text-dark text-decoration-none\" style=\"font-weight: bold;\">{{product.product?.name ?? \"\"}}</a></p>\n                          <div class=\"fs-sm\"><span class=\"text-muted me-2\">Size:</span>{{product.size ?? \"M\"}}</div>\n                          <div class=\"fs-sm\"><span class=\"text-muted me-2\">Color:</span>{{getColor(product.product)}}</div>\n                          <div class=\"fs-sm\"><span class=\"text-muted me-2\">Qty:</span>{{product.quantity ?? 1}}</div>\n\n                          <div class=\"fs-lg text-accent pt-2\">{{formatPrice(product.product!.price / 100, order)}}</div>\n                        </div>\n                        <!-- (click)=\"trackingLink()\" -->\n                      </div>\n                  </div>\n              </div>\n              <div class = \"pt-2\">\n                <a class=\"btn btn-primary  d-block mb-1 pb-1 ps-1 mt-2\" style=\"width: 200px;\" type=\"button\" href=\"/{{storeInfo().username}}/orders/{{order!.orderID}}\" ><i class=\"ci-card fs-lg me-2\"></i>View Order Details</a>\n                <a *ngIf=\"order.trackingNumber ?? false\" class=\"btn btn-primary  d-block mb-1 pb-1 ps-1 mt-2\" style=\"width: 200px;\" type=\"button\" (click)=\"trackingLink(order)\" ><i class=\"ci-card fs-lg me-2\"></i>Track Order</a>\n                <a *ngIf=\"!(order.trackingNumber ?? false)\" [class.disabled]=\"true\" class=\"btn btn-primary  d-block mb-1 pb-1 ps-1 mt-2\" style=\"width: 200px;\" type=\"button\" ><i class=\"ci-card fs-lg me-2\"></i>Tracking Unavailable</a>\n              </div>\n          </div>\n\n               </div>\n            </div>\n            <div *ngIf=\"!(hasCart()) && loadedCart;\" class=\"bg-white rounded-3 shadow-lg p-4 pt-3 mt-0\">\n                <h2 class=\"h6 ps-3 mt-2 text-center\" style=\"font-weight: bolder;\">Your Order History is Empty</h2>\n                <div class=\"py-2 px-xl-2\">\n                    <div class=\"d-block align-items-center pt-2\">\n                        <div class=\"d-block align-items-center text-center text-sm-start\"><a class=\"mx-auto me-sm-4\" href=\"shop-single-v1.html\"><img style=\"border-radius: 2.5%;\" src=\"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media\" style=\"max-width: 100%; height: auto;\" alt=\"Product\"/></a>\n                          <div class=\"pt-2\">\n                              <h2 class=\"h6 ps-3 mt-2 text-center\"><a href=\"/{{storeInfo().username}}/products\" class=\"text-dark text-decoration-underline\" style=\"font-weight: bold;\">Shop More Products</a></h2>\n                          </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n          </section>\n          <!-- Sidebar-->\n          \n        </div>\n      </div>\n  </section>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\n\nexport const environment = {\n  production: false,\n\n  firebase: {\n    apiKey: \"AIzaSyD3Ec_FWZrlbTBWdgBWRrsBwMmXQ4aniWU\",\n    authDomain: \"shopmythred.com\",\n    databaseURL: \"https://clothingapp-ed125.firebaseio.com\",\n    projectId: \"clothingapp-ed125\",\n    storageBucket: \"clothingapp-ed125.appspot.com\",\n    messagingSenderId: \"628658827719\",\n    appId: \"1:628658827719:web:66671544aeb6d2a78029e2\",\n    measurementId: \"G-YVHCR44N65\"\n  },\n\n  pxx: \"\"\n\n};\n\n// Initialize Firebase\n// TODO: Replace with your project's customized code snippet\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  platformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n});\n"],"sourceRoot":"webpack:///"}