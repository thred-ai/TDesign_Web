(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/compiler'), require('@angular/core'), require('@angular/platform-server'), require('fs'), require('path'), require('url'), require('source-map-resolve'), require('supports-color')) :
    typeof define === 'function' && define.amd ? define('@nguniversal/common/engine', ['exports', '@angular/compiler', '@angular/core', '@angular/platform-server', 'fs', 'path', 'url', 'source-map-resolve', 'supports-color'], factory) :
    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.nguniversal = global.nguniversal || {}, global.nguniversal.common = global.nguniversal.common || {}, global.nguniversal.common.engine = {}), global.ng.compiler, global.ng.core, global.ng.platformServer, global.fs, global.path, global.url, global.sourceMapResolve, global.supportsColor));
}(this, (function (exports, compiler$1, core, platformServer, fs, path, url, sourceMapResolve, supportsColor) { 'use strict';

    function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

    function _interopNamespace(e) {
        if (e && e.__esModule) return e;
        var n = Object.create(null);
        if (e) {
            Object.keys(e).forEach(function (k) {
                if (k !== 'default') {
                    var d = Object.getOwnPropertyDescriptor(e, k);
                    Object.defineProperty(n, k, d.get ? d : {
                        enumerable: true,
                        get: function () {
                            return e[k];
                        }
                    });
                }
            });
        }
        n['default'] = e;
        return Object.freeze(n);
    }

    var fs__namespace = /*#__PURE__*/_interopNamespace(fs);
    var fs__default = /*#__PURE__*/_interopDefaultLegacy(fs);
    var path__default = /*#__PURE__*/_interopDefaultLegacy(path);
    var sourceMapResolve__default = /*#__PURE__*/_interopDefaultLegacy(sourceMapResolve);
    var supportsColor__default = /*#__PURE__*/_interopDefaultLegacy(supportsColor);

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
    /* global Reflect, Promise */
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b)
                if (Object.prototype.hasOwnProperty.call(b, p))
                    d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    var __assign = function () {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s)
                    if (Object.prototype.hasOwnProperty.call(s, p))
                        t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };
    function __rest(s, e) {
        var t = {};
        for (var p in s)
            if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
                t[p] = s[p];
        if (s != null && typeof Object.getOwnPropertySymbols === "function")
            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                    t[p[i]] = s[p[i]];
            }
        return t;
    }
    function __decorate(decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }
    function __param(paramIndex, decorator) {
        return function (target, key) { decorator(target, key, paramIndex); };
    }
    function __metadata(metadataKey, metadataValue) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(metadataKey, metadataValue);
    }
    function __awaiter(thisArg, _arguments, P, generator) {
        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try {
                step(generator.next(value));
            }
            catch (e) {
                reject(e);
            } }
            function rejected(value) { try {
                step(generator["throw"](value));
            }
            catch (e) {
                reject(e);
            } }
            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }
    function __generator(thisArg, body) {
        var _ = { label: 0, sent: function () { if (t[0] & 1)
                throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function () { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f)
                throw new TypeError("Generator is already executing.");
            while (_)
                try {
                    if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
                        return t;
                    if (y = 0, t)
                        op = [op[0] & 2, t.value];
                    switch (op[0]) {
                        case 0:
                        case 1:
                            t = op;
                            break;
                        case 4:
                            _.label++;
                            return { value: op[1], done: false };
                        case 5:
                            _.label++;
                            y = op[1];
                            op = [0];
                            continue;
                        case 7:
                            op = _.ops.pop();
                            _.trys.pop();
                            continue;
                        default:
                            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                                _ = 0;
                                continue;
                            }
                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
                                _.label = op[1];
                                break;
                            }
                            if (op[0] === 6 && _.label < t[1]) {
                                _.label = t[1];
                                t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2];
                                _.ops.push(op);
                                break;
                            }
                            if (t[2])
                                _.ops.pop();
                            _.trys.pop();
                            continue;
                    }
                    op = body.call(thisArg, _);
                }
                catch (e) {
                    op = [6, e];
                    y = 0;
                }
                finally {
                    f = t = 0;
                }
            if (op[0] & 5)
                throw op[1];
            return { value: op[0] ? op[1] : void 0, done: true };
        }
    }
    var __createBinding = Object.create ? (function (o, m, k, k2) {
        if (k2 === undefined)
            k2 = k;
        Object.defineProperty(o, k2, { enumerable: true, get: function () { return m[k]; } });
    }) : (function (o, m, k, k2) {
        if (k2 === undefined)
            k2 = k;
        o[k2] = m[k];
    });
    function __exportStar(m, o) {
        for (var p in m)
            if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p))
                __createBinding(o, m, p);
    }
    function __values(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m)
            return m.call(o);
        if (o && typeof o.length === "number")
            return {
                next: function () {
                    if (o && i >= o.length)
                        o = void 0;
                    return { value: o && o[i++], done: !o };
                }
            };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    }
    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m)
            return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                ar.push(r.value);
        }
        catch (error) {
            e = { error: error };
        }
        finally {
            try {
                if (r && !r.done && (m = i["return"]))
                    m.call(i);
            }
            finally {
                if (e)
                    throw e.error;
            }
        }
        return ar;
    }
    /** @deprecated */
    function __spread() {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    }
    /** @deprecated */
    function __spreadArrays() {
        for (var s = 0, i = 0, il = arguments.length; i < il; i++)
            s += arguments[i].length;
        for (var r = Array(s), k = 0, i = 0; i < il; i++)
            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
                r[k] = a[j];
        return r;
    }
    function __spreadArray(to, from, pack) {
        if (pack || arguments.length === 2)
            for (var i = 0, l = from.length, ar; i < l; i++) {
                if (ar || !(i in from)) {
                    if (!ar)
                        ar = Array.prototype.slice.call(from, 0, i);
                    ar[i] = from[i];
                }
            }
        return to.concat(ar || from);
    }
    function __await(v) {
        return this instanceof __await ? (this.v = v, this) : new __await(v);
    }
    function __asyncGenerator(thisArg, _arguments, generator) {
        if (!Symbol.asyncIterator)
            throw new TypeError("Symbol.asyncIterator is not defined.");
        var g = generator.apply(thisArg, _arguments || []), i, q = [];
        return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
        function verb(n) { if (g[n])
            i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
        function resume(n, v) { try {
            step(g[n](v));
        }
        catch (e) {
            settle(q[0][3], e);
        } }
        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
        function fulfill(value) { resume("next", value); }
        function reject(value) { resume("throw", value); }
        function settle(f, v) { if (f(v), q.shift(), q.length)
            resume(q[0][0], q[0][1]); }
    }
    function __asyncDelegator(o) {
        var i, p;
        return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
    }
    function __asyncValues(o) {
        if (!Symbol.asyncIterator)
            throw new TypeError("Symbol.asyncIterator is not defined.");
        var m = o[Symbol.asyncIterator], i;
        return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function (v) { resolve({ value: v, done: d }); }, reject); }
    }
    function __makeTemplateObject(cooked, raw) {
        if (Object.defineProperty) {
            Object.defineProperty(cooked, "raw", { value: raw });
        }
        else {
            cooked.raw = raw;
        }
        return cooked;
    }
    ;
    var __setModuleDefault = Object.create ? (function (o, v) {
        Object.defineProperty(o, "default", { enumerable: true, value: v });
    }) : function (o, v) {
        o["default"] = v;
    };
    function __importStar(mod) {
        if (mod && mod.__esModule)
            return mod;
        var result = {};
        if (mod != null)
            for (var k in mod)
                if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k))
                    __createBinding(result, mod, k);
        __setModuleDefault(result, mod);
        return result;
    }
    function __importDefault(mod) {
        return (mod && mod.__esModule) ? mod : { default: mod };
    }
    function __classPrivateFieldGet(receiver, state, kind, f) {
        if (kind === "a" && !f)
            throw new TypeError("Private accessor was defined without a getter");
        if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
            throw new TypeError("Cannot read private member from an object whose class did not declare it");
        return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
    }
    function __classPrivateFieldSet(receiver, state, value, kind, f) {
        if (kind === "m")
            throw new TypeError("Private method is not writable");
        if (kind === "a" && !f)
            throw new TypeError("Private accessor was defined without a setter");
        if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
            throw new TypeError("Cannot write private member to an object whose class did not declare it");
        return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
    }

    /** ResourceLoader implementation for loading files */
    var FileLoader = /** @class */ (function () {
        function FileLoader() {
        }
        FileLoader.prototype.get = function (url) {
            return fs__namespace.promises.readFile(url, 'utf-8');
        };
        return FileLoader;
    }());

    var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};
    function commonjsRequire() {
        throw new Error('Dynamic requires are not currently supported by rollup-plugin-commonjs');
    }
    function unwrapExports(x) {
        return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
    }
    function createCommonjsModule(fn, module) {
        return module = { exports: {} }, fn(module, module.exports), module.exports;
    }
    function getCjsExportFromNamespace(n) {
        return n && n['default'] || n;
    }

    'use strict';
    var BYTE_UNITS = [
        'B',
        'kB',
        'MB',
        'GB',
        'TB',
        'PB',
        'EB',
        'ZB',
        'YB'
    ];
    var BIBYTE_UNITS = [
        'B',
        'kiB',
        'MiB',
        'GiB',
        'TiB',
        'PiB',
        'EiB',
        'ZiB',
        'YiB'
    ];
    var BIT_UNITS = [
        'b',
        'kbit',
        'Mbit',
        'Gbit',
        'Tbit',
        'Pbit',
        'Ebit',
        'Zbit',
        'Ybit'
    ];
    var BIBIT_UNITS = [
        'b',
        'kibit',
        'Mibit',
        'Gibit',
        'Tibit',
        'Pibit',
        'Eibit',
        'Zibit',
        'Yibit'
    ];
    /*
    Formats the given number using `Number#toLocaleString`.
    - If locale is a string, the value is expected to be a locale-key (for example: `de`).
    - If locale is true, the system default locale is used for translation.
    - If no value for locale is specified, the number is returned unmodified.
    */
    var toLocaleString = function (number, locale, options) {
        var result = number;
        if (typeof locale === 'string' || Array.isArray(locale)) {
            result = number.toLocaleString(locale, options);
        }
        else if (locale === true || options !== undefined) {
            result = number.toLocaleString(undefined, options);
        }
        return result;
    };
    var prettyBytes = function (number, options) {
        if (!Number.isFinite(number)) {
            throw new TypeError("Expected a finite number, got " + typeof number + ": " + number);
        }
        options = Object.assign({ bits: false, binary: false }, options);
        var UNITS = options.bits ?
            (options.binary ? BIBIT_UNITS : BIT_UNITS) :
            (options.binary ? BIBYTE_UNITS : BYTE_UNITS);
        if (options.signed && number === 0) {
            return " 0 " + UNITS[0];
        }
        var isNegative = number < 0;
        var prefix = isNegative ? '-' : (options.signed ? '+' : '');
        if (isNegative) {
            number = -number;
        }
        var localeOptions;
        if (options.minimumFractionDigits !== undefined) {
            localeOptions = { minimumFractionDigits: options.minimumFractionDigits };
        }
        if (options.maximumFractionDigits !== undefined) {
            localeOptions = Object.assign({ maximumFractionDigits: options.maximumFractionDigits }, localeOptions);
        }
        if (number < 1) {
            var numberString_1 = toLocaleString(number, options.locale, localeOptions);
            return prefix + numberString_1 + ' ' + UNITS[0];
        }
        var exponent = Math.min(Math.floor(options.binary ? Math.log(number) / Math.log(1024) : Math.log10(number) / 3), UNITS.length - 1);
        // eslint-disable-next-line unicorn/prefer-exponentiation-operator
        number /= Math.pow(options.binary ? 1024 : 1000, exponent);
        if (!localeOptions) {
            number = number.toPrecision(3);
        }
        var numberString = toLocaleString(Number(number), options.locale, localeOptions);
        var unit = UNITS[exponent];
        return prefix + numberString + ' ' + unit;
    };

    'use strict';
    var UNDEFINED_CODE_POINTS = [
        0xfffe,
        0xffff,
        0x1fffe,
        0x1ffff,
        0x2fffe,
        0x2ffff,
        0x3fffe,
        0x3ffff,
        0x4fffe,
        0x4ffff,
        0x5fffe,
        0x5ffff,
        0x6fffe,
        0x6ffff,
        0x7fffe,
        0x7ffff,
        0x8fffe,
        0x8ffff,
        0x9fffe,
        0x9ffff,
        0xafffe,
        0xaffff,
        0xbfffe,
        0xbffff,
        0xcfffe,
        0xcffff,
        0xdfffe,
        0xdffff,
        0xefffe,
        0xeffff,
        0xffffe,
        0xfffff,
        0x10fffe,
        0x10ffff
    ];
    var REPLACEMENT_CHARACTER = '\uFFFD';
    var CODE_POINTS = {
        EOF: -1,
        NULL: 0x00,
        TABULATION: 0x09,
        CARRIAGE_RETURN: 0x0d,
        LINE_FEED: 0x0a,
        FORM_FEED: 0x0c,
        SPACE: 0x20,
        EXCLAMATION_MARK: 0x21,
        QUOTATION_MARK: 0x22,
        NUMBER_SIGN: 0x23,
        AMPERSAND: 0x26,
        APOSTROPHE: 0x27,
        HYPHEN_MINUS: 0x2d,
        SOLIDUS: 0x2f,
        DIGIT_0: 0x30,
        DIGIT_9: 0x39,
        SEMICOLON: 0x3b,
        LESS_THAN_SIGN: 0x3c,
        EQUALS_SIGN: 0x3d,
        GREATER_THAN_SIGN: 0x3e,
        QUESTION_MARK: 0x3f,
        LATIN_CAPITAL_A: 0x41,
        LATIN_CAPITAL_F: 0x46,
        LATIN_CAPITAL_X: 0x58,
        LATIN_CAPITAL_Z: 0x5a,
        RIGHT_SQUARE_BRACKET: 0x5d,
        GRAVE_ACCENT: 0x60,
        LATIN_SMALL_A: 0x61,
        LATIN_SMALL_F: 0x66,
        LATIN_SMALL_X: 0x78,
        LATIN_SMALL_Z: 0x7a,
        REPLACEMENT_CHARACTER: 0xfffd
    };
    var CODE_POINT_SEQUENCES = {
        DASH_DASH_STRING: [0x2d, 0x2d],
        DOCTYPE_STRING: [0x44, 0x4f, 0x43, 0x54, 0x59, 0x50, 0x45],
        CDATA_START_STRING: [0x5b, 0x43, 0x44, 0x41, 0x54, 0x41, 0x5b],
        SCRIPT_STRING: [0x73, 0x63, 0x72, 0x69, 0x70, 0x74],
        PUBLIC_STRING: [0x50, 0x55, 0x42, 0x4c, 0x49, 0x43],
        SYSTEM_STRING: [0x53, 0x59, 0x53, 0x54, 0x45, 0x4d] //SYSTEM
    };
    //Surrogates
    var isSurrogate = function (cp) {
        return cp >= 0xd800 && cp <= 0xdfff;
    };
    var isSurrogatePair = function (cp) {
        return cp >= 0xdc00 && cp <= 0xdfff;
    };
    var getSurrogatePairCodePoint = function (cp1, cp2) {
        return (cp1 - 0xd800) * 0x400 + 0x2400 + cp2;
    };
    //NOTE: excluding NULL and ASCII whitespace
    var isControlCodePoint = function (cp) {
        return ((cp !== 0x20 && cp !== 0x0a && cp !== 0x0d && cp !== 0x09 && cp !== 0x0c && cp >= 0x01 && cp <= 0x1f) ||
            (cp >= 0x7f && cp <= 0x9f));
    };
    var isUndefinedCodePoint = function (cp) {
        return (cp >= 0xfdd0 && cp <= 0xfdef) || UNDEFINED_CODE_POINTS.indexOf(cp) > -1;
    };
    var unicode = {
        REPLACEMENT_CHARACTER: REPLACEMENT_CHARACTER,
        CODE_POINTS: CODE_POINTS,
        CODE_POINT_SEQUENCES: CODE_POINT_SEQUENCES,
        isSurrogate: isSurrogate,
        isSurrogatePair: isSurrogatePair,
        getSurrogatePairCodePoint: getSurrogatePairCodePoint,
        isControlCodePoint: isControlCodePoint,
        isUndefinedCodePoint: isUndefinedCodePoint
    };

    'use strict';
    var errorCodes = {
        controlCharacterInInputStream: 'control-character-in-input-stream',
        noncharacterInInputStream: 'noncharacter-in-input-stream',
        surrogateInInputStream: 'surrogate-in-input-stream',
        nonVoidHtmlElementStartTagWithTrailingSolidus: 'non-void-html-element-start-tag-with-trailing-solidus',
        endTagWithAttributes: 'end-tag-with-attributes',
        endTagWithTrailingSolidus: 'end-tag-with-trailing-solidus',
        unexpectedSolidusInTag: 'unexpected-solidus-in-tag',
        unexpectedNullCharacter: 'unexpected-null-character',
        unexpectedQuestionMarkInsteadOfTagName: 'unexpected-question-mark-instead-of-tag-name',
        invalidFirstCharacterOfTagName: 'invalid-first-character-of-tag-name',
        unexpectedEqualsSignBeforeAttributeName: 'unexpected-equals-sign-before-attribute-name',
        missingEndTagName: 'missing-end-tag-name',
        unexpectedCharacterInAttributeName: 'unexpected-character-in-attribute-name',
        unknownNamedCharacterReference: 'unknown-named-character-reference',
        missingSemicolonAfterCharacterReference: 'missing-semicolon-after-character-reference',
        unexpectedCharacterAfterDoctypeSystemIdentifier: 'unexpected-character-after-doctype-system-identifier',
        unexpectedCharacterInUnquotedAttributeValue: 'unexpected-character-in-unquoted-attribute-value',
        eofBeforeTagName: 'eof-before-tag-name',
        eofInTag: 'eof-in-tag',
        missingAttributeValue: 'missing-attribute-value',
        missingWhitespaceBetweenAttributes: 'missing-whitespace-between-attributes',
        missingWhitespaceAfterDoctypePublicKeyword: 'missing-whitespace-after-doctype-public-keyword',
        missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers: 'missing-whitespace-between-doctype-public-and-system-identifiers',
        missingWhitespaceAfterDoctypeSystemKeyword: 'missing-whitespace-after-doctype-system-keyword',
        missingQuoteBeforeDoctypePublicIdentifier: 'missing-quote-before-doctype-public-identifier',
        missingQuoteBeforeDoctypeSystemIdentifier: 'missing-quote-before-doctype-system-identifier',
        missingDoctypePublicIdentifier: 'missing-doctype-public-identifier',
        missingDoctypeSystemIdentifier: 'missing-doctype-system-identifier',
        abruptDoctypePublicIdentifier: 'abrupt-doctype-public-identifier',
        abruptDoctypeSystemIdentifier: 'abrupt-doctype-system-identifier',
        cdataInHtmlContent: 'cdata-in-html-content',
        incorrectlyOpenedComment: 'incorrectly-opened-comment',
        eofInScriptHtmlCommentLikeText: 'eof-in-script-html-comment-like-text',
        eofInDoctype: 'eof-in-doctype',
        nestedComment: 'nested-comment',
        abruptClosingOfEmptyComment: 'abrupt-closing-of-empty-comment',
        eofInComment: 'eof-in-comment',
        incorrectlyClosedComment: 'incorrectly-closed-comment',
        eofInCdata: 'eof-in-cdata',
        absenceOfDigitsInNumericCharacterReference: 'absence-of-digits-in-numeric-character-reference',
        nullCharacterReference: 'null-character-reference',
        surrogateCharacterReference: 'surrogate-character-reference',
        characterReferenceOutsideUnicodeRange: 'character-reference-outside-unicode-range',
        controlCharacterReference: 'control-character-reference',
        noncharacterCharacterReference: 'noncharacter-character-reference',
        missingWhitespaceBeforeDoctypeName: 'missing-whitespace-before-doctype-name',
        missingDoctypeName: 'missing-doctype-name',
        invalidCharacterSequenceAfterDoctypeName: 'invalid-character-sequence-after-doctype-name',
        duplicateAttribute: 'duplicate-attribute',
        nonConformingDoctype: 'non-conforming-doctype',
        missingDoctype: 'missing-doctype',
        misplacedDoctype: 'misplaced-doctype',
        endTagWithoutMatchingOpenElement: 'end-tag-without-matching-open-element',
        closingOfElementWithOpenChildElements: 'closing-of-element-with-open-child-elements',
        disallowedContentInNoscriptInHead: 'disallowed-content-in-noscript-in-head',
        openElementsLeftAfterEof: 'open-elements-left-after-eof',
        abandonedHeadElementChild: 'abandoned-head-element-child',
        misplacedStartTagForHeadElement: 'misplaced-start-tag-for-head-element',
        nestedNoscriptInHead: 'nested-noscript-in-head',
        eofInElementThatCanContainOnlyText: 'eof-in-element-that-can-contain-only-text'
    };
    var errorCodes_1 = errorCodes.controlCharacterInInputStream;
    var errorCodes_2 = errorCodes.noncharacterInInputStream;
    var errorCodes_3 = errorCodes.surrogateInInputStream;
    var errorCodes_4 = errorCodes.nonVoidHtmlElementStartTagWithTrailingSolidus;
    var errorCodes_5 = errorCodes.endTagWithAttributes;
    var errorCodes_6 = errorCodes.endTagWithTrailingSolidus;
    var errorCodes_7 = errorCodes.unexpectedSolidusInTag;
    var errorCodes_8 = errorCodes.unexpectedNullCharacter;
    var errorCodes_9 = errorCodes.unexpectedQuestionMarkInsteadOfTagName;
    var errorCodes_10 = errorCodes.invalidFirstCharacterOfTagName;
    var errorCodes_11 = errorCodes.unexpectedEqualsSignBeforeAttributeName;
    var errorCodes_12 = errorCodes.missingEndTagName;
    var errorCodes_13 = errorCodes.unexpectedCharacterInAttributeName;
    var errorCodes_14 = errorCodes.unknownNamedCharacterReference;
    var errorCodes_15 = errorCodes.missingSemicolonAfterCharacterReference;
    var errorCodes_16 = errorCodes.unexpectedCharacterAfterDoctypeSystemIdentifier;
    var errorCodes_17 = errorCodes.unexpectedCharacterInUnquotedAttributeValue;
    var errorCodes_18 = errorCodes.eofBeforeTagName;
    var errorCodes_19 = errorCodes.eofInTag;
    var errorCodes_20 = errorCodes.missingAttributeValue;
    var errorCodes_21 = errorCodes.missingWhitespaceBetweenAttributes;
    var errorCodes_22 = errorCodes.missingWhitespaceAfterDoctypePublicKeyword;
    var errorCodes_23 = errorCodes.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers;
    var errorCodes_24 = errorCodes.missingWhitespaceAfterDoctypeSystemKeyword;
    var errorCodes_25 = errorCodes.missingQuoteBeforeDoctypePublicIdentifier;
    var errorCodes_26 = errorCodes.missingQuoteBeforeDoctypeSystemIdentifier;
    var errorCodes_27 = errorCodes.missingDoctypePublicIdentifier;
    var errorCodes_28 = errorCodes.missingDoctypeSystemIdentifier;
    var errorCodes_29 = errorCodes.abruptDoctypePublicIdentifier;
    var errorCodes_30 = errorCodes.abruptDoctypeSystemIdentifier;
    var errorCodes_31 = errorCodes.cdataInHtmlContent;
    var errorCodes_32 = errorCodes.incorrectlyOpenedComment;
    var errorCodes_33 = errorCodes.eofInScriptHtmlCommentLikeText;
    var errorCodes_34 = errorCodes.eofInDoctype;
    var errorCodes_35 = errorCodes.nestedComment;
    var errorCodes_36 = errorCodes.abruptClosingOfEmptyComment;
    var errorCodes_37 = errorCodes.eofInComment;
    var errorCodes_38 = errorCodes.incorrectlyClosedComment;
    var errorCodes_39 = errorCodes.eofInCdata;
    var errorCodes_40 = errorCodes.absenceOfDigitsInNumericCharacterReference;
    var errorCodes_41 = errorCodes.nullCharacterReference;
    var errorCodes_42 = errorCodes.surrogateCharacterReference;
    var errorCodes_43 = errorCodes.characterReferenceOutsideUnicodeRange;
    var errorCodes_44 = errorCodes.controlCharacterReference;
    var errorCodes_45 = errorCodes.noncharacterCharacterReference;
    var errorCodes_46 = errorCodes.missingWhitespaceBeforeDoctypeName;
    var errorCodes_47 = errorCodes.missingDoctypeName;
    var errorCodes_48 = errorCodes.invalidCharacterSequenceAfterDoctypeName;
    var errorCodes_49 = errorCodes.duplicateAttribute;
    var errorCodes_50 = errorCodes.nonConformingDoctype;
    var errorCodes_51 = errorCodes.missingDoctype;
    var errorCodes_52 = errorCodes.misplacedDoctype;
    var errorCodes_53 = errorCodes.endTagWithoutMatchingOpenElement;
    var errorCodes_54 = errorCodes.closingOfElementWithOpenChildElements;
    var errorCodes_55 = errorCodes.disallowedContentInNoscriptInHead;
    var errorCodes_56 = errorCodes.openElementsLeftAfterEof;
    var errorCodes_57 = errorCodes.abandonedHeadElementChild;
    var errorCodes_58 = errorCodes.misplacedStartTagForHeadElement;
    var errorCodes_59 = errorCodes.nestedNoscriptInHead;
    var errorCodes_60 = errorCodes.eofInElementThatCanContainOnlyText;

    'use strict';
    //Aliases
    var $$5 = unicode.CODE_POINTS;
    //Const
    var DEFAULT_BUFFER_WATERLINE = 1 << 16;
    //Preprocessor
    //NOTE: HTML input preprocessing
    //(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#preprocessing-the-input-stream)
    var Preprocessor = /** @class */ (function () {
        function Preprocessor() {
            this.html = null;
            this.pos = -1;
            this.lastGapPos = -1;
            this.lastCharPos = -1;
            this.gapStack = [];
            this.skipNextNewLine = false;
            this.lastChunkWritten = false;
            this.endOfChunkHit = false;
            this.bufferWaterline = DEFAULT_BUFFER_WATERLINE;
        }
        Preprocessor.prototype._err = function () {
            // NOTE: err reporting is noop by default. Enabled by mixin.
        };
        Preprocessor.prototype._addGap = function () {
            this.gapStack.push(this.lastGapPos);
            this.lastGapPos = this.pos;
        };
        Preprocessor.prototype._processSurrogate = function (cp) {
            //NOTE: try to peek a surrogate pair
            if (this.pos !== this.lastCharPos) {
                var nextCp = this.html.charCodeAt(this.pos + 1);
                if (unicode.isSurrogatePair(nextCp)) {
                    //NOTE: we have a surrogate pair. Peek pair character and recalculate code point.
                    this.pos++;
                    //NOTE: add gap that should be avoided during retreat
                    this._addGap();
                    return unicode.getSurrogatePairCodePoint(cp, nextCp);
                }
            }
            //NOTE: we are at the end of a chunk, therefore we can't infer surrogate pair yet.
            else if (!this.lastChunkWritten) {
                this.endOfChunkHit = true;
                return $$5.EOF;
            }
            //NOTE: isolated surrogate
            this._err(errorCodes.surrogateInInputStream);
            return cp;
        };
        Preprocessor.prototype.dropParsedChunk = function () {
            if (this.pos > this.bufferWaterline) {
                this.lastCharPos -= this.pos;
                this.html = this.html.substring(this.pos);
                this.pos = 0;
                this.lastGapPos = -1;
                this.gapStack = [];
            }
        };
        Preprocessor.prototype.write = function (chunk, isLastChunk) {
            if (this.html) {
                this.html += chunk;
            }
            else {
                this.html = chunk;
            }
            this.lastCharPos = this.html.length - 1;
            this.endOfChunkHit = false;
            this.lastChunkWritten = isLastChunk;
        };
        Preprocessor.prototype.insertHtmlAtCurrentPos = function (chunk) {
            this.html = this.html.substring(0, this.pos + 1) + chunk + this.html.substring(this.pos + 1, this.html.length);
            this.lastCharPos = this.html.length - 1;
            this.endOfChunkHit = false;
        };
        Preprocessor.prototype.advance = function () {
            this.pos++;
            if (this.pos > this.lastCharPos) {
                this.endOfChunkHit = !this.lastChunkWritten;
                return $$5.EOF;
            }
            var cp = this.html.charCodeAt(this.pos);
            //NOTE: any U+000A LINE FEED (LF) characters that immediately follow a U+000D CARRIAGE RETURN (CR) character
            //must be ignored.
            if (this.skipNextNewLine && cp === $$5.LINE_FEED) {
                this.skipNextNewLine = false;
                this._addGap();
                return this.advance();
            }
            //NOTE: all U+000D CARRIAGE RETURN (CR) characters must be converted to U+000A LINE FEED (LF) characters
            if (cp === $$5.CARRIAGE_RETURN) {
                this.skipNextNewLine = true;
                return $$5.LINE_FEED;
            }
            this.skipNextNewLine = false;
            if (unicode.isSurrogate(cp)) {
                cp = this._processSurrogate(cp);
            }
            //OPTIMIZATION: first check if code point is in the common allowed
            //range (ASCII alphanumeric, whitespaces, big chunk of BMP)
            //before going into detailed performance cost validation.
            var isCommonValidRange = (cp > 0x1f && cp < 0x7f) || cp === $$5.LINE_FEED || cp === $$5.CARRIAGE_RETURN || (cp > 0x9f && cp < 0xfdd0);
            if (!isCommonValidRange) {
                this._checkForProblematicCharacters(cp);
            }
            return cp;
        };
        Preprocessor.prototype._checkForProblematicCharacters = function (cp) {
            if (unicode.isControlCodePoint(cp)) {
                this._err(errorCodes.controlCharacterInInputStream);
            }
            else if (unicode.isUndefinedCodePoint(cp)) {
                this._err(errorCodes.noncharacterInInputStream);
            }
        };
        Preprocessor.prototype.retreat = function () {
            if (this.pos === this.lastGapPos) {
                this.lastGapPos = this.gapStack.pop();
                this.pos--;
            }
            this.pos--;
        };
        return Preprocessor;
    }());
    var preprocessor = Preprocessor;

    'use strict';
    //NOTE: this file contains auto-generated array mapped radix tree that is used for the named entity references consumption
    //(details: https://github.com/inikulin/parse5/tree/master/scripts/generate-named-entity-data/README.md)
    var namedEntityData = new Uint16Array([4, 52, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 106, 303, 412, 810, 1432, 1701, 1796, 1987, 2114, 2360, 2420, 2484, 3170, 3251, 4140, 4393, 4575, 4610, 5106, 5512, 5728, 6117, 6274, 6315, 6345, 6427, 6516, 7002, 7910, 8733, 9323, 9870, 10170, 10631, 10893, 11318, 11386, 11467, 12773, 13092, 14474, 14922, 15448, 15542, 16419, 17666, 18166, 18611, 19004, 19095, 19298, 19397, 4, 16, 69, 77, 97, 98, 99, 102, 103, 108, 109, 110, 111, 112, 114, 115, 116, 117, 140, 150, 158, 169, 176, 194, 199, 210, 216, 222, 226, 242, 256, 266, 283, 294, 108, 105, 103, 5, 198, 1, 59, 148, 1, 198, 80, 5, 38, 1, 59, 156, 1, 38, 99, 117, 116, 101, 5, 193, 1, 59, 167, 1, 193, 114, 101, 118, 101, 59, 1, 258, 4, 2, 105, 121, 182, 191, 114, 99, 5, 194, 1, 59, 189, 1, 194, 59, 1, 1040, 114, 59, 3, 55349, 56580, 114, 97, 118, 101, 5, 192, 1, 59, 208, 1, 192, 112, 104, 97, 59, 1, 913, 97, 99, 114, 59, 1, 256, 100, 59, 1, 10835, 4, 2, 103, 112, 232, 237, 111, 110, 59, 1, 260, 102, 59, 3, 55349, 56632, 112, 108, 121, 70, 117, 110, 99, 116, 105, 111, 110, 59, 1, 8289, 105, 110, 103, 5, 197, 1, 59, 264, 1, 197, 4, 2, 99, 115, 272, 277, 114, 59, 3, 55349, 56476, 105, 103, 110, 59, 1, 8788, 105, 108, 100, 101, 5, 195, 1, 59, 292, 1, 195, 109, 108, 5, 196, 1, 59, 301, 1, 196, 4, 8, 97, 99, 101, 102, 111, 114, 115, 117, 321, 350, 354, 383, 388, 394, 400, 405, 4, 2, 99, 114, 327, 336, 107, 115, 108, 97, 115, 104, 59, 1, 8726, 4, 2, 118, 119, 342, 345, 59, 1, 10983, 101, 100, 59, 1, 8966, 121, 59, 1, 1041, 4, 3, 99, 114, 116, 362, 369, 379, 97, 117, 115, 101, 59, 1, 8757, 110, 111, 117, 108, 108, 105, 115, 59, 1, 8492, 97, 59, 1, 914, 114, 59, 3, 55349, 56581, 112, 102, 59, 3, 55349, 56633, 101, 118, 101, 59, 1, 728, 99, 114, 59, 1, 8492, 109, 112, 101, 113, 59, 1, 8782, 4, 14, 72, 79, 97, 99, 100, 101, 102, 104, 105, 108, 111, 114, 115, 117, 442, 447, 456, 504, 542, 547, 569, 573, 577, 616, 678, 784, 790, 796, 99, 121, 59, 1, 1063, 80, 89, 5, 169, 1, 59, 454, 1, 169, 4, 3, 99, 112, 121, 464, 470, 497, 117, 116, 101, 59, 1, 262, 4, 2, 59, 105, 476, 478, 1, 8914, 116, 97, 108, 68, 105, 102, 102, 101, 114, 101, 110, 116, 105, 97, 108, 68, 59, 1, 8517, 108, 101, 121, 115, 59, 1, 8493, 4, 4, 97, 101, 105, 111, 514, 520, 530, 535, 114, 111, 110, 59, 1, 268, 100, 105, 108, 5, 199, 1, 59, 528, 1, 199, 114, 99, 59, 1, 264, 110, 105, 110, 116, 59, 1, 8752, 111, 116, 59, 1, 266, 4, 2, 100, 110, 553, 560, 105, 108, 108, 97, 59, 1, 184, 116, 101, 114, 68, 111, 116, 59, 1, 183, 114, 59, 1, 8493, 105, 59, 1, 935, 114, 99, 108, 101, 4, 4, 68, 77, 80, 84, 591, 596, 603, 609, 111, 116, 59, 1, 8857, 105, 110, 117, 115, 59, 1, 8854, 108, 117, 115, 59, 1, 8853, 105, 109, 101, 115, 59, 1, 8855, 111, 4, 2, 99, 115, 623, 646, 107, 119, 105, 115, 101, 67, 111, 110, 116, 111, 117, 114, 73, 110, 116, 101, 103, 114, 97, 108, 59, 1, 8754, 101, 67, 117, 114, 108, 121, 4, 2, 68, 81, 658, 671, 111, 117, 98, 108, 101, 81, 117, 111, 116, 101, 59, 1, 8221, 117, 111, 116, 101, 59, 1, 8217, 4, 4, 108, 110, 112, 117, 688, 701, 736, 753, 111, 110, 4, 2, 59, 101, 696, 698, 1, 8759, 59, 1, 10868, 4, 3, 103, 105, 116, 709, 717, 722, 114, 117, 101, 110, 116, 59, 1, 8801, 110, 116, 59, 1, 8751, 111, 117, 114, 73, 110, 116, 101, 103, 114, 97, 108, 59, 1, 8750, 4, 2, 102, 114, 742, 745, 59, 1, 8450, 111, 100, 117, 99, 116, 59, 1, 8720, 110, 116, 101, 114, 67, 108, 111, 99, 107, 119, 105, 115, 101, 67, 111, 110, 116, 111, 117, 114, 73, 110, 116, 101, 103, 114, 97, 108, 59, 1, 8755, 111, 115, 115, 59, 1, 10799, 99, 114, 59, 3, 55349, 56478, 112, 4, 2, 59, 67, 803, 805, 1, 8915, 97, 112, 59, 1, 8781, 4, 11, 68, 74, 83, 90, 97, 99, 101, 102, 105, 111, 115, 834, 850, 855, 860, 865, 888, 903, 916, 921, 1011, 1415, 4, 2, 59, 111, 840, 842, 1, 8517, 116, 114, 97, 104, 100, 59, 1, 10513, 99, 121, 59, 1, 1026, 99, 121, 59, 1, 1029, 99, 121, 59, 1, 1039, 4, 3, 103, 114, 115, 873, 879, 883, 103, 101, 114, 59, 1, 8225, 114, 59, 1, 8609, 104, 118, 59, 1, 10980, 4, 2, 97, 121, 894, 900, 114, 111, 110, 59, 1, 270, 59, 1, 1044, 108, 4, 2, 59, 116, 910, 912, 1, 8711, 97, 59, 1, 916, 114, 59, 3, 55349, 56583, 4, 2, 97, 102, 927, 998, 4, 2, 99, 109, 933, 992, 114, 105, 116, 105, 99, 97, 108, 4, 4, 65, 68, 71, 84, 950, 957, 978, 985, 99, 117, 116, 101, 59, 1, 180, 111, 4, 2, 116, 117, 964, 967, 59, 1, 729, 98, 108, 101, 65, 99, 117, 116, 101, 59, 1, 733, 114, 97, 118, 101, 59, 1, 96, 105, 108, 100, 101, 59, 1, 732, 111, 110, 100, 59, 1, 8900, 102, 101, 114, 101, 110, 116, 105, 97, 108, 68, 59, 1, 8518, 4, 4, 112, 116, 117, 119, 1021, 1026, 1048, 1249, 102, 59, 3, 55349, 56635, 4, 3, 59, 68, 69, 1034, 1036, 1041, 1, 168, 111, 116, 59, 1, 8412, 113, 117, 97, 108, 59, 1, 8784, 98, 108, 101, 4, 6, 67, 68, 76, 82, 85, 86, 1065, 1082, 1101, 1189, 1211, 1236, 111, 110, 116, 111, 117, 114, 73, 110, 116, 101, 103, 114, 97, 108, 59, 1, 8751, 111, 4, 2, 116, 119, 1089, 1092, 59, 1, 168, 110, 65, 114, 114, 111, 119, 59, 1, 8659, 4, 2, 101, 111, 1107, 1141, 102, 116, 4, 3, 65, 82, 84, 1117, 1124, 1136, 114, 114, 111, 119, 59, 1, 8656, 105, 103, 104, 116, 65, 114, 114, 111, 119, 59, 1, 8660, 101, 101, 59, 1, 10980, 110, 103, 4, 2, 76, 82, 1149, 1177, 101, 102, 116, 4, 2, 65, 82, 1158, 1165, 114, 114, 111, 119, 59, 1, 10232, 105, 103, 104, 116, 65, 114, 114, 111, 119, 59, 1, 10234, 105, 103, 104, 116, 65, 114, 114, 111, 119, 59, 1, 10233, 105, 103, 104, 116, 4, 2, 65, 84, 1199, 1206, 114, 114, 111, 119, 59, 1, 8658, 101, 101, 59, 1, 8872, 112, 4, 2, 65, 68, 1218, 1225, 114, 114, 111, 119, 59, 1, 8657, 111, 119, 110, 65, 114, 114, 111, 119, 59, 1, 8661, 101, 114, 116, 105, 99, 97, 108, 66, 97, 114, 59, 1, 8741, 110, 4, 6, 65, 66, 76, 82, 84, 97, 1264, 1292, 1299, 1352, 1391, 1408, 114, 114, 111, 119, 4, 3, 59, 66, 85, 1276, 1278, 1283, 1, 8595, 97, 114, 59, 1, 10515, 112, 65, 114, 114, 111, 119, 59, 1, 8693, 114, 101, 118, 101, 59, 1, 785, 101, 102, 116, 4, 3, 82, 84, 86, 1310, 1323, 1334, 105, 103, 104, 116, 86, 101, 99, 116, 111, 114, 59, 1, 10576, 101, 101, 86, 101, 99, 116, 111, 114, 59, 1, 10590, 101, 99, 116, 111, 114, 4, 2, 59, 66, 1345, 1347, 1, 8637, 97, 114, 59, 1, 10582, 105, 103, 104, 116, 4, 2, 84, 86, 1362, 1373, 101, 101, 86, 101, 99, 116, 111, 114, 59, 1, 10591, 101, 99, 116, 111, 114, 4, 2, 59, 66, 1384, 1386, 1, 8641, 97, 114, 59, 1, 10583, 101, 101, 4, 2, 59, 65, 1399, 1401, 1, 8868, 114, 114, 111, 119, 59, 1, 8615, 114, 114, 111, 119, 59, 1, 8659, 4, 2, 99, 116, 1421, 1426, 114, 59, 3, 55349, 56479, 114, 111, 107, 59, 1, 272, 4, 16, 78, 84, 97, 99, 100, 102, 103, 108, 109, 111, 112, 113, 115, 116, 117, 120, 1466, 1470, 1478, 1489, 1515, 1520, 1525, 1536, 1544, 1593, 1609, 1617, 1650, 1664, 1668, 1677, 71, 59, 1, 330, 72, 5, 208, 1, 59, 1476, 1, 208, 99, 117, 116, 101, 5, 201, 1, 59, 1487, 1, 201, 4, 3, 97, 105, 121, 1497, 1503, 1512, 114, 111, 110, 59, 1, 282, 114, 99, 5, 202, 1, 59, 1510, 1, 202, 59, 1, 1069, 111, 116, 59, 1, 278, 114, 59, 3, 55349, 56584, 114, 97, 118, 101, 5, 200, 1, 59, 1534, 1, 200, 101, 109, 101, 110, 116, 59, 1, 8712, 4, 2, 97, 112, 1550, 1555, 99, 114, 59, 1, 274, 116, 121, 4, 2, 83, 86, 1563, 1576, 109, 97, 108, 108, 83, 113, 117, 97, 114, 101, 59, 1, 9723, 101, 114, 121, 83, 109, 97, 108, 108, 83, 113, 117, 97, 114, 101, 59, 1, 9643, 4, 2, 103, 112, 1599, 1604, 111, 110, 59, 1, 280, 102, 59, 3, 55349, 56636, 115, 105, 108, 111, 110, 59, 1, 917, 117, 4, 2, 97, 105, 1624, 1640, 108, 4, 2, 59, 84, 1631, 1633, 1, 10869, 105, 108, 100, 101, 59, 1, 8770, 108, 105, 98, 114, 105, 117, 109, 59, 1, 8652, 4, 2, 99, 105, 1656, 1660, 114, 59, 1, 8496, 109, 59, 1, 10867, 97, 59, 1, 919, 109, 108, 5, 203, 1, 59, 1675, 1, 203, 4, 2, 105, 112, 1683, 1689, 115, 116, 115, 59, 1, 8707, 111, 110, 101, 110, 116, 105, 97, 108, 69, 59, 1, 8519, 4, 5, 99, 102, 105, 111, 115, 1713, 1717, 1722, 1762, 1791, 121, 59, 1, 1060, 114, 59, 3, 55349, 56585, 108, 108, 101, 100, 4, 2, 83, 86, 1732, 1745, 109, 97, 108, 108, 83, 113, 117, 97, 114, 101, 59, 1, 9724, 101, 114, 121, 83, 109, 97, 108, 108, 83, 113, 117, 97, 114, 101, 59, 1, 9642, 4, 3, 112, 114, 117, 1770, 1775, 1781, 102, 59, 3, 55349, 56637, 65, 108, 108, 59, 1, 8704, 114, 105, 101, 114, 116, 114, 102, 59, 1, 8497, 99, 114, 59, 1, 8497, 4, 12, 74, 84, 97, 98, 99, 100, 102, 103, 111, 114, 115, 116, 1822, 1827, 1834, 1848, 1855, 1877, 1882, 1887, 1890, 1896, 1978, 1984, 99, 121, 59, 1, 1027, 5, 62, 1, 59, 1832, 1, 62, 109, 109, 97, 4, 2, 59, 100, 1843, 1845, 1, 915, 59, 1, 988, 114, 101, 118, 101, 59, 1, 286, 4, 3, 101, 105, 121, 1863, 1869, 1874, 100, 105, 108, 59, 1, 290, 114, 99, 59, 1, 284, 59, 1, 1043, 111, 116, 59, 1, 288, 114, 59, 3, 55349, 56586, 59, 1, 8921, 112, 102, 59, 3, 55349, 56638, 101, 97, 116, 101, 114, 4, 6, 69, 70, 71, 76, 83, 84, 1915, 1933, 1944, 1953, 1959, 1971, 113, 117, 97, 108, 4, 2, 59, 76, 1925, 1927, 1, 8805, 101, 115, 115, 59, 1, 8923, 117, 108, 108, 69, 113, 117, 97, 108, 59, 1, 8807, 114, 101, 97, 116, 101, 114, 59, 1, 10914, 101, 115, 115, 59, 1, 8823, 108, 97, 110, 116, 69, 113, 117, 97, 108, 59, 1, 10878, 105, 108, 100, 101, 59, 1, 8819, 99, 114, 59, 3, 55349, 56482, 59, 1, 8811, 4, 8, 65, 97, 99, 102, 105, 111, 115, 117, 2005, 2012, 2026, 2032, 2036, 2049, 2073, 2089, 82, 68, 99, 121, 59, 1, 1066, 4, 2, 99, 116, 2018, 2023, 101, 107, 59, 1, 711, 59, 1, 94, 105, 114, 99, 59, 1, 292, 114, 59, 1, 8460, 108, 98, 101, 114, 116, 83, 112, 97, 99, 101, 59, 1, 8459, 4, 2, 112, 114, 2055, 2059, 102, 59, 1, 8461, 105, 122, 111, 110, 116, 97, 108, 76, 105, 110, 101, 59, 1, 9472, 4, 2, 99, 116, 2079, 2083, 114, 59, 1, 8459, 114, 111, 107, 59, 1, 294, 109, 112, 4, 2, 68, 69, 2097, 2107, 111, 119, 110, 72, 117, 109, 112, 59, 1, 8782, 113, 117, 97, 108, 59, 1, 8783, 4, 14, 69, 74, 79, 97, 99, 100, 102, 103, 109, 110, 111, 115, 116, 117, 2144, 2149, 2155, 2160, 2171, 2189, 2194, 2198, 2209, 2245, 2307, 2329, 2334, 2341, 99, 121, 59, 1, 1045, 108, 105, 103, 59, 1, 306, 99, 121, 59, 1, 1025, 99, 117, 116, 101, 5, 205, 1, 59, 2169, 1, 205, 4, 2, 105, 121, 2177, 2186, 114, 99, 5, 206, 1, 59, 2184, 1, 206, 59, 1, 1048, 111, 116, 59, 1, 304, 114, 59, 1, 8465, 114, 97, 118, 101, 5, 204, 1, 59, 2207, 1, 204, 4, 3, 59, 97, 112, 2217, 2219, 2238, 1, 8465, 4, 2, 99, 103, 2225, 2229, 114, 59, 1, 298, 105, 110, 97, 114, 121, 73, 59, 1, 8520, 108, 105, 101, 115, 59, 1, 8658, 4, 2, 116, 118, 2251, 2281, 4, 2, 59, 101, 2257, 2259, 1, 8748, 4, 2, 103, 114, 2265, 2271, 114, 97, 108, 59, 1, 8747, 115, 101, 99, 116, 105, 111, 110, 59, 1, 8898, 105, 115, 105, 98, 108, 101, 4, 2, 67, 84, 2293, 2300, 111, 109, 109, 97, 59, 1, 8291, 105, 109, 101, 115, 59, 1, 8290, 4, 3, 103, 112, 116, 2315, 2320, 2325, 111, 110, 59, 1, 302, 102, 59, 3, 55349, 56640, 97, 59, 1, 921, 99, 114, 59, 1, 8464, 105, 108, 100, 101, 59, 1, 296, 4, 2, 107, 109, 2347, 2352, 99, 121, 59, 1, 1030, 108, 5, 207, 1, 59, 2358, 1, 207, 4, 5, 99, 102, 111, 115, 117, 2372, 2386, 2391, 2397, 2414, 4, 2, 105, 121, 2378, 2383, 114, 99, 59, 1, 308, 59, 1, 1049, 114, 59, 3, 55349, 56589, 112, 102, 59, 3, 55349, 56641, 4, 2, 99, 101, 2403, 2408, 114, 59, 3, 55349, 56485, 114, 99, 121, 59, 1, 1032, 107, 99, 121, 59, 1, 1028, 4, 7, 72, 74, 97, 99, 102, 111, 115, 2436, 2441, 2446, 2452, 2467, 2472, 2478, 99, 121, 59, 1, 1061, 99, 121, 59, 1, 1036, 112, 112, 97, 59, 1, 922, 4, 2, 101, 121, 2458, 2464, 100, 105, 108, 59, 1, 310, 59, 1, 1050, 114, 59, 3, 55349, 56590, 112, 102, 59, 3, 55349, 56642, 99, 114, 59, 3, 55349, 56486, 4, 11, 74, 84, 97, 99, 101, 102, 108, 109, 111, 115, 116, 2508, 2513, 2520, 2562, 2585, 2981, 2986, 3004, 3011, 3146, 3167, 99, 121, 59, 1, 1033, 5, 60, 1, 59, 2518, 1, 60, 4, 5, 99, 109, 110, 112, 114, 2532, 2538, 2544, 2548, 2558, 117, 116, 101, 59, 1, 313, 98, 100, 97, 59, 1, 923, 103, 59, 1, 10218, 108, 97, 99, 101, 116, 114, 102, 59, 1, 8466, 114, 59, 1, 8606, 4, 3, 97, 101, 121, 2570, 2576, 2582, 114, 111, 110, 59, 1, 317, 100, 105, 108, 59, 1, 315, 59, 1, 1051, 4, 2, 102, 115, 2591, 2907, 116, 4, 10, 65, 67, 68, 70, 82, 84, 85, 86, 97, 114, 2614, 2663, 2672, 2728, 2735, 2760, 2820, 2870, 2888, 2895, 4, 2, 110, 114, 2620, 2633, 103, 108, 101, 66, 114, 97, 99, 107, 101, 116, 59, 1, 10216, 114, 111, 119, 4, 3, 59, 66, 82, 2644, 2646, 2651, 1, 8592, 97, 114, 59, 1, 8676, 105, 103, 104, 116, 65, 114, 114, 111, 119, 59, 1, 8646, 101, 105, 108, 105, 110, 103, 59, 1, 8968, 111, 4, 2, 117, 119, 2679, 2692, 98, 108, 101, 66, 114, 97, 99, 107, 101, 116, 59, 1, 10214, 110, 4, 2, 84, 86, 2699, 2710, 101, 101, 86, 101, 99, 116, 111, 114, 59, 1, 10593, 101, 99, 116, 111, 114, 4, 2, 59, 66, 2721, 2723, 1, 8643, 97, 114, 59, 1, 10585, 108, 111, 111, 114, 59, 1, 8970, 105, 103, 104, 116, 4, 2, 65, 86, 2745, 2752, 114, 114, 111, 119, 59, 1, 8596, 101, 99, 116, 111, 114, 59, 1, 10574, 4, 2, 101, 114, 2766, 2792, 101, 4, 3, 59, 65, 86, 2775, 2777, 2784, 1, 8867, 114, 114, 111, 119, 59, 1, 8612, 101, 99, 116, 111, 114, 59, 1, 10586, 105, 97, 110, 103, 108, 101, 4, 3, 59, 66, 69, 2806, 2808, 2813, 1, 8882, 97, 114, 59, 1, 10703, 113, 117, 97, 108, 59, 1, 8884, 112, 4, 3, 68, 84, 86, 2829, 2841, 2852, 111, 119, 110, 86, 101, 99, 116, 111, 114, 59, 1, 10577, 101, 101, 86, 101, 99, 116, 111, 114, 59, 1, 10592, 101, 99, 116, 111, 114, 4, 2, 59, 66, 2863, 2865, 1, 8639, 97, 114, 59, 1, 10584, 101, 99, 116, 111, 114, 4, 2, 59, 66, 2881, 2883, 1, 8636, 97, 114, 59, 1, 10578, 114, 114, 111, 119, 59, 1, 8656, 105, 103, 104, 116, 97, 114, 114, 111, 119, 59, 1, 8660, 115, 4, 6, 69, 70, 71, 76, 83, 84, 2922, 2936, 2947, 2956, 2962, 2974, 113, 117, 97, 108, 71, 114, 101, 97, 116, 101, 114, 59, 1, 8922, 117, 108, 108, 69, 113, 117, 97, 108, 59, 1, 8806, 114, 101, 97, 116, 101, 114, 59, 1, 8822, 101, 115, 115, 59, 1, 10913, 108, 97, 110, 116, 69, 113, 117, 97, 108, 59, 1, 10877, 105, 108, 100, 101, 59, 1, 8818, 114, 59, 3, 55349, 56591, 4, 2, 59, 101, 2992, 2994, 1, 8920, 102, 116, 97, 114, 114, 111, 119, 59, 1, 8666, 105, 100, 111, 116, 59, 1, 319, 4, 3, 110, 112, 119, 3019, 3110, 3115, 103, 4, 4, 76, 82, 108, 114, 3030, 3058, 3070, 3098, 101, 102, 116, 4, 2, 65, 82, 3039, 3046, 114, 114, 111, 119, 59, 1, 10229, 105, 103, 104, 116, 65, 114, 114, 111, 119, 59, 1, 10231, 105, 103, 104, 116, 65, 114, 114, 111, 119, 59, 1, 10230, 101, 102, 116, 4, 2, 97, 114, 3079, 3086, 114, 114, 111, 119, 59, 1, 10232, 105, 103, 104, 116, 97, 114, 114, 111, 119, 59, 1, 10234, 105, 103, 104, 116, 97, 114, 114, 111, 119, 59, 1, 10233, 102, 59, 3, 55349, 56643, 101, 114, 4, 2, 76, 82, 3123, 3134, 101, 102, 116, 65, 114, 114, 111, 119, 59, 1, 8601, 105, 103, 104, 116, 65, 114, 114, 111, 119, 59, 1, 8600, 4, 3, 99, 104, 116, 3154, 3158, 3161, 114, 59, 1, 8466, 59, 1, 8624, 114, 111, 107, 59, 1, 321, 59, 1, 8810, 4, 8, 97, 99, 101, 102, 105, 111, 115, 117, 3188, 3192, 3196, 3222, 3227, 3237, 3243, 3248, 112, 59, 1, 10501, 121, 59, 1, 1052, 4, 2, 100, 108, 3202, 3213, 105, 117, 109, 83, 112, 97, 99, 101, 59, 1, 8287, 108, 105, 110, 116, 114, 102, 59, 1, 8499, 114, 59, 3, 55349, 56592, 110, 117, 115, 80, 108, 117, 115, 59, 1, 8723, 112, 102, 59, 3, 55349, 56644, 99, 114, 59, 1, 8499, 59, 1, 924, 4, 9, 74, 97, 99, 101, 102, 111, 115, 116, 117, 3271, 3276, 3283, 3306, 3422, 3427, 4120, 4126, 4137, 99, 121, 59, 1, 1034, 99, 117, 116, 101, 59, 1, 323, 4, 3, 97, 101, 121, 3291, 3297, 3303, 114, 111, 110, 59, 1, 327, 100, 105, 108, 59, 1, 325, 59, 1, 1053, 4, 3, 103, 115, 119, 3314, 3380, 3415, 97, 116, 105, 118, 101, 4, 3, 77, 84, 86, 3327, 3340, 3365, 101, 100, 105, 117, 109, 83, 112, 97, 99, 101, 59, 1, 8203, 104, 105, 4, 2, 99, 110, 3348, 3357, 107, 83, 112, 97, 99, 101, 59, 1, 8203, 83, 112, 97, 99, 101, 59, 1, 8203, 101, 114, 121, 84, 104, 105, 110, 83, 112, 97, 99, 101, 59, 1, 8203, 116, 101, 100, 4, 2, 71, 76, 3389, 3405, 114, 101, 97, 116, 101, 114, 71, 114, 101, 97, 116, 101, 114, 59, 1, 8811, 101, 115, 115, 76, 101, 115, 115, 59, 1, 8810, 76, 105, 110, 101, 59, 1, 10, 114, 59, 3, 55349, 56593, 4, 4, 66, 110, 112, 116, 3437, 3444, 3460, 3464, 114, 101, 97, 107, 59, 1, 8288, 66, 114, 101, 97, 107, 105, 110, 103, 83, 112, 97, 99, 101, 59, 1, 160, 102, 59, 1, 8469, 4, 13, 59, 67, 68, 69, 71, 72, 76, 78, 80, 82, 83, 84, 86, 3492, 3494, 3517, 3536, 3578, 3657, 3685, 3784, 3823, 3860, 3915, 4066, 4107, 1, 10988, 4, 2, 111, 117, 3500, 3510, 110, 103, 114, 117, 101, 110, 116, 59, 1, 8802, 112, 67, 97, 112, 59, 1, 8813, 111, 117, 98, 108, 101, 86, 101, 114, 116, 105, 99, 97, 108, 66, 97, 114, 59, 1, 8742, 4, 3, 108, 113, 120, 3544, 3552, 3571, 101, 109, 101, 110, 116, 59, 1, 8713, 117, 97, 108, 4, 2, 59, 84, 3561, 3563, 1, 8800, 105, 108, 100, 101, 59, 3, 8770, 824, 105, 115, 116, 115, 59, 1, 8708, 114, 101, 97, 116, 101, 114, 4, 7, 59, 69, 70, 71, 76, 83, 84, 3600, 3602, 3609, 3621, 3631, 3637, 3650, 1, 8815, 113, 117, 97, 108, 59, 1, 8817, 117, 108, 108, 69, 113, 117, 97, 108, 59, 3, 8807, 824, 114, 101, 97, 116, 101, 114, 59, 3, 8811, 824, 101, 115, 115, 59, 1, 8825, 108, 97, 110, 116, 69, 113, 117, 97, 108, 59, 3, 10878, 824, 105, 108, 100, 101, 59, 1, 8821, 117, 109, 112, 4, 2, 68, 69, 3666, 3677, 111, 119, 110, 72, 117, 109, 112, 59, 3, 8782, 824, 113, 117, 97, 108, 59, 3, 8783, 824, 101, 4, 2, 102, 115, 3692, 3724, 116, 84, 114, 105, 97, 110, 103, 108, 101, 4, 3, 59, 66, 69, 3709, 3711, 3717, 1, 8938, 97, 114, 59, 3, 10703, 824, 113, 117, 97, 108, 59, 1, 8940, 115, 4, 6, 59, 69, 71, 76, 83, 84, 3739, 3741, 3748, 3757, 3764, 3777, 1, 8814, 113, 117, 97, 108, 59, 1, 8816, 114, 101, 97, 116, 101, 114, 59, 1, 8824, 101, 115, 115, 59, 3, 8810, 824, 108, 97, 110, 116, 69, 113, 117, 97, 108, 59, 3, 10877, 824, 105, 108, 100, 101, 59, 1, 8820, 101, 115, 116, 101, 100, 4, 2, 71, 76, 3795, 3812, 114, 101, 97, 116, 101, 114, 71, 114, 101, 97, 116, 101, 114, 59, 3, 10914, 824, 101, 115, 115, 76, 101, 115, 115, 59, 3, 10913, 824, 114, 101, 99, 101, 100, 101, 115, 4, 3, 59, 69, 83, 3838, 3840, 3848, 1, 8832, 113, 117, 97, 108, 59, 3, 10927, 824, 108, 97, 110, 116, 69, 113, 117, 97, 108, 59, 1, 8928, 4, 2, 101, 105, 3866, 3881, 118, 101, 114, 115, 101, 69, 108, 101, 109, 101, 110, 116, 59, 1, 8716, 103, 104, 116, 84, 114, 105, 97, 110, 103, 108, 101, 4, 3, 59, 66, 69, 3900, 3902, 3908, 1, 8939, 97, 114, 59, 3, 10704, 824, 113, 117, 97, 108, 59, 1, 8941, 4, 2, 113, 117, 3921, 3973, 117, 97, 114, 101, 83, 117, 4, 2, 98, 112, 3933, 3952, 115, 101, 116, 4, 2, 59, 69, 3942, 3945, 3, 8847, 824, 113, 117, 97, 108, 59, 1, 8930, 101, 114, 115, 101, 116, 4, 2, 59, 69, 3963, 3966, 3, 8848, 824, 113, 117, 97, 108, 59, 1, 8931, 4, 3, 98, 99, 112, 3981, 4000, 4045, 115, 101, 116, 4, 2, 59, 69, 3990, 3993, 3, 8834, 8402, 113, 117, 97, 108, 59, 1, 8840, 99, 101, 101, 100, 115, 4, 4, 59, 69, 83, 84, 4015, 4017, 4025, 4037, 1, 8833, 113, 117, 97, 108, 59, 3, 10928, 824, 108, 97, 110, 116, 69, 113, 117, 97, 108, 59, 1, 8929, 105, 108, 100, 101, 59, 3, 8831, 824, 101, 114, 115, 101, 116, 4, 2, 59, 69, 4056, 4059, 3, 8835, 8402, 113, 117, 97, 108, 59, 1, 8841, 105, 108, 100, 101, 4, 4, 59, 69, 70, 84, 4080, 4082, 4089, 4100, 1, 8769, 113, 117, 97, 108, 59, 1, 8772, 117, 108, 108, 69, 113, 117, 97, 108, 59, 1, 8775, 105, 108, 100, 101, 59, 1, 8777, 101, 114, 116, 105, 99, 97, 108, 66, 97, 114, 59, 1, 8740, 99, 114, 59, 3, 55349, 56489, 105, 108, 100, 101, 5, 209, 1, 59, 4135, 1, 209, 59, 1, 925, 4, 14, 69, 97, 99, 100, 102, 103, 109, 111, 112, 114, 115, 116, 117, 118, 4170, 4176, 4187, 4205, 4212, 4217, 4228, 4253, 4259, 4292, 4295, 4316, 4337, 4346, 108, 105, 103, 59, 1, 338, 99, 117, 116, 101, 5, 211, 1, 59, 4185, 1, 211, 4, 2, 105, 121, 4193, 4202, 114, 99, 5, 212, 1, 59, 4200, 1, 212, 59, 1, 1054, 98, 108, 97, 99, 59, 1, 336, 114, 59, 3, 55349, 56594, 114, 97, 118, 101, 5, 210, 1, 59, 4226, 1, 210, 4, 3, 97, 101, 105, 4236, 4241, 4246, 99, 114, 59, 1, 332, 103, 97, 59, 1, 937, 99, 114, 111, 110, 59, 1, 927, 112, 102, 59, 3, 55349, 56646, 101, 110, 67, 117, 114, 108, 121, 4, 2, 68, 81, 4272, 4285, 111, 117, 98, 108, 101, 81, 117, 111, 116, 101, 59, 1, 8220, 117, 111, 116, 101, 59, 1, 8216, 59, 1, 10836, 4, 2, 99, 108, 4301, 4306, 114, 59, 3, 55349, 56490, 97, 115, 104, 5, 216, 1, 59, 4314, 1, 216, 105, 4, 2, 108, 109, 4323, 4332, 100, 101, 5, 213, 1, 59, 4330, 1, 213, 101, 115, 59, 1, 10807, 109, 108, 5, 214, 1, 59, 4344, 1, 214, 101, 114, 4, 2, 66, 80, 4354, 4380, 4, 2, 97, 114, 4360, 4364, 114, 59, 1, 8254, 97, 99, 4, 2, 101, 107, 4372, 4375, 59, 1, 9182, 101, 116, 59, 1, 9140, 97, 114, 101, 110, 116, 104, 101, 115, 105, 115, 59, 1, 9180, 4, 9, 97, 99, 102, 104, 105, 108, 111, 114, 115, 4413, 4422, 4426, 4431, 4435, 4438, 4448, 4471, 4561, 114, 116, 105, 97, 108, 68, 59, 1, 8706, 121, 59, 1, 1055, 114, 59, 3, 55349, 56595, 105, 59, 1, 934, 59, 1, 928, 117, 115, 77, 105, 110, 117, 115, 59, 1, 177, 4, 2, 105, 112, 4454, 4467, 110, 99, 97, 114, 101, 112, 108, 97, 110, 101, 59, 1, 8460, 102, 59, 1, 8473, 4, 4, 59, 101, 105, 111, 4481, 4483, 4526, 4531, 1, 10939, 99, 101, 100, 101, 115, 4, 4, 59, 69, 83, 84, 4498, 4500, 4507, 4519, 1, 8826, 113, 117, 97, 108, 59, 1, 10927, 108, 97, 110, 116, 69, 113, 117, 97, 108, 59, 1, 8828, 105, 108, 100, 101, 59, 1, 8830, 109, 101, 59, 1, 8243, 4, 2, 100, 112, 4537, 4543, 117, 99, 116, 59, 1, 8719, 111, 114, 116, 105, 111, 110, 4, 2, 59, 97, 4555, 4557, 1, 8759, 108, 59, 1, 8733, 4, 2, 99, 105, 4567, 4572, 114, 59, 3, 55349, 56491, 59, 1, 936, 4, 4, 85, 102, 111, 115, 4585, 4594, 4599, 4604, 79, 84, 5, 34, 1, 59, 4592, 1, 34, 114, 59, 3, 55349, 56596, 112, 102, 59, 1, 8474, 99, 114, 59, 3, 55349, 56492, 4, 12, 66, 69, 97, 99, 101, 102, 104, 105, 111, 114, 115, 117, 4636, 4642, 4650, 4681, 4704, 4763, 4767, 4771, 5047, 5069, 5081, 5094, 97, 114, 114, 59, 1, 10512, 71, 5, 174, 1, 59, 4648, 1, 174, 4, 3, 99, 110, 114, 4658, 4664, 4668, 117, 116, 101, 59, 1, 340, 103, 59, 1, 10219, 114, 4, 2, 59, 116, 4675, 4677, 1, 8608, 108, 59, 1, 10518, 4, 3, 97, 101, 121, 4689, 4695, 4701, 114, 111, 110, 59, 1, 344, 100, 105, 108, 59, 1, 342, 59, 1, 1056, 4, 2, 59, 118, 4710, 4712, 1, 8476, 101, 114, 115, 101, 4, 2, 69, 85, 4722, 4748, 4, 2, 108, 113, 4728, 4736, 101, 109, 101, 110, 116, 59, 1, 8715, 117, 105, 108, 105, 98, 114, 105, 117, 109, 59, 1, 8651, 112, 69, 113, 117, 105, 108, 105, 98, 114, 105, 117, 109, 59, 1, 10607, 114, 59, 1, 8476, 111, 59, 1, 929, 103, 104, 116, 4, 8, 65, 67, 68, 70, 84, 85, 86, 97, 4792, 4840, 4849, 4905, 4912, 4972, 5022, 5040, 4, 2, 110, 114, 4798, 4811, 103, 108, 101, 66, 114, 97, 99, 107, 101, 116, 59, 1, 10217, 114, 111, 119, 4, 3, 59, 66, 76, 4822, 4824, 4829, 1, 8594, 97, 114, 59, 1, 8677, 101, 102, 116, 65, 114, 114, 111, 119, 59, 1, 8644, 101, 105, 108, 105, 110, 103, 59, 1, 8969, 111, 4, 2, 117, 119, 4856, 4869, 98, 108, 101, 66, 114, 97, 99, 107, 101, 116, 59, 1, 10215, 110, 4, 2, 84, 86, 4876, 4887, 101, 101, 86, 101, 99, 116, 111, 114, 59, 1, 10589, 101, 99, 116, 111, 114, 4, 2, 59, 66, 4898, 4900, 1, 8642, 97, 114, 59, 1, 10581, 108, 111, 111, 114, 59, 1, 8971, 4, 2, 101, 114, 4918, 4944, 101, 4, 3, 59, 65, 86, 4927, 4929, 4936, 1, 8866, 114, 114, 111, 119, 59, 1, 8614, 101, 99, 116, 111, 114, 59, 1, 10587, 105, 97, 110, 103, 108, 101, 4, 3, 59, 66, 69, 4958, 4960, 4965, 1, 8883, 97, 114, 59, 1, 10704, 113, 117, 97, 108, 59, 1, 8885, 112, 4, 3, 68, 84, 86, 4981, 4993, 5004, 111, 119, 110, 86, 101, 99, 116, 111, 114, 59, 1, 10575, 101, 101, 86, 101, 99, 116, 111, 114, 59, 1, 10588, 101, 99, 116, 111, 114, 4, 2, 59, 66, 5015, 5017, 1, 8638, 97, 114, 59, 1, 10580, 101, 99, 116, 111, 114, 4, 2, 59, 66, 5033, 5035, 1, 8640, 97, 114, 59, 1, 10579, 114, 114, 111, 119, 59, 1, 8658, 4, 2, 112, 117, 5053, 5057, 102, 59, 1, 8477, 110, 100, 73, 109, 112, 108, 105, 101, 115, 59, 1, 10608, 105, 103, 104, 116, 97, 114, 114, 111, 119, 59, 1, 8667, 4, 2, 99, 104, 5087, 5091, 114, 59, 1, 8475, 59, 1, 8625, 108, 101, 68, 101, 108, 97, 121, 101, 100, 59, 1, 10740, 4, 13, 72, 79, 97, 99, 102, 104, 105, 109, 111, 113, 115, 116, 117, 5134, 5150, 5157, 5164, 5198, 5203, 5259, 5265, 5277, 5283, 5374, 5380, 5385, 4, 2, 67, 99, 5140, 5146, 72, 99, 121, 59, 1, 1065, 121, 59, 1, 1064, 70, 84, 99, 121, 59, 1, 1068, 99, 117, 116, 101, 59, 1, 346, 4, 5, 59, 97, 101, 105, 121, 5176, 5178, 5184, 5190, 5195, 1, 10940, 114, 111, 110, 59, 1, 352, 100, 105, 108, 59, 1, 350, 114, 99, 59, 1, 348, 59, 1, 1057, 114, 59, 3, 55349, 56598, 111, 114, 116, 4, 4, 68, 76, 82, 85, 5216, 5227, 5238, 5250, 111, 119, 110, 65, 114, 114, 111, 119, 59, 1, 8595, 101, 102, 116, 65, 114, 114, 111, 119, 59, 1, 8592, 105, 103, 104, 116, 65, 114, 114, 111, 119, 59, 1, 8594, 112, 65, 114, 114, 111, 119, 59, 1, 8593, 103, 109, 97, 59, 1, 931, 97, 108, 108, 67, 105, 114, 99, 108, 101, 59, 1, 8728, 112, 102, 59, 3, 55349, 56650, 4, 2, 114, 117, 5289, 5293, 116, 59, 1, 8730, 97, 114, 101, 4, 4, 59, 73, 83, 85, 5306, 5308, 5322, 5367, 1, 9633, 110, 116, 101, 114, 115, 101, 99, 116, 105, 111, 110, 59, 1, 8851, 117, 4, 2, 98, 112, 5329, 5347, 115, 101, 116, 4, 2, 59, 69, 5338, 5340, 1, 8847, 113, 117, 97, 108, 59, 1, 8849, 101, 114, 115, 101, 116, 4, 2, 59, 69, 5358, 5360, 1, 8848, 113, 117, 97, 108, 59, 1, 8850, 110, 105, 111, 110, 59, 1, 8852, 99, 114, 59, 3, 55349, 56494, 97, 114, 59, 1, 8902, 4, 4, 98, 99, 109, 112, 5395, 5420, 5475, 5478, 4, 2, 59, 115, 5401, 5403, 1, 8912, 101, 116, 4, 2, 59, 69, 5411, 5413, 1, 8912, 113, 117, 97, 108, 59, 1, 8838, 4, 2, 99, 104, 5426, 5468, 101, 101, 100, 115, 4, 4, 59, 69, 83, 84, 5440, 5442, 5449, 5461, 1, 8827, 113, 117, 97, 108, 59, 1, 10928, 108, 97, 110, 116, 69, 113, 117, 97, 108, 59, 1, 8829, 105, 108, 100, 101, 59, 1, 8831, 84, 104, 97, 116, 59, 1, 8715, 59, 1, 8721, 4, 3, 59, 101, 115, 5486, 5488, 5507, 1, 8913, 114, 115, 101, 116, 4, 2, 59, 69, 5498, 5500, 1, 8835, 113, 117, 97, 108, 59, 1, 8839, 101, 116, 59, 1, 8913, 4, 11, 72, 82, 83, 97, 99, 102, 104, 105, 111, 114, 115, 5536, 5546, 5552, 5567, 5579, 5602, 5607, 5655, 5695, 5701, 5711, 79, 82, 78, 5, 222, 1, 59, 5544, 1, 222, 65, 68, 69, 59, 1, 8482, 4, 2, 72, 99, 5558, 5563, 99, 121, 59, 1, 1035, 121, 59, 1, 1062, 4, 2, 98, 117, 5573, 5576, 59, 1, 9, 59, 1, 932, 4, 3, 97, 101, 121, 5587, 5593, 5599, 114, 111, 110, 59, 1, 356, 100, 105, 108, 59, 1, 354, 59, 1, 1058, 114, 59, 3, 55349, 56599, 4, 2, 101, 105, 5613, 5631, 4, 2, 114, 116, 5619, 5627, 101, 102, 111, 114, 101, 59, 1, 8756, 97, 59, 1, 920, 4, 2, 99, 110, 5637, 5647, 107, 83, 112, 97, 99, 101, 59, 3, 8287, 8202, 83, 112, 97, 99, 101, 59, 1, 8201, 108, 100, 101, 4, 4, 59, 69, 70, 84, 5668, 5670, 5677, 5688, 1, 8764, 113, 117, 97, 108, 59, 1, 8771, 117, 108, 108, 69, 113, 117, 97, 108, 59, 1, 8773, 105, 108, 100, 101, 59, 1, 8776, 112, 102, 59, 3, 55349, 56651, 105, 112, 108, 101, 68, 111, 116, 59, 1, 8411, 4, 2, 99, 116, 5717, 5722, 114, 59, 3, 55349, 56495, 114, 111, 107, 59, 1, 358, 4, 14, 97, 98, 99, 100, 102, 103, 109, 110, 111, 112, 114, 115, 116, 117, 5758, 5789, 5805, 5823, 5830, 5835, 5846, 5852, 5921, 5937, 6089, 6095, 6101, 6108, 4, 2, 99, 114, 5764, 5774, 117, 116, 101, 5, 218, 1, 59, 5772, 1, 218, 114, 4, 2, 59, 111, 5781, 5783, 1, 8607, 99, 105, 114, 59, 1, 10569, 114, 4, 2, 99, 101, 5796, 5800, 121, 59, 1, 1038, 118, 101, 59, 1, 364, 4, 2, 105, 121, 5811, 5820, 114, 99, 5, 219, 1, 59, 5818, 1, 219, 59, 1, 1059, 98, 108, 97, 99, 59, 1, 368, 114, 59, 3, 55349, 56600, 114, 97, 118, 101, 5, 217, 1, 59, 5844, 1, 217, 97, 99, 114, 59, 1, 362, 4, 2, 100, 105, 5858, 5905, 101, 114, 4, 2, 66, 80, 5866, 5892, 4, 2, 97, 114, 5872, 5876, 114, 59, 1, 95, 97, 99, 4, 2, 101, 107, 5884, 5887, 59, 1, 9183, 101, 116, 59, 1, 9141, 97, 114, 101, 110, 116, 104, 101, 115, 105, 115, 59, 1, 9181, 111, 110, 4, 2, 59, 80, 5913, 5915, 1, 8899, 108, 117, 115, 59, 1, 8846, 4, 2, 103, 112, 5927, 5932, 111, 110, 59, 1, 370, 102, 59, 3, 55349, 56652, 4, 8, 65, 68, 69, 84, 97, 100, 112, 115, 5955, 5985, 5996, 6009, 6026, 6033, 6044, 6075, 114, 114, 111, 119, 4, 3, 59, 66, 68, 5967, 5969, 5974, 1, 8593, 97, 114, 59, 1, 10514, 111, 119, 110, 65, 114, 114, 111, 119, 59, 1, 8645, 111, 119, 110, 65, 114, 114, 111, 119, 59, 1, 8597, 113, 117, 105, 108, 105, 98, 114, 105, 117, 109, 59, 1, 10606, 101, 101, 4, 2, 59, 65, 6017, 6019, 1, 8869, 114, 114, 111, 119, 59, 1, 8613, 114, 114, 111, 119, 59, 1, 8657, 111, 119, 110, 97, 114, 114, 111, 119, 59, 1, 8661, 101, 114, 4, 2, 76, 82, 6052, 6063, 101, 102, 116, 65, 114, 114, 111, 119, 59, 1, 8598, 105, 103, 104, 116, 65, 114, 114, 111, 119, 59, 1, 8599, 105, 4, 2, 59, 108, 6082, 6084, 1, 978, 111, 110, 59, 1, 933, 105, 110, 103, 59, 1, 366, 99, 114, 59, 3, 55349, 56496, 105, 108, 100, 101, 59, 1, 360, 109, 108, 5, 220, 1, 59, 6115, 1, 220, 4, 9, 68, 98, 99, 100, 101, 102, 111, 115, 118, 6137, 6143, 6148, 6152, 6166, 6250, 6255, 6261, 6267, 97, 115, 104, 59, 1, 8875, 97, 114, 59, 1, 10987, 121, 59, 1, 1042, 97, 115, 104, 4, 2, 59, 108, 6161, 6163, 1, 8873, 59, 1, 10982, 4, 2, 101, 114, 6172, 6175, 59, 1, 8897, 4, 3, 98, 116, 121, 6183, 6188, 6238, 97, 114, 59, 1, 8214, 4, 2, 59, 105, 6194, 6196, 1, 8214, 99, 97, 108, 4, 4, 66, 76, 83, 84, 6209, 6214, 6220, 6231, 97, 114, 59, 1, 8739, 105, 110, 101, 59, 1, 124, 101, 112, 97, 114, 97, 116, 111, 114, 59, 1, 10072, 105, 108, 100, 101, 59, 1, 8768, 84, 104, 105, 110, 83, 112, 97, 99, 101, 59, 1, 8202, 114, 59, 3, 55349, 56601, 112, 102, 59, 3, 55349, 56653, 99, 114, 59, 3, 55349, 56497, 100, 97, 115, 104, 59, 1, 8874, 4, 5, 99, 101, 102, 111, 115, 6286, 6292, 6298, 6303, 6309, 105, 114, 99, 59, 1, 372, 100, 103, 101, 59, 1, 8896, 114, 59, 3, 55349, 56602, 112, 102, 59, 3, 55349, 56654, 99, 114, 59, 3, 55349, 56498, 4, 4, 102, 105, 111, 115, 6325, 6330, 6333, 6339, 114, 59, 3, 55349, 56603, 59, 1, 926, 112, 102, 59, 3, 55349, 56655, 99, 114, 59, 3, 55349, 56499, 4, 9, 65, 73, 85, 97, 99, 102, 111, 115, 117, 6365, 6370, 6375, 6380, 6391, 6405, 6410, 6416, 6422, 99, 121, 59, 1, 1071, 99, 121, 59, 1, 1031, 99, 121, 59, 1, 1070, 99, 117, 116, 101, 5, 221, 1, 59, 6389, 1, 221, 4, 2, 105, 121, 6397, 6402, 114, 99, 59, 1, 374, 59, 1, 1067, 114, 59, 3, 55349, 56604, 112, 102, 59, 3, 55349, 56656, 99, 114, 59, 3, 55349, 56500, 109, 108, 59, 1, 376, 4, 8, 72, 97, 99, 100, 101, 102, 111, 115, 6445, 6450, 6457, 6472, 6477, 6501, 6505, 6510, 99, 121, 59, 1, 1046, 99, 117, 116, 101, 59, 1, 377, 4, 2, 97, 121, 6463, 6469, 114, 111, 110, 59, 1, 381, 59, 1, 1047, 111, 116, 59, 1, 379, 4, 2, 114, 116, 6483, 6497, 111, 87, 105, 100, 116, 104, 83, 112, 97, 99, 101, 59, 1, 8203, 97, 59, 1, 918, 114, 59, 1, 8488, 112, 102, 59, 1, 8484, 99, 114, 59, 3, 55349, 56501, 4, 16, 97, 98, 99, 101, 102, 103, 108, 109, 110, 111, 112, 114, 115, 116, 117, 119, 6550, 6561, 6568, 6612, 6622, 6634, 6645, 6672, 6699, 6854, 6870, 6923, 6933, 6963, 6974, 6983, 99, 117, 116, 101, 5, 225, 1, 59, 6559, 1, 225, 114, 101, 118, 101, 59, 1, 259, 4, 6, 59, 69, 100, 105, 117, 121, 6582, 6584, 6588, 6591, 6600, 6609, 1, 8766, 59, 3, 8766, 819, 59, 1, 8767, 114, 99, 5, 226, 1, 59, 6598, 1, 226, 116, 101, 5, 180, 1, 59, 6607, 1, 180, 59, 1, 1072, 108, 105, 103, 5, 230, 1, 59, 6620, 1, 230, 4, 2, 59, 114, 6628, 6630, 1, 8289, 59, 3, 55349, 56606, 114, 97, 118, 101, 5, 224, 1, 59, 6643, 1, 224, 4, 2, 101, 112, 6651, 6667, 4, 2, 102, 112, 6657, 6663, 115, 121, 109, 59, 1, 8501, 104, 59, 1, 8501, 104, 97, 59, 1, 945, 4, 2, 97, 112, 6678, 6692, 4, 2, 99, 108, 6684, 6688, 114, 59, 1, 257, 103, 59, 1, 10815, 5, 38, 1, 59, 6697, 1, 38, 4, 2, 100, 103, 6705, 6737, 4, 5, 59, 97, 100, 115, 118, 6717, 6719, 6724, 6727, 6734, 1, 8743, 110, 100, 59, 1, 10837, 59, 1, 10844, 108, 111, 112, 101, 59, 1, 10840, 59, 1, 10842, 4, 7, 59, 101, 108, 109, 114, 115, 122, 6753, 6755, 6758, 6762, 6814, 6835, 6848, 1, 8736, 59, 1, 10660, 101, 59, 1, 8736, 115, 100, 4, 2, 59, 97, 6770, 6772, 1, 8737, 4, 8, 97, 98, 99, 100, 101, 102, 103, 104, 6790, 6793, 6796, 6799, 6802, 6805, 6808, 6811, 59, 1, 10664, 59, 1, 10665, 59, 1, 10666, 59, 1, 10667, 59, 1, 10668, 59, 1, 10669, 59, 1, 10670, 59, 1, 10671, 116, 4, 2, 59, 118, 6821, 6823, 1, 8735, 98, 4, 2, 59, 100, 6830, 6832, 1, 8894, 59, 1, 10653, 4, 2, 112, 116, 6841, 6845, 104, 59, 1, 8738, 59, 1, 197, 97, 114, 114, 59, 1, 9084, 4, 2, 103, 112, 6860, 6865, 111, 110, 59, 1, 261, 102, 59, 3, 55349, 56658, 4, 7, 59, 69, 97, 101, 105, 111, 112, 6886, 6888, 6891, 6897, 6900, 6904, 6908, 1, 8776, 59, 1, 10864, 99, 105, 114, 59, 1, 10863, 59, 1, 8778, 100, 59, 1, 8779, 115, 59, 1, 39, 114, 111, 120, 4, 2, 59, 101, 6917, 6919, 1, 8776, 113, 59, 1, 8778, 105, 110, 103, 5, 229, 1, 59, 6931, 1, 229, 4, 3, 99, 116, 121, 6941, 6946, 6949, 114, 59, 3, 55349, 56502, 59, 1, 42, 109, 112, 4, 2, 59, 101, 6957, 6959, 1, 8776, 113, 59, 1, 8781, 105, 108, 100, 101, 5, 227, 1, 59, 6972, 1, 227, 109, 108, 5, 228, 1, 59, 6981, 1, 228, 4, 2, 99, 105, 6989, 6997, 111, 110, 105, 110, 116, 59, 1, 8755, 110, 116, 59, 1, 10769, 4, 16, 78, 97, 98, 99, 100, 101, 102, 105, 107, 108, 110, 111, 112, 114, 115, 117, 7036, 7041, 7119, 7135, 7149, 7155, 7219, 7224, 7347, 7354, 7463, 7489, 7786, 7793, 7814, 7866, 111, 116, 59, 1, 10989, 4, 2, 99, 114, 7047, 7094, 107, 4, 4, 99, 101, 112, 115, 7058, 7064, 7073, 7080, 111, 110, 103, 59, 1, 8780, 112, 115, 105, 108, 111, 110, 59, 1, 1014, 114, 105, 109, 101, 59, 1, 8245, 105, 109, 4, 2, 59, 101, 7088, 7090, 1, 8765, 113, 59, 1, 8909, 4, 2, 118, 119, 7100, 7105, 101, 101, 59, 1, 8893, 101, 100, 4, 2, 59, 103, 7113, 7115, 1, 8965, 101, 59, 1, 8965, 114, 107, 4, 2, 59, 116, 7127, 7129, 1, 9141, 98, 114, 107, 59, 1, 9142, 4, 2, 111, 121, 7141, 7146, 110, 103, 59, 1, 8780, 59, 1, 1073, 113, 117, 111, 59, 1, 8222, 4, 5, 99, 109, 112, 114, 116, 7167, 7181, 7188, 7193, 7199, 97, 117, 115, 4, 2, 59, 101, 7176, 7178, 1, 8757, 59, 1, 8757, 112, 116, 121, 118, 59, 1, 10672, 115, 105, 59, 1, 1014, 110, 111, 117, 59, 1, 8492, 4, 3, 97, 104, 119, 7207, 7210, 7213, 59, 1, 946, 59, 1, 8502, 101, 101, 110, 59, 1, 8812, 114, 59, 3, 55349, 56607, 103, 4, 7, 99, 111, 115, 116, 117, 118, 119, 7241, 7262, 7288, 7305, 7328, 7335, 7340, 4, 3, 97, 105, 117, 7249, 7253, 7258, 112, 59, 1, 8898, 114, 99, 59, 1, 9711, 112, 59, 1, 8899, 4, 3, 100, 112, 116, 7270, 7275, 7281, 111, 116, 59, 1, 10752, 108, 117, 115, 59, 1, 10753, 105, 109, 101, 115, 59, 1, 10754, 4, 2, 113, 116, 7294, 7300, 99, 117, 112, 59, 1, 10758, 97, 114, 59, 1, 9733, 114, 105, 97, 110, 103, 108, 101, 4, 2, 100, 117, 7318, 7324, 111, 119, 110, 59, 1, 9661, 112, 59, 1, 9651, 112, 108, 117, 115, 59, 1, 10756, 101, 101, 59, 1, 8897, 101, 100, 103, 101, 59, 1, 8896, 97, 114, 111, 119, 59, 1, 10509, 4, 3, 97, 107, 111, 7362, 7436, 7458, 4, 2, 99, 110, 7368, 7432, 107, 4, 3, 108, 115, 116, 7377, 7386, 7394, 111, 122, 101, 110, 103, 101, 59, 1, 10731, 113, 117, 97, 114, 101, 59, 1, 9642, 114, 105, 97, 110, 103, 108, 101, 4, 4, 59, 100, 108, 114, 7411, 7413, 7419, 7425, 1, 9652, 111, 119, 110, 59, 1, 9662, 101, 102, 116, 59, 1, 9666, 105, 103, 104, 116, 59, 1, 9656, 107, 59, 1, 9251, 4, 2, 49, 51, 7442, 7454, 4, 2, 50, 52, 7448, 7451, 59, 1, 9618, 59, 1, 9617, 52, 59, 1, 9619, 99, 107, 59, 1, 9608, 4, 2, 101, 111, 7469, 7485, 4, 2, 59, 113, 7475, 7478, 3, 61, 8421, 117, 105, 118, 59, 3, 8801, 8421, 116, 59, 1, 8976, 4, 4, 112, 116, 119, 120, 7499, 7504, 7517, 7523, 102, 59, 3, 55349, 56659, 4, 2, 59, 116, 7510, 7512, 1, 8869, 111, 109, 59, 1, 8869, 116, 105, 101, 59, 1, 8904, 4, 12, 68, 72, 85, 86, 98, 100, 104, 109, 112, 116, 117, 118, 7549, 7571, 7597, 7619, 7655, 7660, 7682, 7708, 7715, 7721, 7728, 7750, 4, 4, 76, 82, 108, 114, 7559, 7562, 7565, 7568, 59, 1, 9559, 59, 1, 9556, 59, 1, 9558, 59, 1, 9555, 4, 5, 59, 68, 85, 100, 117, 7583, 7585, 7588, 7591, 7594, 1, 9552, 59, 1, 9574, 59, 1, 9577, 59, 1, 9572, 59, 1, 9575, 4, 4, 76, 82, 108, 114, 7607, 7610, 7613, 7616, 59, 1, 9565, 59, 1, 9562, 59, 1, 9564, 59, 1, 9561, 4, 7, 59, 72, 76, 82, 104, 108, 114, 7635, 7637, 7640, 7643, 7646, 7649, 7652, 1, 9553, 59, 1, 9580, 59, 1, 9571, 59, 1, 9568, 59, 1, 9579, 59, 1, 9570, 59, 1, 9567, 111, 120, 59, 1, 10697, 4, 4, 76, 82, 108, 114, 7670, 7673, 7676, 7679, 59, 1, 9557, 59, 1, 9554, 59, 1, 9488, 59, 1, 9484, 4, 5, 59, 68, 85, 100, 117, 7694, 7696, 7699, 7702, 7705, 1, 9472, 59, 1, 9573, 59, 1, 9576, 59, 1, 9516, 59, 1, 9524, 105, 110, 117, 115, 59, 1, 8863, 108, 117, 115, 59, 1, 8862, 105, 109, 101, 115, 59, 1, 8864, 4, 4, 76, 82, 108, 114, 7738, 7741, 7744, 7747, 59, 1, 9563, 59, 1, 9560, 59, 1, 9496, 59, 1, 9492, 4, 7, 59, 72, 76, 82, 104, 108, 114, 7766, 7768, 7771, 7774, 7777, 7780, 7783, 1, 9474, 59, 1, 9578, 59, 1, 9569, 59, 1, 9566, 59, 1, 9532, 59, 1, 9508, 59, 1, 9500, 114, 105, 109, 101, 59, 1, 8245, 4, 2, 101, 118, 7799, 7804, 118, 101, 59, 1, 728, 98, 97, 114, 5, 166, 1, 59, 7812, 1, 166, 4, 4, 99, 101, 105, 111, 7824, 7829, 7834, 7846, 114, 59, 3, 55349, 56503, 109, 105, 59, 1, 8271, 109, 4, 2, 59, 101, 7841, 7843, 1, 8765, 59, 1, 8909, 108, 4, 3, 59, 98, 104, 7855, 7857, 7860, 1, 92, 59, 1, 10693, 115, 117, 98, 59, 1, 10184, 4, 2, 108, 109, 7872, 7885, 108, 4, 2, 59, 101, 7879, 7881, 1, 8226, 116, 59, 1, 8226, 112, 4, 3, 59, 69, 101, 7894, 7896, 7899, 1, 8782, 59, 1, 10926, 4, 2, 59, 113, 7905, 7907, 1, 8783, 59, 1, 8783, 4, 15, 97, 99, 100, 101, 102, 104, 105, 108, 111, 114, 115, 116, 117, 119, 121, 7942, 8021, 8075, 8080, 8121, 8126, 8157, 8279, 8295, 8430, 8446, 8485, 8491, 8707, 8726, 4, 3, 99, 112, 114, 7950, 7956, 8007, 117, 116, 101, 59, 1, 263, 4, 6, 59, 97, 98, 99, 100, 115, 7970, 7972, 7977, 7984, 7998, 8003, 1, 8745, 110, 100, 59, 1, 10820, 114, 99, 117, 112, 59, 1, 10825, 4, 2, 97, 117, 7990, 7994, 112, 59, 1, 10827, 112, 59, 1, 10823, 111, 116, 59, 1, 10816, 59, 3, 8745, 65024, 4, 2, 101, 111, 8013, 8017, 116, 59, 1, 8257, 110, 59, 1, 711, 4, 4, 97, 101, 105, 117, 8031, 8046, 8056, 8061, 4, 2, 112, 114, 8037, 8041, 115, 59, 1, 10829, 111, 110, 59, 1, 269, 100, 105, 108, 5, 231, 1, 59, 8054, 1, 231, 114, 99, 59, 1, 265, 112, 115, 4, 2, 59, 115, 8069, 8071, 1, 10828, 109, 59, 1, 10832, 111, 116, 59, 1, 267, 4, 3, 100, 109, 110, 8088, 8097, 8104, 105, 108, 5, 184, 1, 59, 8095, 1, 184, 112, 116, 121, 118, 59, 1, 10674, 116, 5, 162, 2, 59, 101, 8112, 8114, 1, 162, 114, 100, 111, 116, 59, 1, 183, 114, 59, 3, 55349, 56608, 4, 3, 99, 101, 105, 8134, 8138, 8154, 121, 59, 1, 1095, 99, 107, 4, 2, 59, 109, 8146, 8148, 1, 10003, 97, 114, 107, 59, 1, 10003, 59, 1, 967, 114, 4, 7, 59, 69, 99, 101, 102, 109, 115, 8174, 8176, 8179, 8258, 8261, 8268, 8273, 1, 9675, 59, 1, 10691, 4, 3, 59, 101, 108, 8187, 8189, 8193, 1, 710, 113, 59, 1, 8791, 101, 4, 2, 97, 100, 8200, 8223, 114, 114, 111, 119, 4, 2, 108, 114, 8210, 8216, 101, 102, 116, 59, 1, 8634, 105, 103, 104, 116, 59, 1, 8635, 4, 5, 82, 83, 97, 99, 100, 8235, 8238, 8241, 8246, 8252, 59, 1, 174, 59, 1, 9416, 115, 116, 59, 1, 8859, 105, 114, 99, 59, 1, 8858, 97, 115, 104, 59, 1, 8861, 59, 1, 8791, 110, 105, 110, 116, 59, 1, 10768, 105, 100, 59, 1, 10991, 99, 105, 114, 59, 1, 10690, 117, 98, 115, 4, 2, 59, 117, 8288, 8290, 1, 9827, 105, 116, 59, 1, 9827, 4, 4, 108, 109, 110, 112, 8305, 8326, 8376, 8400, 111, 110, 4, 2, 59, 101, 8313, 8315, 1, 58, 4, 2, 59, 113, 8321, 8323, 1, 8788, 59, 1, 8788, 4, 2, 109, 112, 8332, 8344, 97, 4, 2, 59, 116, 8339, 8341, 1, 44, 59, 1, 64, 4, 3, 59, 102, 108, 8352, 8354, 8358, 1, 8705, 110, 59, 1, 8728, 101, 4, 2, 109, 120, 8365, 8371, 101, 110, 116, 59, 1, 8705, 101, 115, 59, 1, 8450, 4, 2, 103, 105, 8382, 8395, 4, 2, 59, 100, 8388, 8390, 1, 8773, 111, 116, 59, 1, 10861, 110, 116, 59, 1, 8750, 4, 3, 102, 114, 121, 8408, 8412, 8417, 59, 3, 55349, 56660, 111, 100, 59, 1, 8720, 5, 169, 2, 59, 115, 8424, 8426, 1, 169, 114, 59, 1, 8471, 4, 2, 97, 111, 8436, 8441, 114, 114, 59, 1, 8629, 115, 115, 59, 1, 10007, 4, 2, 99, 117, 8452, 8457, 114, 59, 3, 55349, 56504, 4, 2, 98, 112, 8463, 8474, 4, 2, 59, 101, 8469, 8471, 1, 10959, 59, 1, 10961, 4, 2, 59, 101, 8480, 8482, 1, 10960, 59, 1, 10962, 100, 111, 116, 59, 1, 8943, 4, 7, 100, 101, 108, 112, 114, 118, 119, 8507, 8522, 8536, 8550, 8600, 8697, 8702, 97, 114, 114, 4, 2, 108, 114, 8516, 8519, 59, 1, 10552, 59, 1, 10549, 4, 2, 112, 115, 8528, 8532, 114, 59, 1, 8926, 99, 59, 1, 8927, 97, 114, 114, 4, 2, 59, 112, 8545, 8547, 1, 8630, 59, 1, 10557, 4, 6, 59, 98, 99, 100, 111, 115, 8564, 8566, 8573, 8587, 8592, 8596, 1, 8746, 114, 99, 97, 112, 59, 1, 10824, 4, 2, 97, 117, 8579, 8583, 112, 59, 1, 10822, 112, 59, 1, 10826, 111, 116, 59, 1, 8845, 114, 59, 1, 10821, 59, 3, 8746, 65024, 4, 4, 97, 108, 114, 118, 8610, 8623, 8663, 8672, 114, 114, 4, 2, 59, 109, 8618, 8620, 1, 8631, 59, 1, 10556, 121, 4, 3, 101, 118, 119, 8632, 8651, 8656, 113, 4, 2, 112, 115, 8639, 8645, 114, 101, 99, 59, 1, 8926, 117, 99, 99, 59, 1, 8927, 101, 101, 59, 1, 8910, 101, 100, 103, 101, 59, 1, 8911, 101, 110, 5, 164, 1, 59, 8670, 1, 164, 101, 97, 114, 114, 111, 119, 4, 2, 108, 114, 8684, 8690, 101, 102, 116, 59, 1, 8630, 105, 103, 104, 116, 59, 1, 8631, 101, 101, 59, 1, 8910, 101, 100, 59, 1, 8911, 4, 2, 99, 105, 8713, 8721, 111, 110, 105, 110, 116, 59, 1, 8754, 110, 116, 59, 1, 8753, 108, 99, 116, 121, 59, 1, 9005, 4, 19, 65, 72, 97, 98, 99, 100, 101, 102, 104, 105, 106, 108, 111, 114, 115, 116, 117, 119, 122, 8773, 8778, 8783, 8821, 8839, 8854, 8887, 8914, 8930, 8944, 9036, 9041, 9058, 9197, 9227, 9258, 9281, 9297, 9305, 114, 114, 59, 1, 8659, 97, 114, 59, 1, 10597, 4, 4, 103, 108, 114, 115, 8793, 8799, 8805, 8809, 103, 101, 114, 59, 1, 8224, 101, 116, 104, 59, 1, 8504, 114, 59, 1, 8595, 104, 4, 2, 59, 118, 8816, 8818, 1, 8208, 59, 1, 8867, 4, 2, 107, 108, 8827, 8834, 97, 114, 111, 119, 59, 1, 10511, 97, 99, 59, 1, 733, 4, 2, 97, 121, 8845, 8851, 114, 111, 110, 59, 1, 271, 59, 1, 1076, 4, 3, 59, 97, 111, 8862, 8864, 8880, 1, 8518, 4, 2, 103, 114, 8870, 8876, 103, 101, 114, 59, 1, 8225, 114, 59, 1, 8650, 116, 115, 101, 113, 59, 1, 10871, 4, 3, 103, 108, 109, 8895, 8902, 8907, 5, 176, 1, 59, 8900, 1, 176, 116, 97, 59, 1, 948, 112, 116, 121, 118, 59, 1, 10673, 4, 2, 105, 114, 8920, 8926, 115, 104, 116, 59, 1, 10623, 59, 3, 55349, 56609, 97, 114, 4, 2, 108, 114, 8938, 8941, 59, 1, 8643, 59, 1, 8642, 4, 5, 97, 101, 103, 115, 118, 8956, 8986, 8989, 8996, 9001, 109, 4, 3, 59, 111, 115, 8965, 8967, 8983, 1, 8900, 110, 100, 4, 2, 59, 115, 8975, 8977, 1, 8900, 117, 105, 116, 59, 1, 9830, 59, 1, 9830, 59, 1, 168, 97, 109, 109, 97, 59, 1, 989, 105, 110, 59, 1, 8946, 4, 3, 59, 105, 111, 9009, 9011, 9031, 1, 247, 100, 101, 5, 247, 2, 59, 111, 9020, 9022, 1, 247, 110, 116, 105, 109, 101, 115, 59, 1, 8903, 110, 120, 59, 1, 8903, 99, 121, 59, 1, 1106, 99, 4, 2, 111, 114, 9048, 9053, 114, 110, 59, 1, 8990, 111, 112, 59, 1, 8973, 4, 5, 108, 112, 116, 117, 119, 9070, 9076, 9081, 9130, 9144, 108, 97, 114, 59, 1, 36, 102, 59, 3, 55349, 56661, 4, 5, 59, 101, 109, 112, 115, 9093, 9095, 9109, 9116, 9122, 1, 729, 113, 4, 2, 59, 100, 9102, 9104, 1, 8784, 111, 116, 59, 1, 8785, 105, 110, 117, 115, 59, 1, 8760, 108, 117, 115, 59, 1, 8724, 113, 117, 97, 114, 101, 59, 1, 8865, 98, 108, 101, 98, 97, 114, 119, 101, 100, 103, 101, 59, 1, 8966, 110, 4, 3, 97, 100, 104, 9153, 9160, 9172, 114, 114, 111, 119, 59, 1, 8595, 111, 119, 110, 97, 114, 114, 111, 119, 115, 59, 1, 8650, 97, 114, 112, 111, 111, 110, 4, 2, 108, 114, 9184, 9190, 101, 102, 116, 59, 1, 8643, 105, 103, 104, 116, 59, 1, 8642, 4, 2, 98, 99, 9203, 9211, 107, 97, 114, 111, 119, 59, 1, 10512, 4, 2, 111, 114, 9217, 9222, 114, 110, 59, 1, 8991, 111, 112, 59, 1, 8972, 4, 3, 99, 111, 116, 9235, 9248, 9252, 4, 2, 114, 121, 9241, 9245, 59, 3, 55349, 56505, 59, 1, 1109, 108, 59, 1, 10742, 114, 111, 107, 59, 1, 273, 4, 2, 100, 114, 9264, 9269, 111, 116, 59, 1, 8945, 105, 4, 2, 59, 102, 9276, 9278, 1, 9663, 59, 1, 9662, 4, 2, 97, 104, 9287, 9292, 114, 114, 59, 1, 8693, 97, 114, 59, 1, 10607, 97, 110, 103, 108, 101, 59, 1, 10662, 4, 2, 99, 105, 9311, 9315, 121, 59, 1, 1119, 103, 114, 97, 114, 114, 59, 1, 10239, 4, 18, 68, 97, 99, 100, 101, 102, 103, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 120, 9361, 9376, 9398, 9439, 9444, 9447, 9462, 9495, 9531, 9585, 9598, 9614, 9659, 9755, 9771, 9792, 9808, 9826, 4, 2, 68, 111, 9367, 9372, 111, 116, 59, 1, 10871, 116, 59, 1, 8785, 4, 2, 99, 115, 9382, 9392, 117, 116, 101, 5, 233, 1, 59, 9390, 1, 233, 116, 101, 114, 59, 1, 10862, 4, 4, 97, 105, 111, 121, 9408, 9414, 9430, 9436, 114, 111, 110, 59, 1, 283, 114, 4, 2, 59, 99, 9421, 9423, 1, 8790, 5, 234, 1, 59, 9428, 1, 234, 108, 111, 110, 59, 1, 8789, 59, 1, 1101, 111, 116, 59, 1, 279, 59, 1, 8519, 4, 2, 68, 114, 9453, 9458, 111, 116, 59, 1, 8786, 59, 3, 55349, 56610, 4, 3, 59, 114, 115, 9470, 9472, 9482, 1, 10906, 97, 118, 101, 5, 232, 1, 59, 9480, 1, 232, 4, 2, 59, 100, 9488, 9490, 1, 10902, 111, 116, 59, 1, 10904, 4, 4, 59, 105, 108, 115, 9505, 9507, 9515, 9518, 1, 10905, 110, 116, 101, 114, 115, 59, 1, 9191, 59, 1, 8467, 4, 2, 59, 100, 9524, 9526, 1, 10901, 111, 116, 59, 1, 10903, 4, 3, 97, 112, 115, 9539, 9544, 9564, 99, 114, 59, 1, 275, 116, 121, 4, 3, 59, 115, 118, 9554, 9556, 9561, 1, 8709, 101, 116, 59, 1, 8709, 59, 1, 8709, 112, 4, 2, 49, 59, 9571, 9583, 4, 2, 51, 52, 9577, 9580, 59, 1, 8196, 59, 1, 8197, 1, 8195, 4, 2, 103, 115, 9591, 9594, 59, 1, 331, 112, 59, 1, 8194, 4, 2, 103, 112, 9604, 9609, 111, 110, 59, 1, 281, 102, 59, 3, 55349, 56662, 4, 3, 97, 108, 115, 9622, 9635, 9640, 114, 4, 2, 59, 115, 9629, 9631, 1, 8917, 108, 59, 1, 10723, 117, 115, 59, 1, 10865, 105, 4, 3, 59, 108, 118, 9649, 9651, 9656, 1, 949, 111, 110, 59, 1, 949, 59, 1, 1013, 4, 4, 99, 115, 117, 118, 9669, 9686, 9716, 9747, 4, 2, 105, 111, 9675, 9680, 114, 99, 59, 1, 8790, 108, 111, 110, 59, 1, 8789, 4, 2, 105, 108, 9692, 9696, 109, 59, 1, 8770, 97, 110, 116, 4, 2, 103, 108, 9705, 9710, 116, 114, 59, 1, 10902, 101, 115, 115, 59, 1, 10901, 4, 3, 97, 101, 105, 9724, 9729, 9734, 108, 115, 59, 1, 61, 115, 116, 59, 1, 8799, 118, 4, 2, 59, 68, 9741, 9743, 1, 8801, 68, 59, 1, 10872, 112, 97, 114, 115, 108, 59, 1, 10725, 4, 2, 68, 97, 9761, 9766, 111, 116, 59, 1, 8787, 114, 114, 59, 1, 10609, 4, 3, 99, 100, 105, 9779, 9783, 9788, 114, 59, 1, 8495, 111, 116, 59, 1, 8784, 109, 59, 1, 8770, 4, 2, 97, 104, 9798, 9801, 59, 1, 951, 5, 240, 1, 59, 9806, 1, 240, 4, 2, 109, 114, 9814, 9822, 108, 5, 235, 1, 59, 9820, 1, 235, 111, 59, 1, 8364, 4, 3, 99, 105, 112, 9834, 9838, 9843, 108, 59, 1, 33, 115, 116, 59, 1, 8707, 4, 2, 101, 111, 9849, 9859, 99, 116, 97, 116, 105, 111, 110, 59, 1, 8496, 110, 101, 110, 116, 105, 97, 108, 101, 59, 1, 8519, 4, 12, 97, 99, 101, 102, 105, 106, 108, 110, 111, 112, 114, 115, 9896, 9910, 9914, 9921, 9954, 9960, 9967, 9989, 9994, 10027, 10036, 10164, 108, 108, 105, 110, 103, 100, 111, 116, 115, 101, 113, 59, 1, 8786, 121, 59, 1, 1092, 109, 97, 108, 101, 59, 1, 9792, 4, 3, 105, 108, 114, 9929, 9935, 9950, 108, 105, 103, 59, 1, 64259, 4, 2, 105, 108, 9941, 9945, 103, 59, 1, 64256, 105, 103, 59, 1, 64260, 59, 3, 55349, 56611, 108, 105, 103, 59, 1, 64257, 108, 105, 103, 59, 3, 102, 106, 4, 3, 97, 108, 116, 9975, 9979, 9984, 116, 59, 1, 9837, 105, 103, 59, 1, 64258, 110, 115, 59, 1, 9649, 111, 102, 59, 1, 402, 4, 2, 112, 114, 10000, 10005, 102, 59, 3, 55349, 56663, 4, 2, 97, 107, 10011, 10016, 108, 108, 59, 1, 8704, 4, 2, 59, 118, 10022, 10024, 1, 8916, 59, 1, 10969, 97, 114, 116, 105, 110, 116, 59, 1, 10765, 4, 2, 97, 111, 10042, 10159, 4, 2, 99, 115, 10048, 10155, 4, 6, 49, 50, 51, 52, 53, 55, 10062, 10102, 10114, 10135, 10139, 10151, 4, 6, 50, 51, 52, 53, 54, 56, 10076, 10083, 10086, 10093, 10096, 10099, 5, 189, 1, 59, 10081, 1, 189, 59, 1, 8531, 5, 188, 1, 59, 10091, 1, 188, 59, 1, 8533, 59, 1, 8537, 59, 1, 8539, 4, 2, 51, 53, 10108, 10111, 59, 1, 8532, 59, 1, 8534, 4, 3, 52, 53, 56, 10122, 10129, 10132, 5, 190, 1, 59, 10127, 1, 190, 59, 1, 8535, 59, 1, 8540, 53, 59, 1, 8536, 4, 2, 54, 56, 10145, 10148, 59, 1, 8538, 59, 1, 8541, 56, 59, 1, 8542, 108, 59, 1, 8260, 119, 110, 59, 1, 8994, 99, 114, 59, 3, 55349, 56507, 4, 17, 69, 97, 98, 99, 100, 101, 102, 103, 105, 106, 108, 110, 111, 114, 115, 116, 118, 10206, 10217, 10247, 10254, 10268, 10273, 10358, 10363, 10374, 10380, 10385, 10406, 10458, 10464, 10470, 10497, 10610, 4, 2, 59, 108, 10212, 10214, 1, 8807, 59, 1, 10892, 4, 3, 99, 109, 112, 10225, 10231, 10244, 117, 116, 101, 59, 1, 501, 109, 97, 4, 2, 59, 100, 10239, 10241, 1, 947, 59, 1, 989, 59, 1, 10886, 114, 101, 118, 101, 59, 1, 287, 4, 2, 105, 121, 10260, 10265, 114, 99, 59, 1, 285, 59, 1, 1075, 111, 116, 59, 1, 289, 4, 4, 59, 108, 113, 115, 10283, 10285, 10288, 10308, 1, 8805, 59, 1, 8923, 4, 3, 59, 113, 115, 10296, 10298, 10301, 1, 8805, 59, 1, 8807, 108, 97, 110, 116, 59, 1, 10878, 4, 4, 59, 99, 100, 108, 10318, 10320, 10324, 10345, 1, 10878, 99, 59, 1, 10921, 111, 116, 4, 2, 59, 111, 10332, 10334, 1, 10880, 4, 2, 59, 108, 10340, 10342, 1, 10882, 59, 1, 10884, 4, 2, 59, 101, 10351, 10354, 3, 8923, 65024, 115, 59, 1, 10900, 114, 59, 3, 55349, 56612, 4, 2, 59, 103, 10369, 10371, 1, 8811, 59, 1, 8921, 109, 101, 108, 59, 1, 8503, 99, 121, 59, 1, 1107, 4, 4, 59, 69, 97, 106, 10395, 10397, 10400, 10403, 1, 8823, 59, 1, 10898, 59, 1, 10917, 59, 1, 10916, 4, 4, 69, 97, 101, 115, 10416, 10419, 10434, 10453, 59, 1, 8809, 112, 4, 2, 59, 112, 10426, 10428, 1, 10890, 114, 111, 120, 59, 1, 10890, 4, 2, 59, 113, 10440, 10442, 1, 10888, 4, 2, 59, 113, 10448, 10450, 1, 10888, 59, 1, 8809, 105, 109, 59, 1, 8935, 112, 102, 59, 3, 55349, 56664, 97, 118, 101, 59, 1, 96, 4, 2, 99, 105, 10476, 10480, 114, 59, 1, 8458, 109, 4, 3, 59, 101, 108, 10489, 10491, 10494, 1, 8819, 59, 1, 10894, 59, 1, 10896, 5, 62, 6, 59, 99, 100, 108, 113, 114, 10512, 10514, 10527, 10532, 10538, 10545, 1, 62, 4, 2, 99, 105, 10520, 10523, 59, 1, 10919, 114, 59, 1, 10874, 111, 116, 59, 1, 8919, 80, 97, 114, 59, 1, 10645, 117, 101, 115, 116, 59, 1, 10876, 4, 5, 97, 100, 101, 108, 115, 10557, 10574, 10579, 10599, 10605, 4, 2, 112, 114, 10563, 10570, 112, 114, 111, 120, 59, 1, 10886, 114, 59, 1, 10616, 111, 116, 59, 1, 8919, 113, 4, 2, 108, 113, 10586, 10592, 101, 115, 115, 59, 1, 8923, 108, 101, 115, 115, 59, 1, 10892, 101, 115, 115, 59, 1, 8823, 105, 109, 59, 1, 8819, 4, 2, 101, 110, 10616, 10626, 114, 116, 110, 101, 113, 113, 59, 3, 8809, 65024, 69, 59, 3, 8809, 65024, 4, 10, 65, 97, 98, 99, 101, 102, 107, 111, 115, 121, 10653, 10658, 10713, 10718, 10724, 10760, 10765, 10786, 10850, 10875, 114, 114, 59, 1, 8660, 4, 4, 105, 108, 109, 114, 10668, 10674, 10678, 10684, 114, 115, 112, 59, 1, 8202, 102, 59, 1, 189, 105, 108, 116, 59, 1, 8459, 4, 2, 100, 114, 10690, 10695, 99, 121, 59, 1, 1098, 4, 3, 59, 99, 119, 10703, 10705, 10710, 1, 8596, 105, 114, 59, 1, 10568, 59, 1, 8621, 97, 114, 59, 1, 8463, 105, 114, 99, 59, 1, 293, 4, 3, 97, 108, 114, 10732, 10748, 10754, 114, 116, 115, 4, 2, 59, 117, 10741, 10743, 1, 9829, 105, 116, 59, 1, 9829, 108, 105, 112, 59, 1, 8230, 99, 111, 110, 59, 1, 8889, 114, 59, 3, 55349, 56613, 115, 4, 2, 101, 119, 10772, 10779, 97, 114, 111, 119, 59, 1, 10533, 97, 114, 111, 119, 59, 1, 10534, 4, 5, 97, 109, 111, 112, 114, 10798, 10803, 10809, 10839, 10844, 114, 114, 59, 1, 8703, 116, 104, 116, 59, 1, 8763, 107, 4, 2, 108, 114, 10816, 10827, 101, 102, 116, 97, 114, 114, 111, 119, 59, 1, 8617, 105, 103, 104, 116, 97, 114, 114, 111, 119, 59, 1, 8618, 102, 59, 3, 55349, 56665, 98, 97, 114, 59, 1, 8213, 4, 3, 99, 108, 116, 10858, 10863, 10869, 114, 59, 3, 55349, 56509, 97, 115, 104, 59, 1, 8463, 114, 111, 107, 59, 1, 295, 4, 2, 98, 112, 10881, 10887, 117, 108, 108, 59, 1, 8259, 104, 101, 110, 59, 1, 8208, 4, 15, 97, 99, 101, 102, 103, 105, 106, 109, 110, 111, 112, 113, 115, 116, 117, 10925, 10936, 10958, 10977, 10990, 11001, 11039, 11045, 11101, 11192, 11220, 11226, 11237, 11285, 11299, 99, 117, 116, 101, 5, 237, 1, 59, 10934, 1, 237, 4, 3, 59, 105, 121, 10944, 10946, 10955, 1, 8291, 114, 99, 5, 238, 1, 59, 10953, 1, 238, 59, 1, 1080, 4, 2, 99, 120, 10964, 10968, 121, 59, 1, 1077, 99, 108, 5, 161, 1, 59, 10975, 1, 161, 4, 2, 102, 114, 10983, 10986, 59, 1, 8660, 59, 3, 55349, 56614, 114, 97, 118, 101, 5, 236, 1, 59, 10999, 1, 236, 4, 4, 59, 105, 110, 111, 11011, 11013, 11028, 11034, 1, 8520, 4, 2, 105, 110, 11019, 11024, 110, 116, 59, 1, 10764, 116, 59, 1, 8749, 102, 105, 110, 59, 1, 10716, 116, 97, 59, 1, 8489, 108, 105, 103, 59, 1, 307, 4, 3, 97, 111, 112, 11053, 11092, 11096, 4, 3, 99, 103, 116, 11061, 11065, 11088, 114, 59, 1, 299, 4, 3, 101, 108, 112, 11073, 11076, 11082, 59, 1, 8465, 105, 110, 101, 59, 1, 8464, 97, 114, 116, 59, 1, 8465, 104, 59, 1, 305, 102, 59, 1, 8887, 101, 100, 59, 1, 437, 4, 5, 59, 99, 102, 111, 116, 11113, 11115, 11121, 11136, 11142, 1, 8712, 97, 114, 101, 59, 1, 8453, 105, 110, 4, 2, 59, 116, 11129, 11131, 1, 8734, 105, 101, 59, 1, 10717, 100, 111, 116, 59, 1, 305, 4, 5, 59, 99, 101, 108, 112, 11154, 11156, 11161, 11179, 11186, 1, 8747, 97, 108, 59, 1, 8890, 4, 2, 103, 114, 11167, 11173, 101, 114, 115, 59, 1, 8484, 99, 97, 108, 59, 1, 8890, 97, 114, 104, 107, 59, 1, 10775, 114, 111, 100, 59, 1, 10812, 4, 4, 99, 103, 112, 116, 11202, 11206, 11211, 11216, 121, 59, 1, 1105, 111, 110, 59, 1, 303, 102, 59, 3, 55349, 56666, 97, 59, 1, 953, 114, 111, 100, 59, 1, 10812, 117, 101, 115, 116, 5, 191, 1, 59, 11235, 1, 191, 4, 2, 99, 105, 11243, 11248, 114, 59, 3, 55349, 56510, 110, 4, 5, 59, 69, 100, 115, 118, 11261, 11263, 11266, 11271, 11282, 1, 8712, 59, 1, 8953, 111, 116, 59, 1, 8949, 4, 2, 59, 118, 11277, 11279, 1, 8948, 59, 1, 8947, 59, 1, 8712, 4, 2, 59, 105, 11291, 11293, 1, 8290, 108, 100, 101, 59, 1, 297, 4, 2, 107, 109, 11305, 11310, 99, 121, 59, 1, 1110, 108, 5, 239, 1, 59, 11316, 1, 239, 4, 6, 99, 102, 109, 111, 115, 117, 11332, 11346, 11351, 11357, 11363, 11380, 4, 2, 105, 121, 11338, 11343, 114, 99, 59, 1, 309, 59, 1, 1081, 114, 59, 3, 55349, 56615, 97, 116, 104, 59, 1, 567, 112, 102, 59, 3, 55349, 56667, 4, 2, 99, 101, 11369, 11374, 114, 59, 3, 55349, 56511, 114, 99, 121, 59, 1, 1112, 107, 99, 121, 59, 1, 1108, 4, 8, 97, 99, 102, 103, 104, 106, 111, 115, 11404, 11418, 11433, 11438, 11445, 11450, 11455, 11461, 112, 112, 97, 4, 2, 59, 118, 11413, 11415, 1, 954, 59, 1, 1008, 4, 2, 101, 121, 11424, 11430, 100, 105, 108, 59, 1, 311, 59, 1, 1082, 114, 59, 3, 55349, 56616, 114, 101, 101, 110, 59, 1, 312, 99, 121, 59, 1, 1093, 99, 121, 59, 1, 1116, 112, 102, 59, 3, 55349, 56668, 99, 114, 59, 3, 55349, 56512, 4, 23, 65, 66, 69, 72, 97, 98, 99, 100, 101, 102, 103, 104, 106, 108, 109, 110, 111, 112, 114, 115, 116, 117, 118, 11515, 11538, 11544, 11555, 11560, 11721, 11780, 11818, 11868, 12136, 12160, 12171, 12203, 12208, 12246, 12275, 12327, 12509, 12523, 12569, 12641, 12732, 12752, 4, 3, 97, 114, 116, 11523, 11528, 11532, 114, 114, 59, 1, 8666, 114, 59, 1, 8656, 97, 105, 108, 59, 1, 10523, 97, 114, 114, 59, 1, 10510, 4, 2, 59, 103, 11550, 11552, 1, 8806, 59, 1, 10891, 97, 114, 59, 1, 10594, 4, 9, 99, 101, 103, 109, 110, 112, 113, 114, 116, 11580, 11586, 11594, 11600, 11606, 11624, 11627, 11636, 11694, 117, 116, 101, 59, 1, 314, 109, 112, 116, 121, 118, 59, 1, 10676, 114, 97, 110, 59, 1, 8466, 98, 100, 97, 59, 1, 955, 103, 4, 3, 59, 100, 108, 11615, 11617, 11620, 1, 10216, 59, 1, 10641, 101, 59, 1, 10216, 59, 1, 10885, 117, 111, 5, 171, 1, 59, 11634, 1, 171, 114, 4, 8, 59, 98, 102, 104, 108, 112, 115, 116, 11655, 11657, 11669, 11673, 11677, 11681, 11685, 11690, 1, 8592, 4, 2, 59, 102, 11663, 11665, 1, 8676, 115, 59, 1, 10527, 115, 59, 1, 10525, 107, 59, 1, 8617, 112, 59, 1, 8619, 108, 59, 1, 10553, 105, 109, 59, 1, 10611, 108, 59, 1, 8610, 4, 3, 59, 97, 101, 11702, 11704, 11709, 1, 10923, 105, 108, 59, 1, 10521, 4, 2, 59, 115, 11715, 11717, 1, 10925, 59, 3, 10925, 65024, 4, 3, 97, 98, 114, 11729, 11734, 11739, 114, 114, 59, 1, 10508, 114, 107, 59, 1, 10098, 4, 2, 97, 107, 11745, 11758, 99, 4, 2, 101, 107, 11752, 11755, 59, 1, 123, 59, 1, 91, 4, 2, 101, 115, 11764, 11767, 59, 1, 10635, 108, 4, 2, 100, 117, 11774, 11777, 59, 1, 10639, 59, 1, 10637, 4, 4, 97, 101, 117, 121, 11790, 11796, 11811, 11815, 114, 111, 110, 59, 1, 318, 4, 2, 100, 105, 11802, 11807, 105, 108, 59, 1, 316, 108, 59, 1, 8968, 98, 59, 1, 123, 59, 1, 1083, 4, 4, 99, 113, 114, 115, 11828, 11832, 11845, 11864, 97, 59, 1, 10550, 117, 111, 4, 2, 59, 114, 11840, 11842, 1, 8220, 59, 1, 8222, 4, 2, 100, 117, 11851, 11857, 104, 97, 114, 59, 1, 10599, 115, 104, 97, 114, 59, 1, 10571, 104, 59, 1, 8626, 4, 5, 59, 102, 103, 113, 115, 11880, 11882, 12008, 12011, 12031, 1, 8804, 116, 4, 5, 97, 104, 108, 114, 116, 11895, 11913, 11935, 11947, 11996, 114, 114, 111, 119, 4, 2, 59, 116, 11905, 11907, 1, 8592, 97, 105, 108, 59, 1, 8610, 97, 114, 112, 111, 111, 110, 4, 2, 100, 117, 11925, 11931, 111, 119, 110, 59, 1, 8637, 112, 59, 1, 8636, 101, 102, 116, 97, 114, 114, 111, 119, 115, 59, 1, 8647, 105, 103, 104, 116, 4, 3, 97, 104, 115, 11959, 11974, 11984, 114, 114, 111, 119, 4, 2, 59, 115, 11969, 11971, 1, 8596, 59, 1, 8646, 97, 114, 112, 111, 111, 110, 115, 59, 1, 8651, 113, 117, 105, 103, 97, 114, 114, 111, 119, 59, 1, 8621, 104, 114, 101, 101, 116, 105, 109, 101, 115, 59, 1, 8907, 59, 1, 8922, 4, 3, 59, 113, 115, 12019, 12021, 12024, 1, 8804, 59, 1, 8806, 108, 97, 110, 116, 59, 1, 10877, 4, 5, 59, 99, 100, 103, 115, 12043, 12045, 12049, 12070, 12083, 1, 10877, 99, 59, 1, 10920, 111, 116, 4, 2, 59, 111, 12057, 12059, 1, 10879, 4, 2, 59, 114, 12065, 12067, 1, 10881, 59, 1, 10883, 4, 2, 59, 101, 12076, 12079, 3, 8922, 65024, 115, 59, 1, 10899, 4, 5, 97, 100, 101, 103, 115, 12095, 12103, 12108, 12126, 12131, 112, 112, 114, 111, 120, 59, 1, 10885, 111, 116, 59, 1, 8918, 113, 4, 2, 103, 113, 12115, 12120, 116, 114, 59, 1, 8922, 103, 116, 114, 59, 1, 10891, 116, 114, 59, 1, 8822, 105, 109, 59, 1, 8818, 4, 3, 105, 108, 114, 12144, 12150, 12156, 115, 104, 116, 59, 1, 10620, 111, 111, 114, 59, 1, 8970, 59, 3, 55349, 56617, 4, 2, 59, 69, 12166, 12168, 1, 8822, 59, 1, 10897, 4, 2, 97, 98, 12177, 12198, 114, 4, 2, 100, 117, 12184, 12187, 59, 1, 8637, 4, 2, 59, 108, 12193, 12195, 1, 8636, 59, 1, 10602, 108, 107, 59, 1, 9604, 99, 121, 59, 1, 1113, 4, 5, 59, 97, 99, 104, 116, 12220, 12222, 12227, 12235, 12241, 1, 8810, 114, 114, 59, 1, 8647, 111, 114, 110, 101, 114, 59, 1, 8990, 97, 114, 100, 59, 1, 10603, 114, 105, 59, 1, 9722, 4, 2, 105, 111, 12252, 12258, 100, 111, 116, 59, 1, 320, 117, 115, 116, 4, 2, 59, 97, 12267, 12269, 1, 9136, 99, 104, 101, 59, 1, 9136, 4, 4, 69, 97, 101, 115, 12285, 12288, 12303, 12322, 59, 1, 8808, 112, 4, 2, 59, 112, 12295, 12297, 1, 10889, 114, 111, 120, 59, 1, 10889, 4, 2, 59, 113, 12309, 12311, 1, 10887, 4, 2, 59, 113, 12317, 12319, 1, 10887, 59, 1, 8808, 105, 109, 59, 1, 8934, 4, 8, 97, 98, 110, 111, 112, 116, 119, 122, 12345, 12359, 12364, 12421, 12446, 12467, 12474, 12490, 4, 2, 110, 114, 12351, 12355, 103, 59, 1, 10220, 114, 59, 1, 8701, 114, 107, 59, 1, 10214, 103, 4, 3, 108, 109, 114, 12373, 12401, 12409, 101, 102, 116, 4, 2, 97, 114, 12382, 12389, 114, 114, 111, 119, 59, 1, 10229, 105, 103, 104, 116, 97, 114, 114, 111, 119, 59, 1, 10231, 97, 112, 115, 116, 111, 59, 1, 10236, 105, 103, 104, 116, 97, 114, 114, 111, 119, 59, 1, 10230, 112, 97, 114, 114, 111, 119, 4, 2, 108, 114, 12433, 12439, 101, 102, 116, 59, 1, 8619, 105, 103, 104, 116, 59, 1, 8620, 4, 3, 97, 102, 108, 12454, 12458, 12462, 114, 59, 1, 10629, 59, 3, 55349, 56669, 117, 115, 59, 1, 10797, 105, 109, 101, 115, 59, 1, 10804, 4, 2, 97, 98, 12480, 12485, 115, 116, 59, 1, 8727, 97, 114, 59, 1, 95, 4, 3, 59, 101, 102, 12498, 12500, 12506, 1, 9674, 110, 103, 101, 59, 1, 9674, 59, 1, 10731, 97, 114, 4, 2, 59, 108, 12517, 12519, 1, 40, 116, 59, 1, 10643, 4, 5, 97, 99, 104, 109, 116, 12535, 12540, 12548, 12561, 12564, 114, 114, 59, 1, 8646, 111, 114, 110, 101, 114, 59, 1, 8991, 97, 114, 4, 2, 59, 100, 12556, 12558, 1, 8651, 59, 1, 10605, 59, 1, 8206, 114, 105, 59, 1, 8895, 4, 6, 97, 99, 104, 105, 113, 116, 12583, 12589, 12594, 12597, 12614, 12635, 113, 117, 111, 59, 1, 8249, 114, 59, 3, 55349, 56513, 59, 1, 8624, 109, 4, 3, 59, 101, 103, 12606, 12608, 12611, 1, 8818, 59, 1, 10893, 59, 1, 10895, 4, 2, 98, 117, 12620, 12623, 59, 1, 91, 111, 4, 2, 59, 114, 12630, 12632, 1, 8216, 59, 1, 8218, 114, 111, 107, 59, 1, 322, 5, 60, 8, 59, 99, 100, 104, 105, 108, 113, 114, 12660, 12662, 12675, 12680, 12686, 12692, 12698, 12705, 1, 60, 4, 2, 99, 105, 12668, 12671, 59, 1, 10918, 114, 59, 1, 10873, 111, 116, 59, 1, 8918, 114, 101, 101, 59, 1, 8907, 109, 101, 115, 59, 1, 8905, 97, 114, 114, 59, 1, 10614, 117, 101, 115, 116, 59, 1, 10875, 4, 2, 80, 105, 12711, 12716, 97, 114, 59, 1, 10646, 4, 3, 59, 101, 102, 12724, 12726, 12729, 1, 9667, 59, 1, 8884, 59, 1, 9666, 114, 4, 2, 100, 117, 12739, 12746, 115, 104, 97, 114, 59, 1, 10570, 104, 97, 114, 59, 1, 10598, 4, 2, 101, 110, 12758, 12768, 114, 116, 110, 101, 113, 113, 59, 3, 8808, 65024, 69, 59, 3, 8808, 65024, 4, 14, 68, 97, 99, 100, 101, 102, 104, 105, 108, 110, 111, 112, 115, 117, 12803, 12809, 12893, 12908, 12914, 12928, 12933, 12937, 13011, 13025, 13032, 13049, 13052, 13069, 68, 111, 116, 59, 1, 8762, 4, 4, 99, 108, 112, 114, 12819, 12827, 12849, 12887, 114, 5, 175, 1, 59, 12825, 1, 175, 4, 2, 101, 116, 12833, 12836, 59, 1, 9794, 4, 2, 59, 101, 12842, 12844, 1, 10016, 115, 101, 59, 1, 10016, 4, 2, 59, 115, 12855, 12857, 1, 8614, 116, 111, 4, 4, 59, 100, 108, 117, 12869, 12871, 12877, 12883, 1, 8614, 111, 119, 110, 59, 1, 8615, 101, 102, 116, 59, 1, 8612, 112, 59, 1, 8613, 107, 101, 114, 59, 1, 9646, 4, 2, 111, 121, 12899, 12905, 109, 109, 97, 59, 1, 10793, 59, 1, 1084, 97, 115, 104, 59, 1, 8212, 97, 115, 117, 114, 101, 100, 97, 110, 103, 108, 101, 59, 1, 8737, 114, 59, 3, 55349, 56618, 111, 59, 1, 8487, 4, 3, 99, 100, 110, 12945, 12954, 12985, 114, 111, 5, 181, 1, 59, 12952, 1, 181, 4, 4, 59, 97, 99, 100, 12964, 12966, 12971, 12976, 1, 8739, 115, 116, 59, 1, 42, 105, 114, 59, 1, 10992, 111, 116, 5, 183, 1, 59, 12983, 1, 183, 117, 115, 4, 3, 59, 98, 100, 12995, 12997, 13000, 1, 8722, 59, 1, 8863, 4, 2, 59, 117, 13006, 13008, 1, 8760, 59, 1, 10794, 4, 2, 99, 100, 13017, 13021, 112, 59, 1, 10971, 114, 59, 1, 8230, 112, 108, 117, 115, 59, 1, 8723, 4, 2, 100, 112, 13038, 13044, 101, 108, 115, 59, 1, 8871, 102, 59, 3, 55349, 56670, 59, 1, 8723, 4, 2, 99, 116, 13058, 13063, 114, 59, 3, 55349, 56514, 112, 111, 115, 59, 1, 8766, 4, 3, 59, 108, 109, 13077, 13079, 13087, 1, 956, 116, 105, 109, 97, 112, 59, 1, 8888, 97, 112, 59, 1, 8888, 4, 24, 71, 76, 82, 86, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 108, 109, 111, 112, 114, 115, 116, 117, 118, 119, 13142, 13165, 13217, 13229, 13247, 13330, 13359, 13414, 13420, 13508, 13513, 13579, 13602, 13626, 13631, 13762, 13767, 13855, 13936, 13995, 14214, 14285, 14312, 14432, 4, 2, 103, 116, 13148, 13152, 59, 3, 8921, 824, 4, 2, 59, 118, 13158, 13161, 3, 8811, 8402, 59, 3, 8811, 824, 4, 3, 101, 108, 116, 13173, 13200, 13204, 102, 116, 4, 2, 97, 114, 13181, 13188, 114, 114, 111, 119, 59, 1, 8653, 105, 103, 104, 116, 97, 114, 114, 111, 119, 59, 1, 8654, 59, 3, 8920, 824, 4, 2, 59, 118, 13210, 13213, 3, 8810, 8402, 59, 3, 8810, 824, 105, 103, 104, 116, 97, 114, 114, 111, 119, 59, 1, 8655, 4, 2, 68, 100, 13235, 13241, 97, 115, 104, 59, 1, 8879, 97, 115, 104, 59, 1, 8878, 4, 5, 98, 99, 110, 112, 116, 13259, 13264, 13270, 13275, 13308, 108, 97, 59, 1, 8711, 117, 116, 101, 59, 1, 324, 103, 59, 3, 8736, 8402, 4, 5, 59, 69, 105, 111, 112, 13287, 13289, 13293, 13298, 13302, 1, 8777, 59, 3, 10864, 824, 100, 59, 3, 8779, 824, 115, 59, 1, 329, 114, 111, 120, 59, 1, 8777, 117, 114, 4, 2, 59, 97, 13316, 13318, 1, 9838, 108, 4, 2, 59, 115, 13325, 13327, 1, 9838, 59, 1, 8469, 4, 2, 115, 117, 13336, 13344, 112, 5, 160, 1, 59, 13342, 1, 160, 109, 112, 4, 2, 59, 101, 13352, 13355, 3, 8782, 824, 59, 3, 8783, 824, 4, 5, 97, 101, 111, 117, 121, 13371, 13385, 13391, 13407, 13411, 4, 2, 112, 114, 13377, 13380, 59, 1, 10819, 111, 110, 59, 1, 328, 100, 105, 108, 59, 1, 326, 110, 103, 4, 2, 59, 100, 13399, 13401, 1, 8775, 111, 116, 59, 3, 10861, 824, 112, 59, 1, 10818, 59, 1, 1085, 97, 115, 104, 59, 1, 8211, 4, 7, 59, 65, 97, 100, 113, 115, 120, 13436, 13438, 13443, 13466, 13472, 13478, 13494, 1, 8800, 114, 114, 59, 1, 8663, 114, 4, 2, 104, 114, 13450, 13454, 107, 59, 1, 10532, 4, 2, 59, 111, 13460, 13462, 1, 8599, 119, 59, 1, 8599, 111, 116, 59, 3, 8784, 824, 117, 105, 118, 59, 1, 8802, 4, 2, 101, 105, 13484, 13489, 97, 114, 59, 1, 10536, 109, 59, 3, 8770, 824, 105, 115, 116, 4, 2, 59, 115, 13503, 13505, 1, 8708, 59, 1, 8708, 114, 59, 3, 55349, 56619, 4, 4, 69, 101, 115, 116, 13523, 13527, 13563, 13568, 59, 3, 8807, 824, 4, 3, 59, 113, 115, 13535, 13537, 13559, 1, 8817, 4, 3, 59, 113, 115, 13545, 13547, 13551, 1, 8817, 59, 3, 8807, 824, 108, 97, 110, 116, 59, 3, 10878, 824, 59, 3, 10878, 824, 105, 109, 59, 1, 8821, 4, 2, 59, 114, 13574, 13576, 1, 8815, 59, 1, 8815, 4, 3, 65, 97, 112, 13587, 13592, 13597, 114, 114, 59, 1, 8654, 114, 114, 59, 1, 8622, 97, 114, 59, 1, 10994, 4, 3, 59, 115, 118, 13610, 13612, 13623, 1, 8715, 4, 2, 59, 100, 13618, 13620, 1, 8956, 59, 1, 8954, 59, 1, 8715, 99, 121, 59, 1, 1114, 4, 7, 65, 69, 97, 100, 101, 115, 116, 13647, 13652, 13656, 13661, 13665, 13737, 13742, 114, 114, 59, 1, 8653, 59, 3, 8806, 824, 114, 114, 59, 1, 8602, 114, 59, 1, 8229, 4, 4, 59, 102, 113, 115, 13675, 13677, 13703, 13725, 1, 8816, 116, 4, 2, 97, 114, 13684, 13691, 114, 114, 111, 119, 59, 1, 8602, 105, 103, 104, 116, 97, 114, 114, 111, 119, 59, 1, 8622, 4, 3, 59, 113, 115, 13711, 13713, 13717, 1, 8816, 59, 3, 8806, 824, 108, 97, 110, 116, 59, 3, 10877, 824, 4, 2, 59, 115, 13731, 13734, 3, 10877, 824, 59, 1, 8814, 105, 109, 59, 1, 8820, 4, 2, 59, 114, 13748, 13750, 1, 8814, 105, 4, 2, 59, 101, 13757, 13759, 1, 8938, 59, 1, 8940, 105, 100, 59, 1, 8740, 4, 2, 112, 116, 13773, 13778, 102, 59, 3, 55349, 56671, 5, 172, 3, 59, 105, 110, 13787, 13789, 13829, 1, 172, 110, 4, 4, 59, 69, 100, 118, 13800, 13802, 13806, 13812, 1, 8713, 59, 3, 8953, 824, 111, 116, 59, 3, 8949, 824, 4, 3, 97, 98, 99, 13820, 13823, 13826, 59, 1, 8713, 59, 1, 8951, 59, 1, 8950, 105, 4, 2, 59, 118, 13836, 13838, 1, 8716, 4, 3, 97, 98, 99, 13846, 13849, 13852, 59, 1, 8716, 59, 1, 8958, 59, 1, 8957, 4, 3, 97, 111, 114, 13863, 13892, 13899, 114, 4, 4, 59, 97, 115, 116, 13874, 13876, 13883, 13888, 1, 8742, 108, 108, 101, 108, 59, 1, 8742, 108, 59, 3, 11005, 8421, 59, 3, 8706, 824, 108, 105, 110, 116, 59, 1, 10772, 4, 3, 59, 99, 101, 13907, 13909, 13914, 1, 8832, 117, 101, 59, 1, 8928, 4, 2, 59, 99, 13920, 13923, 3, 10927, 824, 4, 2, 59, 101, 13929, 13931, 1, 8832, 113, 59, 3, 10927, 824, 4, 4, 65, 97, 105, 116, 13946, 13951, 13971, 13982, 114, 114, 59, 1, 8655, 114, 114, 4, 3, 59, 99, 119, 13961, 13963, 13967, 1, 8603, 59, 3, 10547, 824, 59, 3, 8605, 824, 103, 104, 116, 97, 114, 114, 111, 119, 59, 1, 8603, 114, 105, 4, 2, 59, 101, 13990, 13992, 1, 8939, 59, 1, 8941, 4, 7, 99, 104, 105, 109, 112, 113, 117, 14011, 14036, 14060, 14080, 14085, 14090, 14106, 4, 4, 59, 99, 101, 114, 14021, 14023, 14028, 14032, 1, 8833, 117, 101, 59, 1, 8929, 59, 3, 10928, 824, 59, 3, 55349, 56515, 111, 114, 116, 4, 2, 109, 112, 14045, 14050, 105, 100, 59, 1, 8740, 97, 114, 97, 108, 108, 101, 108, 59, 1, 8742, 109, 4, 2, 59, 101, 14067, 14069, 1, 8769, 4, 2, 59, 113, 14075, 14077, 1, 8772, 59, 1, 8772, 105, 100, 59, 1, 8740, 97, 114, 59, 1, 8742, 115, 117, 4, 2, 98, 112, 14098, 14102, 101, 59, 1, 8930, 101, 59, 1, 8931, 4, 3, 98, 99, 112, 14114, 14157, 14171, 4, 4, 59, 69, 101, 115, 14124, 14126, 14130, 14133, 1, 8836, 59, 3, 10949, 824, 59, 1, 8840, 101, 116, 4, 2, 59, 101, 14141, 14144, 3, 8834, 8402, 113, 4, 2, 59, 113, 14151, 14153, 1, 8840, 59, 3, 10949, 824, 99, 4, 2, 59, 101, 14164, 14166, 1, 8833, 113, 59, 3, 10928, 824, 4, 4, 59, 69, 101, 115, 14181, 14183, 14187, 14190, 1, 8837, 59, 3, 10950, 824, 59, 1, 8841, 101, 116, 4, 2, 59, 101, 14198, 14201, 3, 8835, 8402, 113, 4, 2, 59, 113, 14208, 14210, 1, 8841, 59, 3, 10950, 824, 4, 4, 103, 105, 108, 114, 14224, 14228, 14238, 14242, 108, 59, 1, 8825, 108, 100, 101, 5, 241, 1, 59, 14236, 1, 241, 103, 59, 1, 8824, 105, 97, 110, 103, 108, 101, 4, 2, 108, 114, 14254, 14269, 101, 102, 116, 4, 2, 59, 101, 14263, 14265, 1, 8938, 113, 59, 1, 8940, 105, 103, 104, 116, 4, 2, 59, 101, 14279, 14281, 1, 8939, 113, 59, 1, 8941, 4, 2, 59, 109, 14291, 14293, 1, 957, 4, 3, 59, 101, 115, 14301, 14303, 14308, 1, 35, 114, 111, 59, 1, 8470, 112, 59, 1, 8199, 4, 9, 68, 72, 97, 100, 103, 105, 108, 114, 115, 14332, 14338, 14344, 14349, 14355, 14369, 14376, 14408, 14426, 97, 115, 104, 59, 1, 8877, 97, 114, 114, 59, 1, 10500, 112, 59, 3, 8781, 8402, 97, 115, 104, 59, 1, 8876, 4, 2, 101, 116, 14361, 14365, 59, 3, 8805, 8402, 59, 3, 62, 8402, 110, 102, 105, 110, 59, 1, 10718, 4, 3, 65, 101, 116, 14384, 14389, 14393, 114, 114, 59, 1, 10498, 59, 3, 8804, 8402, 4, 2, 59, 114, 14399, 14402, 3, 60, 8402, 105, 101, 59, 3, 8884, 8402, 4, 2, 65, 116, 14414, 14419, 114, 114, 59, 1, 10499, 114, 105, 101, 59, 3, 8885, 8402, 105, 109, 59, 3, 8764, 8402, 4, 3, 65, 97, 110, 14440, 14445, 14468, 114, 114, 59, 1, 8662, 114, 4, 2, 104, 114, 14452, 14456, 107, 59, 1, 10531, 4, 2, 59, 111, 14462, 14464, 1, 8598, 119, 59, 1, 8598, 101, 97, 114, 59, 1, 10535, 4, 18, 83, 97, 99, 100, 101, 102, 103, 104, 105, 108, 109, 111, 112, 114, 115, 116, 117, 118, 14512, 14515, 14535, 14560, 14597, 14603, 14618, 14643, 14657, 14662, 14701, 14741, 14747, 14769, 14851, 14877, 14907, 14916, 59, 1, 9416, 4, 2, 99, 115, 14521, 14531, 117, 116, 101, 5, 243, 1, 59, 14529, 1, 243, 116, 59, 1, 8859, 4, 2, 105, 121, 14541, 14557, 114, 4, 2, 59, 99, 14548, 14550, 1, 8858, 5, 244, 1, 59, 14555, 1, 244, 59, 1, 1086, 4, 5, 97, 98, 105, 111, 115, 14572, 14577, 14583, 14587, 14591, 115, 104, 59, 1, 8861, 108, 97, 99, 59, 1, 337, 118, 59, 1, 10808, 116, 59, 1, 8857, 111, 108, 100, 59, 1, 10684, 108, 105, 103, 59, 1, 339, 4, 2, 99, 114, 14609, 14614, 105, 114, 59, 1, 10687, 59, 3, 55349, 56620, 4, 3, 111, 114, 116, 14626, 14630, 14640, 110, 59, 1, 731, 97, 118, 101, 5, 242, 1, 59, 14638, 1, 242, 59, 1, 10689, 4, 2, 98, 109, 14649, 14654, 97, 114, 59, 1, 10677, 59, 1, 937, 110, 116, 59, 1, 8750, 4, 4, 97, 99, 105, 116, 14672, 14677, 14693, 14698, 114, 114, 59, 1, 8634, 4, 2, 105, 114, 14683, 14687, 114, 59, 1, 10686, 111, 115, 115, 59, 1, 10683, 110, 101, 59, 1, 8254, 59, 1, 10688, 4, 3, 97, 101, 105, 14709, 14714, 14719, 99, 114, 59, 1, 333, 103, 97, 59, 1, 969, 4, 3, 99, 100, 110, 14727, 14733, 14736, 114, 111, 110, 59, 1, 959, 59, 1, 10678, 117, 115, 59, 1, 8854, 112, 102, 59, 3, 55349, 56672, 4, 3, 97, 101, 108, 14755, 14759, 14764, 114, 59, 1, 10679, 114, 112, 59, 1, 10681, 117, 115, 59, 1, 8853, 4, 7, 59, 97, 100, 105, 111, 115, 118, 14785, 14787, 14792, 14831, 14837, 14841, 14848, 1, 8744, 114, 114, 59, 1, 8635, 4, 4, 59, 101, 102, 109, 14802, 14804, 14817, 14824, 1, 10845, 114, 4, 2, 59, 111, 14811, 14813, 1, 8500, 102, 59, 1, 8500, 5, 170, 1, 59, 14822, 1, 170, 5, 186, 1, 59, 14829, 1, 186, 103, 111, 102, 59, 1, 8886, 114, 59, 1, 10838, 108, 111, 112, 101, 59, 1, 10839, 59, 1, 10843, 4, 3, 99, 108, 111, 14859, 14863, 14873, 114, 59, 1, 8500, 97, 115, 104, 5, 248, 1, 59, 14871, 1, 248, 108, 59, 1, 8856, 105, 4, 2, 108, 109, 14884, 14893, 100, 101, 5, 245, 1, 59, 14891, 1, 245, 101, 115, 4, 2, 59, 97, 14901, 14903, 1, 8855, 115, 59, 1, 10806, 109, 108, 5, 246, 1, 59, 14914, 1, 246, 98, 97, 114, 59, 1, 9021, 4, 12, 97, 99, 101, 102, 104, 105, 108, 109, 111, 114, 115, 117, 14948, 14992, 14996, 15033, 15038, 15068, 15090, 15189, 15192, 15222, 15427, 15441, 114, 4, 4, 59, 97, 115, 116, 14959, 14961, 14976, 14989, 1, 8741, 5, 182, 2, 59, 108, 14968, 14970, 1, 182, 108, 101, 108, 59, 1, 8741, 4, 2, 105, 108, 14982, 14986, 109, 59, 1, 10995, 59, 1, 11005, 59, 1, 8706, 121, 59, 1, 1087, 114, 4, 5, 99, 105, 109, 112, 116, 15009, 15014, 15019, 15024, 15027, 110, 116, 59, 1, 37, 111, 100, 59, 1, 46, 105, 108, 59, 1, 8240, 59, 1, 8869, 101, 110, 107, 59, 1, 8241, 114, 59, 3, 55349, 56621, 4, 3, 105, 109, 111, 15046, 15057, 15063, 4, 2, 59, 118, 15052, 15054, 1, 966, 59, 1, 981, 109, 97, 116, 59, 1, 8499, 110, 101, 59, 1, 9742, 4, 3, 59, 116, 118, 15076, 15078, 15087, 1, 960, 99, 104, 102, 111, 114, 107, 59, 1, 8916, 59, 1, 982, 4, 2, 97, 117, 15096, 15119, 110, 4, 2, 99, 107, 15103, 15115, 107, 4, 2, 59, 104, 15110, 15112, 1, 8463, 59, 1, 8462, 118, 59, 1, 8463, 115, 4, 9, 59, 97, 98, 99, 100, 101, 109, 115, 116, 15140, 15142, 15148, 15151, 15156, 15168, 15171, 15179, 15184, 1, 43, 99, 105, 114, 59, 1, 10787, 59, 1, 8862, 105, 114, 59, 1, 10786, 4, 2, 111, 117, 15162, 15165, 59, 1, 8724, 59, 1, 10789, 59, 1, 10866, 110, 5, 177, 1, 59, 15177, 1, 177, 105, 109, 59, 1, 10790, 119, 111, 59, 1, 10791, 59, 1, 177, 4, 3, 105, 112, 117, 15200, 15208, 15213, 110, 116, 105, 110, 116, 59, 1, 10773, 102, 59, 3, 55349, 56673, 110, 100, 5, 163, 1, 59, 15220, 1, 163, 4, 10, 59, 69, 97, 99, 101, 105, 110, 111, 115, 117, 15244, 15246, 15249, 15253, 15258, 15334, 15347, 15367, 15416, 15421, 1, 8826, 59, 1, 10931, 112, 59, 1, 10935, 117, 101, 59, 1, 8828, 4, 2, 59, 99, 15264, 15266, 1, 10927, 4, 6, 59, 97, 99, 101, 110, 115, 15280, 15282, 15290, 15299, 15303, 15329, 1, 8826, 112, 112, 114, 111, 120, 59, 1, 10935, 117, 114, 108, 121, 101, 113, 59, 1, 8828, 113, 59, 1, 10927, 4, 3, 97, 101, 115, 15311, 15319, 15324, 112, 112, 114, 111, 120, 59, 1, 10937, 113, 113, 59, 1, 10933, 105, 109, 59, 1, 8936, 105, 109, 59, 1, 8830, 109, 101, 4, 2, 59, 115, 15342, 15344, 1, 8242, 59, 1, 8473, 4, 3, 69, 97, 115, 15355, 15358, 15362, 59, 1, 10933, 112, 59, 1, 10937, 105, 109, 59, 1, 8936, 4, 3, 100, 102, 112, 15375, 15378, 15404, 59, 1, 8719, 4, 3, 97, 108, 115, 15386, 15392, 15398, 108, 97, 114, 59, 1, 9006, 105, 110, 101, 59, 1, 8978, 117, 114, 102, 59, 1, 8979, 4, 2, 59, 116, 15410, 15412, 1, 8733, 111, 59, 1, 8733, 105, 109, 59, 1, 8830, 114, 101, 108, 59, 1, 8880, 4, 2, 99, 105, 15433, 15438, 114, 59, 3, 55349, 56517, 59, 1, 968, 110, 99, 115, 112, 59, 1, 8200, 4, 6, 102, 105, 111, 112, 115, 117, 15462, 15467, 15472, 15478, 15485, 15491, 114, 59, 3, 55349, 56622, 110, 116, 59, 1, 10764, 112, 102, 59, 3, 55349, 56674, 114, 105, 109, 101, 59, 1, 8279, 99, 114, 59, 3, 55349, 56518, 4, 3, 97, 101, 111, 15499, 15520, 15534, 116, 4, 2, 101, 105, 15506, 15515, 114, 110, 105, 111, 110, 115, 59, 1, 8461, 110, 116, 59, 1, 10774, 115, 116, 4, 2, 59, 101, 15528, 15530, 1, 63, 113, 59, 1, 8799, 116, 5, 34, 1, 59, 15540, 1, 34, 4, 21, 65, 66, 72, 97, 98, 99, 100, 101, 102, 104, 105, 108, 109, 110, 111, 112, 114, 115, 116, 117, 120, 15586, 15609, 15615, 15620, 15796, 15855, 15893, 15931, 15977, 16001, 16039, 16183, 16204, 16222, 16228, 16285, 16312, 16318, 16363, 16408, 16416, 4, 3, 97, 114, 116, 15594, 15599, 15603, 114, 114, 59, 1, 8667, 114, 59, 1, 8658, 97, 105, 108, 59, 1, 10524, 97, 114, 114, 59, 1, 10511, 97, 114, 59, 1, 10596, 4, 7, 99, 100, 101, 110, 113, 114, 116, 15636, 15651, 15656, 15664, 15687, 15696, 15770, 4, 2, 101, 117, 15642, 15646, 59, 3, 8765, 817, 116, 101, 59, 1, 341, 105, 99, 59, 1, 8730, 109, 112, 116, 121, 118, 59, 1, 10675, 103, 4, 4, 59, 100, 101, 108, 15675, 15677, 15680, 15683, 1, 10217, 59, 1, 10642, 59, 1, 10661, 101, 59, 1, 10217, 117, 111, 5, 187, 1, 59, 15694, 1, 187, 114, 4, 11, 59, 97, 98, 99, 102, 104, 108, 112, 115, 116, 119, 15721, 15723, 15727, 15739, 15742, 15746, 15750, 15754, 15758, 15763, 15767, 1, 8594, 112, 59, 1, 10613, 4, 2, 59, 102, 15733, 15735, 1, 8677, 115, 59, 1, 10528, 59, 1, 10547, 115, 59, 1, 10526, 107, 59, 1, 8618, 112, 59, 1, 8620, 108, 59, 1, 10565, 105, 109, 59, 1, 10612, 108, 59, 1, 8611, 59, 1, 8605, 4, 2, 97, 105, 15776, 15781, 105, 108, 59, 1, 10522, 111, 4, 2, 59, 110, 15788, 15790, 1, 8758, 97, 108, 115, 59, 1, 8474, 4, 3, 97, 98, 114, 15804, 15809, 15814, 114, 114, 59, 1, 10509, 114, 107, 59, 1, 10099, 4, 2, 97, 107, 15820, 15833, 99, 4, 2, 101, 107, 15827, 15830, 59, 1, 125, 59, 1, 93, 4, 2, 101, 115, 15839, 15842, 59, 1, 10636, 108, 4, 2, 100, 117, 15849, 15852, 59, 1, 10638, 59, 1, 10640, 4, 4, 97, 101, 117, 121, 15865, 15871, 15886, 15890, 114, 111, 110, 59, 1, 345, 4, 2, 100, 105, 15877, 15882, 105, 108, 59, 1, 343, 108, 59, 1, 8969, 98, 59, 1, 125, 59, 1, 1088, 4, 4, 99, 108, 113, 115, 15903, 15907, 15914, 15927, 97, 59, 1, 10551, 100, 104, 97, 114, 59, 1, 10601, 117, 111, 4, 2, 59, 114, 15922, 15924, 1, 8221, 59, 1, 8221, 104, 59, 1, 8627, 4, 3, 97, 99, 103, 15939, 15966, 15970, 108, 4, 4, 59, 105, 112, 115, 15950, 15952, 15957, 15963, 1, 8476, 110, 101, 59, 1, 8475, 97, 114, 116, 59, 1, 8476, 59, 1, 8477, 116, 59, 1, 9645, 5, 174, 1, 59, 15975, 1, 174, 4, 3, 105, 108, 114, 15985, 15991, 15997, 115, 104, 116, 59, 1, 10621, 111, 111, 114, 59, 1, 8971, 59, 3, 55349, 56623, 4, 2, 97, 111, 16007, 16028, 114, 4, 2, 100, 117, 16014, 16017, 59, 1, 8641, 4, 2, 59, 108, 16023, 16025, 1, 8640, 59, 1, 10604, 4, 2, 59, 118, 16034, 16036, 1, 961, 59, 1, 1009, 4, 3, 103, 110, 115, 16047, 16167, 16171, 104, 116, 4, 6, 97, 104, 108, 114, 115, 116, 16063, 16081, 16103, 16130, 16143, 16155, 114, 114, 111, 119, 4, 2, 59, 116, 16073, 16075, 1, 8594, 97, 105, 108, 59, 1, 8611, 97, 114, 112, 111, 111, 110, 4, 2, 100, 117, 16093, 16099, 111, 119, 110, 59, 1, 8641, 112, 59, 1, 8640, 101, 102, 116, 4, 2, 97, 104, 16112, 16120, 114, 114, 111, 119, 115, 59, 1, 8644, 97, 114, 112, 111, 111, 110, 115, 59, 1, 8652, 105, 103, 104, 116, 97, 114, 114, 111, 119, 115, 59, 1, 8649, 113, 117, 105, 103, 97, 114, 114, 111, 119, 59, 1, 8605, 104, 114, 101, 101, 116, 105, 109, 101, 115, 59, 1, 8908, 103, 59, 1, 730, 105, 110, 103, 100, 111, 116, 115, 101, 113, 59, 1, 8787, 4, 3, 97, 104, 109, 16191, 16196, 16201, 114, 114, 59, 1, 8644, 97, 114, 59, 1, 8652, 59, 1, 8207, 111, 117, 115, 116, 4, 2, 59, 97, 16214, 16216, 1, 9137, 99, 104, 101, 59, 1, 9137, 109, 105, 100, 59, 1, 10990, 4, 4, 97, 98, 112, 116, 16238, 16252, 16257, 16278, 4, 2, 110, 114, 16244, 16248, 103, 59, 1, 10221, 114, 59, 1, 8702, 114, 107, 59, 1, 10215, 4, 3, 97, 102, 108, 16265, 16269, 16273, 114, 59, 1, 10630, 59, 3, 55349, 56675, 117, 115, 59, 1, 10798, 105, 109, 101, 115, 59, 1, 10805, 4, 2, 97, 112, 16291, 16304, 114, 4, 2, 59, 103, 16298, 16300, 1, 41, 116, 59, 1, 10644, 111, 108, 105, 110, 116, 59, 1, 10770, 97, 114, 114, 59, 1, 8649, 4, 4, 97, 99, 104, 113, 16328, 16334, 16339, 16342, 113, 117, 111, 59, 1, 8250, 114, 59, 3, 55349, 56519, 59, 1, 8625, 4, 2, 98, 117, 16348, 16351, 59, 1, 93, 111, 4, 2, 59, 114, 16358, 16360, 1, 8217, 59, 1, 8217, 4, 3, 104, 105, 114, 16371, 16377, 16383, 114, 101, 101, 59, 1, 8908, 109, 101, 115, 59, 1, 8906, 105, 4, 4, 59, 101, 102, 108, 16394, 16396, 16399, 16402, 1, 9657, 59, 1, 8885, 59, 1, 9656, 116, 114, 105, 59, 1, 10702, 108, 117, 104, 97, 114, 59, 1, 10600, 59, 1, 8478, 4, 19, 97, 98, 99, 100, 101, 102, 104, 105, 108, 109, 111, 112, 113, 114, 115, 116, 117, 119, 122, 16459, 16466, 16472, 16572, 16590, 16672, 16687, 16746, 16844, 16850, 16924, 16963, 16988, 17115, 17121, 17154, 17206, 17614, 17656, 99, 117, 116, 101, 59, 1, 347, 113, 117, 111, 59, 1, 8218, 4, 10, 59, 69, 97, 99, 101, 105, 110, 112, 115, 121, 16494, 16496, 16499, 16513, 16518, 16531, 16536, 16556, 16564, 16569, 1, 8827, 59, 1, 10932, 4, 2, 112, 114, 16505, 16508, 59, 1, 10936, 111, 110, 59, 1, 353, 117, 101, 59, 1, 8829, 4, 2, 59, 100, 16524, 16526, 1, 10928, 105, 108, 59, 1, 351, 114, 99, 59, 1, 349, 4, 3, 69, 97, 115, 16544, 16547, 16551, 59, 1, 10934, 112, 59, 1, 10938, 105, 109, 59, 1, 8937, 111, 108, 105, 110, 116, 59, 1, 10771, 105, 109, 59, 1, 8831, 59, 1, 1089, 111, 116, 4, 3, 59, 98, 101, 16582, 16584, 16587, 1, 8901, 59, 1, 8865, 59, 1, 10854, 4, 7, 65, 97, 99, 109, 115, 116, 120, 16606, 16611, 16634, 16642, 16646, 16652, 16668, 114, 114, 59, 1, 8664, 114, 4, 2, 104, 114, 16618, 16622, 107, 59, 1, 10533, 4, 2, 59, 111, 16628, 16630, 1, 8600, 119, 59, 1, 8600, 116, 5, 167, 1, 59, 16640, 1, 167, 105, 59, 1, 59, 119, 97, 114, 59, 1, 10537, 109, 4, 2, 105, 110, 16659, 16665, 110, 117, 115, 59, 1, 8726, 59, 1, 8726, 116, 59, 1, 10038, 114, 4, 2, 59, 111, 16679, 16682, 3, 55349, 56624, 119, 110, 59, 1, 8994, 4, 4, 97, 99, 111, 121, 16697, 16702, 16716, 16739, 114, 112, 59, 1, 9839, 4, 2, 104, 121, 16708, 16713, 99, 121, 59, 1, 1097, 59, 1, 1096, 114, 116, 4, 2, 109, 112, 16724, 16729, 105, 100, 59, 1, 8739, 97, 114, 97, 108, 108, 101, 108, 59, 1, 8741, 5, 173, 1, 59, 16744, 1, 173, 4, 2, 103, 109, 16752, 16770, 109, 97, 4, 3, 59, 102, 118, 16762, 16764, 16767, 1, 963, 59, 1, 962, 59, 1, 962, 4, 8, 59, 100, 101, 103, 108, 110, 112, 114, 16788, 16790, 16795, 16806, 16817, 16828, 16832, 16838, 1, 8764, 111, 116, 59, 1, 10858, 4, 2, 59, 113, 16801, 16803, 1, 8771, 59, 1, 8771, 4, 2, 59, 69, 16812, 16814, 1, 10910, 59, 1, 10912, 4, 2, 59, 69, 16823, 16825, 1, 10909, 59, 1, 10911, 101, 59, 1, 8774, 108, 117, 115, 59, 1, 10788, 97, 114, 114, 59, 1, 10610, 97, 114, 114, 59, 1, 8592, 4, 4, 97, 101, 105, 116, 16860, 16883, 16891, 16904, 4, 2, 108, 115, 16866, 16878, 108, 115, 101, 116, 109, 105, 110, 117, 115, 59, 1, 8726, 104, 112, 59, 1, 10803, 112, 97, 114, 115, 108, 59, 1, 10724, 4, 2, 100, 108, 16897, 16900, 59, 1, 8739, 101, 59, 1, 8995, 4, 2, 59, 101, 16910, 16912, 1, 10922, 4, 2, 59, 115, 16918, 16920, 1, 10924, 59, 3, 10924, 65024, 4, 3, 102, 108, 112, 16932, 16938, 16958, 116, 99, 121, 59, 1, 1100, 4, 2, 59, 98, 16944, 16946, 1, 47, 4, 2, 59, 97, 16952, 16954, 1, 10692, 114, 59, 1, 9023, 102, 59, 3, 55349, 56676, 97, 4, 2, 100, 114, 16970, 16985, 101, 115, 4, 2, 59, 117, 16978, 16980, 1, 9824, 105, 116, 59, 1, 9824, 59, 1, 8741, 4, 3, 99, 115, 117, 16996, 17028, 17089, 4, 2, 97, 117, 17002, 17015, 112, 4, 2, 59, 115, 17009, 17011, 1, 8851, 59, 3, 8851, 65024, 112, 4, 2, 59, 115, 17022, 17024, 1, 8852, 59, 3, 8852, 65024, 117, 4, 2, 98, 112, 17035, 17062, 4, 3, 59, 101, 115, 17043, 17045, 17048, 1, 8847, 59, 1, 8849, 101, 116, 4, 2, 59, 101, 17056, 17058, 1, 8847, 113, 59, 1, 8849, 4, 3, 59, 101, 115, 17070, 17072, 17075, 1, 8848, 59, 1, 8850, 101, 116, 4, 2, 59, 101, 17083, 17085, 1, 8848, 113, 59, 1, 8850, 4, 3, 59, 97, 102, 17097, 17099, 17112, 1, 9633, 114, 4, 2, 101, 102, 17106, 17109, 59, 1, 9633, 59, 1, 9642, 59, 1, 9642, 97, 114, 114, 59, 1, 8594, 4, 4, 99, 101, 109, 116, 17131, 17136, 17142, 17148, 114, 59, 3, 55349, 56520, 116, 109, 110, 59, 1, 8726, 105, 108, 101, 59, 1, 8995, 97, 114, 102, 59, 1, 8902, 4, 2, 97, 114, 17160, 17172, 114, 4, 2, 59, 102, 17167, 17169, 1, 9734, 59, 1, 9733, 4, 2, 97, 110, 17178, 17202, 105, 103, 104, 116, 4, 2, 101, 112, 17188, 17197, 112, 115, 105, 108, 111, 110, 59, 1, 1013, 104, 105, 59, 1, 981, 115, 59, 1, 175, 4, 5, 98, 99, 109, 110, 112, 17218, 17351, 17420, 17423, 17427, 4, 9, 59, 69, 100, 101, 109, 110, 112, 114, 115, 17238, 17240, 17243, 17248, 17261, 17267, 17279, 17285, 17291, 1, 8834, 59, 1, 10949, 111, 116, 59, 1, 10941, 4, 2, 59, 100, 17254, 17256, 1, 8838, 111, 116, 59, 1, 10947, 117, 108, 116, 59, 1, 10945, 4, 2, 69, 101, 17273, 17276, 59, 1, 10955, 59, 1, 8842, 108, 117, 115, 59, 1, 10943, 97, 114, 114, 59, 1, 10617, 4, 3, 101, 105, 117, 17299, 17335, 17339, 116, 4, 3, 59, 101, 110, 17308, 17310, 17322, 1, 8834, 113, 4, 2, 59, 113, 17317, 17319, 1, 8838, 59, 1, 10949, 101, 113, 4, 2, 59, 113, 17330, 17332, 1, 8842, 59, 1, 10955, 109, 59, 1, 10951, 4, 2, 98, 112, 17345, 17348, 59, 1, 10965, 59, 1, 10963, 99, 4, 6, 59, 97, 99, 101, 110, 115, 17366, 17368, 17376, 17385, 17389, 17415, 1, 8827, 112, 112, 114, 111, 120, 59, 1, 10936, 117, 114, 108, 121, 101, 113, 59, 1, 8829, 113, 59, 1, 10928, 4, 3, 97, 101, 115, 17397, 17405, 17410, 112, 112, 114, 111, 120, 59, 1, 10938, 113, 113, 59, 1, 10934, 105, 109, 59, 1, 8937, 105, 109, 59, 1, 8831, 59, 1, 8721, 103, 59, 1, 9834, 4, 13, 49, 50, 51, 59, 69, 100, 101, 104, 108, 109, 110, 112, 115, 17455, 17462, 17469, 17476, 17478, 17481, 17496, 17509, 17524, 17530, 17536, 17548, 17554, 5, 185, 1, 59, 17460, 1, 185, 5, 178, 1, 59, 17467, 1, 178, 5, 179, 1, 59, 17474, 1, 179, 1, 8835, 59, 1, 10950, 4, 2, 111, 115, 17487, 17491, 116, 59, 1, 10942, 117, 98, 59, 1, 10968, 4, 2, 59, 100, 17502, 17504, 1, 8839, 111, 116, 59, 1, 10948, 115, 4, 2, 111, 117, 17516, 17520, 108, 59, 1, 10185, 98, 59, 1, 10967, 97, 114, 114, 59, 1, 10619, 117, 108, 116, 59, 1, 10946, 4, 2, 69, 101, 17542, 17545, 59, 1, 10956, 59, 1, 8843, 108, 117, 115, 59, 1, 10944, 4, 3, 101, 105, 117, 17562, 17598, 17602, 116, 4, 3, 59, 101, 110, 17571, 17573, 17585, 1, 8835, 113, 4, 2, 59, 113, 17580, 17582, 1, 8839, 59, 1, 10950, 101, 113, 4, 2, 59, 113, 17593, 17595, 1, 8843, 59, 1, 10956, 109, 59, 1, 10952, 4, 2, 98, 112, 17608, 17611, 59, 1, 10964, 59, 1, 10966, 4, 3, 65, 97, 110, 17622, 17627, 17650, 114, 114, 59, 1, 8665, 114, 4, 2, 104, 114, 17634, 17638, 107, 59, 1, 10534, 4, 2, 59, 111, 17644, 17646, 1, 8601, 119, 59, 1, 8601, 119, 97, 114, 59, 1, 10538, 108, 105, 103, 5, 223, 1, 59, 17664, 1, 223, 4, 13, 97, 98, 99, 100, 101, 102, 104, 105, 111, 112, 114, 115, 119, 17694, 17709, 17714, 17737, 17742, 17749, 17754, 17860, 17905, 17957, 17964, 18090, 18122, 4, 2, 114, 117, 17700, 17706, 103, 101, 116, 59, 1, 8982, 59, 1, 964, 114, 107, 59, 1, 9140, 4, 3, 97, 101, 121, 17722, 17728, 17734, 114, 111, 110, 59, 1, 357, 100, 105, 108, 59, 1, 355, 59, 1, 1090, 111, 116, 59, 1, 8411, 108, 114, 101, 99, 59, 1, 8981, 114, 59, 3, 55349, 56625, 4, 4, 101, 105, 107, 111, 17764, 17805, 17836, 17851, 4, 2, 114, 116, 17770, 17786, 101, 4, 2, 52, 102, 17777, 17780, 59, 1, 8756, 111, 114, 101, 59, 1, 8756, 97, 4, 3, 59, 115, 118, 17795, 17797, 17802, 1, 952, 121, 109, 59, 1, 977, 59, 1, 977, 4, 2, 99, 110, 17811, 17831, 107, 4, 2, 97, 115, 17818, 17826, 112, 112, 114, 111, 120, 59, 1, 8776, 105, 109, 59, 1, 8764, 115, 112, 59, 1, 8201, 4, 2, 97, 115, 17842, 17846, 112, 59, 1, 8776, 105, 109, 59, 1, 8764, 114, 110, 5, 254, 1, 59, 17858, 1, 254, 4, 3, 108, 109, 110, 17868, 17873, 17901, 100, 101, 59, 1, 732, 101, 115, 5, 215, 3, 59, 98, 100, 17884, 17886, 17898, 1, 215, 4, 2, 59, 97, 17892, 17894, 1, 8864, 114, 59, 1, 10801, 59, 1, 10800, 116, 59, 1, 8749, 4, 3, 101, 112, 115, 17913, 17917, 17953, 97, 59, 1, 10536, 4, 4, 59, 98, 99, 102, 17927, 17929, 17934, 17939, 1, 8868, 111, 116, 59, 1, 9014, 105, 114, 59, 1, 10993, 4, 2, 59, 111, 17945, 17948, 3, 55349, 56677, 114, 107, 59, 1, 10970, 97, 59, 1, 10537, 114, 105, 109, 101, 59, 1, 8244, 4, 3, 97, 105, 112, 17972, 17977, 18082, 100, 101, 59, 1, 8482, 4, 7, 97, 100, 101, 109, 112, 115, 116, 17993, 18051, 18056, 18059, 18066, 18072, 18076, 110, 103, 108, 101, 4, 5, 59, 100, 108, 113, 114, 18009, 18011, 18017, 18032, 18035, 1, 9653, 111, 119, 110, 59, 1, 9663, 101, 102, 116, 4, 2, 59, 101, 18026, 18028, 1, 9667, 113, 59, 1, 8884, 59, 1, 8796, 105, 103, 104, 116, 4, 2, 59, 101, 18045, 18047, 1, 9657, 113, 59, 1, 8885, 111, 116, 59, 1, 9708, 59, 1, 8796, 105, 110, 117, 115, 59, 1, 10810, 108, 117, 115, 59, 1, 10809, 98, 59, 1, 10701, 105, 109, 101, 59, 1, 10811, 101, 122, 105, 117, 109, 59, 1, 9186, 4, 3, 99, 104, 116, 18098, 18111, 18116, 4, 2, 114, 121, 18104, 18108, 59, 3, 55349, 56521, 59, 1, 1094, 99, 121, 59, 1, 1115, 114, 111, 107, 59, 1, 359, 4, 2, 105, 111, 18128, 18133, 120, 116, 59, 1, 8812, 104, 101, 97, 100, 4, 2, 108, 114, 18143, 18154, 101, 102, 116, 97, 114, 114, 111, 119, 59, 1, 8606, 105, 103, 104, 116, 97, 114, 114, 111, 119, 59, 1, 8608, 4, 18, 65, 72, 97, 98, 99, 100, 102, 103, 104, 108, 109, 111, 112, 114, 115, 116, 117, 119, 18204, 18209, 18214, 18234, 18250, 18268, 18292, 18308, 18319, 18343, 18379, 18397, 18413, 18504, 18547, 18553, 18584, 18603, 114, 114, 59, 1, 8657, 97, 114, 59, 1, 10595, 4, 2, 99, 114, 18220, 18230, 117, 116, 101, 5, 250, 1, 59, 18228, 1, 250, 114, 59, 1, 8593, 114, 4, 2, 99, 101, 18241, 18245, 121, 59, 1, 1118, 118, 101, 59, 1, 365, 4, 2, 105, 121, 18256, 18265, 114, 99, 5, 251, 1, 59, 18263, 1, 251, 59, 1, 1091, 4, 3, 97, 98, 104, 18276, 18281, 18287, 114, 114, 59, 1, 8645, 108, 97, 99, 59, 1, 369, 97, 114, 59, 1, 10606, 4, 2, 105, 114, 18298, 18304, 115, 104, 116, 59, 1, 10622, 59, 3, 55349, 56626, 114, 97, 118, 101, 5, 249, 1, 59, 18317, 1, 249, 4, 2, 97, 98, 18325, 18338, 114, 4, 2, 108, 114, 18332, 18335, 59, 1, 8639, 59, 1, 8638, 108, 107, 59, 1, 9600, 4, 2, 99, 116, 18349, 18374, 4, 2, 111, 114, 18355, 18369, 114, 110, 4, 2, 59, 101, 18363, 18365, 1, 8988, 114, 59, 1, 8988, 111, 112, 59, 1, 8975, 114, 105, 59, 1, 9720, 4, 2, 97, 108, 18385, 18390, 99, 114, 59, 1, 363, 5, 168, 1, 59, 18395, 1, 168, 4, 2, 103, 112, 18403, 18408, 111, 110, 59, 1, 371, 102, 59, 3, 55349, 56678, 4, 6, 97, 100, 104, 108, 115, 117, 18427, 18434, 18445, 18470, 18475, 18494, 114, 114, 111, 119, 59, 1, 8593, 111, 119, 110, 97, 114, 114, 111, 119, 59, 1, 8597, 97, 114, 112, 111, 111, 110, 4, 2, 108, 114, 18457, 18463, 101, 102, 116, 59, 1, 8639, 105, 103, 104, 116, 59, 1, 8638, 117, 115, 59, 1, 8846, 105, 4, 3, 59, 104, 108, 18484, 18486, 18489, 1, 965, 59, 1, 978, 111, 110, 59, 1, 965, 112, 97, 114, 114, 111, 119, 115, 59, 1, 8648, 4, 3, 99, 105, 116, 18512, 18537, 18542, 4, 2, 111, 114, 18518, 18532, 114, 110, 4, 2, 59, 101, 18526, 18528, 1, 8989, 114, 59, 1, 8989, 111, 112, 59, 1, 8974, 110, 103, 59, 1, 367, 114, 105, 59, 1, 9721, 99, 114, 59, 3, 55349, 56522, 4, 3, 100, 105, 114, 18561, 18566, 18572, 111, 116, 59, 1, 8944, 108, 100, 101, 59, 1, 361, 105, 4, 2, 59, 102, 18579, 18581, 1, 9653, 59, 1, 9652, 4, 2, 97, 109, 18590, 18595, 114, 114, 59, 1, 8648, 108, 5, 252, 1, 59, 18601, 1, 252, 97, 110, 103, 108, 101, 59, 1, 10663, 4, 15, 65, 66, 68, 97, 99, 100, 101, 102, 108, 110, 111, 112, 114, 115, 122, 18643, 18648, 18661, 18667, 18847, 18851, 18857, 18904, 18909, 18915, 18931, 18937, 18943, 18949, 18996, 114, 114, 59, 1, 8661, 97, 114, 4, 2, 59, 118, 18656, 18658, 1, 10984, 59, 1, 10985, 97, 115, 104, 59, 1, 8872, 4, 2, 110, 114, 18673, 18679, 103, 114, 116, 59, 1, 10652, 4, 7, 101, 107, 110, 112, 114, 115, 116, 18695, 18704, 18711, 18720, 18742, 18754, 18810, 112, 115, 105, 108, 111, 110, 59, 1, 1013, 97, 112, 112, 97, 59, 1, 1008, 111, 116, 104, 105, 110, 103, 59, 1, 8709, 4, 3, 104, 105, 114, 18728, 18732, 18735, 105, 59, 1, 981, 59, 1, 982, 111, 112, 116, 111, 59, 1, 8733, 4, 2, 59, 104, 18748, 18750, 1, 8597, 111, 59, 1, 1009, 4, 2, 105, 117, 18760, 18766, 103, 109, 97, 59, 1, 962, 4, 2, 98, 112, 18772, 18791, 115, 101, 116, 110, 101, 113, 4, 2, 59, 113, 18784, 18787, 3, 8842, 65024, 59, 3, 10955, 65024, 115, 101, 116, 110, 101, 113, 4, 2, 59, 113, 18803, 18806, 3, 8843, 65024, 59, 3, 10956, 65024, 4, 2, 104, 114, 18816, 18822, 101, 116, 97, 59, 1, 977, 105, 97, 110, 103, 108, 101, 4, 2, 108, 114, 18834, 18840, 101, 102, 116, 59, 1, 8882, 105, 103, 104, 116, 59, 1, 8883, 121, 59, 1, 1074, 97, 115, 104, 59, 1, 8866, 4, 3, 101, 108, 114, 18865, 18884, 18890, 4, 3, 59, 98, 101, 18873, 18875, 18880, 1, 8744, 97, 114, 59, 1, 8891, 113, 59, 1, 8794, 108, 105, 112, 59, 1, 8942, 4, 2, 98, 116, 18896, 18901, 97, 114, 59, 1, 124, 59, 1, 124, 114, 59, 3, 55349, 56627, 116, 114, 105, 59, 1, 8882, 115, 117, 4, 2, 98, 112, 18923, 18927, 59, 3, 8834, 8402, 59, 3, 8835, 8402, 112, 102, 59, 3, 55349, 56679, 114, 111, 112, 59, 1, 8733, 116, 114, 105, 59, 1, 8883, 4, 2, 99, 117, 18955, 18960, 114, 59, 3, 55349, 56523, 4, 2, 98, 112, 18966, 18981, 110, 4, 2, 69, 101, 18973, 18977, 59, 3, 10955, 65024, 59, 3, 8842, 65024, 110, 4, 2, 69, 101, 18988, 18992, 59, 3, 10956, 65024, 59, 3, 8843, 65024, 105, 103, 122, 97, 103, 59, 1, 10650, 4, 7, 99, 101, 102, 111, 112, 114, 115, 19020, 19026, 19061, 19066, 19072, 19075, 19089, 105, 114, 99, 59, 1, 373, 4, 2, 100, 105, 19032, 19055, 4, 2, 98, 103, 19038, 19043, 97, 114, 59, 1, 10847, 101, 4, 2, 59, 113, 19050, 19052, 1, 8743, 59, 1, 8793, 101, 114, 112, 59, 1, 8472, 114, 59, 3, 55349, 56628, 112, 102, 59, 3, 55349, 56680, 59, 1, 8472, 4, 2, 59, 101, 19081, 19083, 1, 8768, 97, 116, 104, 59, 1, 8768, 99, 114, 59, 3, 55349, 56524, 4, 14, 99, 100, 102, 104, 105, 108, 109, 110, 111, 114, 115, 117, 118, 119, 19125, 19146, 19152, 19157, 19173, 19176, 19192, 19197, 19202, 19236, 19252, 19269, 19286, 19291, 4, 3, 97, 105, 117, 19133, 19137, 19142, 112, 59, 1, 8898, 114, 99, 59, 1, 9711, 112, 59, 1, 8899, 116, 114, 105, 59, 1, 9661, 114, 59, 3, 55349, 56629, 4, 2, 65, 97, 19163, 19168, 114, 114, 59, 1, 10234, 114, 114, 59, 1, 10231, 59, 1, 958, 4, 2, 65, 97, 19182, 19187, 114, 114, 59, 1, 10232, 114, 114, 59, 1, 10229, 97, 112, 59, 1, 10236, 105, 115, 59, 1, 8955, 4, 3, 100, 112, 116, 19210, 19215, 19230, 111, 116, 59, 1, 10752, 4, 2, 102, 108, 19221, 19225, 59, 3, 55349, 56681, 117, 115, 59, 1, 10753, 105, 109, 101, 59, 1, 10754, 4, 2, 65, 97, 19242, 19247, 114, 114, 59, 1, 10233, 114, 114, 59, 1, 10230, 4, 2, 99, 113, 19258, 19263, 114, 59, 3, 55349, 56525, 99, 117, 112, 59, 1, 10758, 4, 2, 112, 116, 19275, 19281, 108, 117, 115, 59, 1, 10756, 114, 105, 59, 1, 9651, 101, 101, 59, 1, 8897, 101, 100, 103, 101, 59, 1, 8896, 4, 8, 97, 99, 101, 102, 105, 111, 115, 117, 19316, 19335, 19349, 19357, 19362, 19367, 19373, 19379, 99, 4, 2, 117, 121, 19323, 19332, 116, 101, 5, 253, 1, 59, 19330, 1, 253, 59, 1, 1103, 4, 2, 105, 121, 19341, 19346, 114, 99, 59, 1, 375, 59, 1, 1099, 110, 5, 165, 1, 59, 19355, 1, 165, 114, 59, 3, 55349, 56630, 99, 121, 59, 1, 1111, 112, 102, 59, 3, 55349, 56682, 99, 114, 59, 3, 55349, 56526, 4, 2, 99, 109, 19385, 19389, 121, 59, 1, 1102, 108, 5, 255, 1, 59, 19395, 1, 255, 4, 10, 97, 99, 100, 101, 102, 104, 105, 111, 115, 119, 19419, 19426, 19441, 19446, 19462, 19467, 19472, 19480, 19486, 19492, 99, 117, 116, 101, 59, 1, 378, 4, 2, 97, 121, 19432, 19438, 114, 111, 110, 59, 1, 382, 59, 1, 1079, 111, 116, 59, 1, 380, 4, 2, 101, 116, 19452, 19458, 116, 114, 102, 59, 1, 8488, 97, 59, 1, 950, 114, 59, 3, 55349, 56631, 99, 121, 59, 1, 1078, 103, 114, 97, 114, 114, 59, 1, 8669, 112, 102, 59, 3, 55349, 56683, 99, 114, 59, 3, 55349, 56527, 4, 2, 106, 110, 19498, 19501, 59, 1, 8205, 106, 59, 1, 8204]);

    'use strict';
    //Aliases
    var $$4 = unicode.CODE_POINTS;
    var $$ = unicode.CODE_POINT_SEQUENCES;
    //C1 Unicode control character reference replacements
    var C1_CONTROLS_REFERENCE_REPLACEMENTS = {
        0x80: 0x20ac,
        0x82: 0x201a,
        0x83: 0x0192,
        0x84: 0x201e,
        0x85: 0x2026,
        0x86: 0x2020,
        0x87: 0x2021,
        0x88: 0x02c6,
        0x89: 0x2030,
        0x8a: 0x0160,
        0x8b: 0x2039,
        0x8c: 0x0152,
        0x8e: 0x017d,
        0x91: 0x2018,
        0x92: 0x2019,
        0x93: 0x201c,
        0x94: 0x201d,
        0x95: 0x2022,
        0x96: 0x2013,
        0x97: 0x2014,
        0x98: 0x02dc,
        0x99: 0x2122,
        0x9a: 0x0161,
        0x9b: 0x203a,
        0x9c: 0x0153,
        0x9e: 0x017e,
        0x9f: 0x0178
    };
    // Named entity tree flags
    var HAS_DATA_FLAG = 1 << 0;
    var DATA_DUPLET_FLAG = 1 << 1;
    var HAS_BRANCHES_FLAG = 1 << 2;
    var MAX_BRANCH_MARKER_VALUE = HAS_DATA_FLAG | DATA_DUPLET_FLAG | HAS_BRANCHES_FLAG;
    //States
    var DATA_STATE = 'DATA_STATE';
    var RCDATA_STATE = 'RCDATA_STATE';
    var RAWTEXT_STATE = 'RAWTEXT_STATE';
    var SCRIPT_DATA_STATE = 'SCRIPT_DATA_STATE';
    var PLAINTEXT_STATE = 'PLAINTEXT_STATE';
    var TAG_OPEN_STATE = 'TAG_OPEN_STATE';
    var END_TAG_OPEN_STATE = 'END_TAG_OPEN_STATE';
    var TAG_NAME_STATE = 'TAG_NAME_STATE';
    var RCDATA_LESS_THAN_SIGN_STATE = 'RCDATA_LESS_THAN_SIGN_STATE';
    var RCDATA_END_TAG_OPEN_STATE = 'RCDATA_END_TAG_OPEN_STATE';
    var RCDATA_END_TAG_NAME_STATE = 'RCDATA_END_TAG_NAME_STATE';
    var RAWTEXT_LESS_THAN_SIGN_STATE = 'RAWTEXT_LESS_THAN_SIGN_STATE';
    var RAWTEXT_END_TAG_OPEN_STATE = 'RAWTEXT_END_TAG_OPEN_STATE';
    var RAWTEXT_END_TAG_NAME_STATE = 'RAWTEXT_END_TAG_NAME_STATE';
    var SCRIPT_DATA_LESS_THAN_SIGN_STATE = 'SCRIPT_DATA_LESS_THAN_SIGN_STATE';
    var SCRIPT_DATA_END_TAG_OPEN_STATE = 'SCRIPT_DATA_END_TAG_OPEN_STATE';
    var SCRIPT_DATA_END_TAG_NAME_STATE = 'SCRIPT_DATA_END_TAG_NAME_STATE';
    var SCRIPT_DATA_ESCAPE_START_STATE = 'SCRIPT_DATA_ESCAPE_START_STATE';
    var SCRIPT_DATA_ESCAPE_START_DASH_STATE = 'SCRIPT_DATA_ESCAPE_START_DASH_STATE';
    var SCRIPT_DATA_ESCAPED_STATE = 'SCRIPT_DATA_ESCAPED_STATE';
    var SCRIPT_DATA_ESCAPED_DASH_STATE = 'SCRIPT_DATA_ESCAPED_DASH_STATE';
    var SCRIPT_DATA_ESCAPED_DASH_DASH_STATE = 'SCRIPT_DATA_ESCAPED_DASH_DASH_STATE';
    var SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE = 'SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE';
    var SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE = 'SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE';
    var SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE = 'SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE';
    var SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE';
    var SCRIPT_DATA_DOUBLE_ESCAPED_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_STATE';
    var SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE';
    var SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE';
    var SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE';
    var SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE';
    var BEFORE_ATTRIBUTE_NAME_STATE = 'BEFORE_ATTRIBUTE_NAME_STATE';
    var ATTRIBUTE_NAME_STATE = 'ATTRIBUTE_NAME_STATE';
    var AFTER_ATTRIBUTE_NAME_STATE = 'AFTER_ATTRIBUTE_NAME_STATE';
    var BEFORE_ATTRIBUTE_VALUE_STATE = 'BEFORE_ATTRIBUTE_VALUE_STATE';
    var ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE = 'ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE';
    var ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE = 'ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE';
    var ATTRIBUTE_VALUE_UNQUOTED_STATE = 'ATTRIBUTE_VALUE_UNQUOTED_STATE';
    var AFTER_ATTRIBUTE_VALUE_QUOTED_STATE = 'AFTER_ATTRIBUTE_VALUE_QUOTED_STATE';
    var SELF_CLOSING_START_TAG_STATE = 'SELF_CLOSING_START_TAG_STATE';
    var BOGUS_COMMENT_STATE = 'BOGUS_COMMENT_STATE';
    var MARKUP_DECLARATION_OPEN_STATE = 'MARKUP_DECLARATION_OPEN_STATE';
    var COMMENT_START_STATE = 'COMMENT_START_STATE';
    var COMMENT_START_DASH_STATE = 'COMMENT_START_DASH_STATE';
    var COMMENT_STATE = 'COMMENT_STATE';
    var COMMENT_LESS_THAN_SIGN_STATE = 'COMMENT_LESS_THAN_SIGN_STATE';
    var COMMENT_LESS_THAN_SIGN_BANG_STATE = 'COMMENT_LESS_THAN_SIGN_BANG_STATE';
    var COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE = 'COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE';
    var COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE = 'COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE';
    var COMMENT_END_DASH_STATE = 'COMMENT_END_DASH_STATE';
    var COMMENT_END_STATE = 'COMMENT_END_STATE';
    var COMMENT_END_BANG_STATE = 'COMMENT_END_BANG_STATE';
    var DOCTYPE_STATE = 'DOCTYPE_STATE';
    var BEFORE_DOCTYPE_NAME_STATE = 'BEFORE_DOCTYPE_NAME_STATE';
    var DOCTYPE_NAME_STATE = 'DOCTYPE_NAME_STATE';
    var AFTER_DOCTYPE_NAME_STATE = 'AFTER_DOCTYPE_NAME_STATE';
    var AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE = 'AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE';
    var BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE = 'BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE';
    var DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE = 'DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE';
    var DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE = 'DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE';
    var AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE = 'AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE';
    var BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE = 'BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE';
    var AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE = 'AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE';
    var BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE = 'BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE';
    var DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE = 'DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE';
    var DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE = 'DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE';
    var AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE = 'AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE';
    var BOGUS_DOCTYPE_STATE = 'BOGUS_DOCTYPE_STATE';
    var CDATA_SECTION_STATE = 'CDATA_SECTION_STATE';
    var CDATA_SECTION_BRACKET_STATE = 'CDATA_SECTION_BRACKET_STATE';
    var CDATA_SECTION_END_STATE = 'CDATA_SECTION_END_STATE';
    var CHARACTER_REFERENCE_STATE = 'CHARACTER_REFERENCE_STATE';
    var NAMED_CHARACTER_REFERENCE_STATE = 'NAMED_CHARACTER_REFERENCE_STATE';
    var AMBIGUOUS_AMPERSAND_STATE = 'AMBIGUOS_AMPERSAND_STATE';
    var NUMERIC_CHARACTER_REFERENCE_STATE = 'NUMERIC_CHARACTER_REFERENCE_STATE';
    var HEXADEMICAL_CHARACTER_REFERENCE_START_STATE = 'HEXADEMICAL_CHARACTER_REFERENCE_START_STATE';
    var DECIMAL_CHARACTER_REFERENCE_START_STATE = 'DECIMAL_CHARACTER_REFERENCE_START_STATE';
    var HEXADEMICAL_CHARACTER_REFERENCE_STATE = 'HEXADEMICAL_CHARACTER_REFERENCE_STATE';
    var DECIMAL_CHARACTER_REFERENCE_STATE = 'DECIMAL_CHARACTER_REFERENCE_STATE';
    var NUMERIC_CHARACTER_REFERENCE_END_STATE = 'NUMERIC_CHARACTER_REFERENCE_END_STATE';
    //Utils
    //OPTIMIZATION: these utility functions should not be moved out of this module. V8 Crankshaft will not inline
    //this functions if they will be situated in another module due to context switch.
    //Always perform inlining check before modifying this functions ('node --trace-inlining').
    function isWhitespace(cp) {
        return cp === $$4.SPACE || cp === $$4.LINE_FEED || cp === $$4.TABULATION || cp === $$4.FORM_FEED;
    }
    function isAsciiDigit(cp) {
        return cp >= $$4.DIGIT_0 && cp <= $$4.DIGIT_9;
    }
    function isAsciiUpper(cp) {
        return cp >= $$4.LATIN_CAPITAL_A && cp <= $$4.LATIN_CAPITAL_Z;
    }
    function isAsciiLower(cp) {
        return cp >= $$4.LATIN_SMALL_A && cp <= $$4.LATIN_SMALL_Z;
    }
    function isAsciiLetter(cp) {
        return isAsciiLower(cp) || isAsciiUpper(cp);
    }
    function isAsciiAlphaNumeric(cp) {
        return isAsciiLetter(cp) || isAsciiDigit(cp);
    }
    function isAsciiUpperHexDigit(cp) {
        return cp >= $$4.LATIN_CAPITAL_A && cp <= $$4.LATIN_CAPITAL_F;
    }
    function isAsciiLowerHexDigit(cp) {
        return cp >= $$4.LATIN_SMALL_A && cp <= $$4.LATIN_SMALL_F;
    }
    function isAsciiHexDigit(cp) {
        return isAsciiDigit(cp) || isAsciiUpperHexDigit(cp) || isAsciiLowerHexDigit(cp);
    }
    function toAsciiLowerCodePoint(cp) {
        return cp + 0x0020;
    }
    //NOTE: String.fromCharCode() function can handle only characters from BMP subset.
    //So, we need to workaround this manually.
    //(see: https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/fromCharCode#Getting_it_to_work_with_higher_values)
    function toChar(cp) {
        if (cp <= 0xffff) {
            return String.fromCharCode(cp);
        }
        cp -= 0x10000;
        return String.fromCharCode(((cp >>> 10) & 0x3ff) | 0xd800) + String.fromCharCode(0xdc00 | (cp & 0x3ff));
    }
    function toAsciiLowerChar(cp) {
        return String.fromCharCode(toAsciiLowerCodePoint(cp));
    }
    function findNamedEntityTreeBranch(nodeIx, cp) {
        var branchCount = namedEntityData[++nodeIx];
        var lo = ++nodeIx;
        var hi = lo + branchCount - 1;
        while (lo <= hi) {
            var mid = (lo + hi) >>> 1;
            var midCp = namedEntityData[mid];
            if (midCp < cp) {
                lo = mid + 1;
            }
            else if (midCp > cp) {
                hi = mid - 1;
            }
            else {
                return namedEntityData[mid + branchCount];
            }
        }
        return -1;
    }
    //Tokenizer
    var Tokenizer = /** @class */ (function () {
        function Tokenizer() {
            this.preprocessor = new preprocessor();
            this.tokenQueue = [];
            this.allowCDATA = false;
            this.state = DATA_STATE;
            this.returnState = '';
            this.charRefCode = -1;
            this.tempBuff = [];
            this.lastStartTagName = '';
            this.consumedAfterSnapshot = -1;
            this.active = false;
            this.currentCharacterToken = null;
            this.currentToken = null;
            this.currentAttr = null;
        }
        //Errors
        Tokenizer.prototype._err = function () {
            // NOTE: err reporting is noop by default. Enabled by mixin.
        };
        Tokenizer.prototype._errOnNextCodePoint = function (err) {
            this._consume();
            this._err(err);
            this._unconsume();
        };
        //API
        Tokenizer.prototype.getNextToken = function () {
            while (!this.tokenQueue.length && this.active) {
                this.consumedAfterSnapshot = 0;
                var cp = this._consume();
                if (!this._ensureHibernation()) {
                    this[this.state](cp);
                }
            }
            return this.tokenQueue.shift();
        };
        Tokenizer.prototype.write = function (chunk, isLastChunk) {
            this.active = true;
            this.preprocessor.write(chunk, isLastChunk);
        };
        Tokenizer.prototype.insertHtmlAtCurrentPos = function (chunk) {
            this.active = true;
            this.preprocessor.insertHtmlAtCurrentPos(chunk);
        };
        //Hibernation
        Tokenizer.prototype._ensureHibernation = function () {
            if (this.preprocessor.endOfChunkHit) {
                for (; this.consumedAfterSnapshot > 0; this.consumedAfterSnapshot--) {
                    this.preprocessor.retreat();
                }
                this.active = false;
                this.tokenQueue.push({ type: Tokenizer.HIBERNATION_TOKEN });
                return true;
            }
            return false;
        };
        //Consumption
        Tokenizer.prototype._consume = function () {
            this.consumedAfterSnapshot++;
            return this.preprocessor.advance();
        };
        Tokenizer.prototype._unconsume = function () {
            this.consumedAfterSnapshot--;
            this.preprocessor.retreat();
        };
        Tokenizer.prototype._reconsumeInState = function (state) {
            this.state = state;
            this._unconsume();
        };
        Tokenizer.prototype._consumeSequenceIfMatch = function (pattern, startCp, caseSensitive) {
            var consumedCount = 0;
            var isMatch = true;
            var patternLength = pattern.length;
            var patternPos = 0;
            var cp = startCp;
            var patternCp = void 0;
            for (; patternPos < patternLength; patternPos++) {
                if (patternPos > 0) {
                    cp = this._consume();
                    consumedCount++;
                }
                if (cp === $$4.EOF) {
                    isMatch = false;
                    break;
                }
                patternCp = pattern[patternPos];
                if (cp !== patternCp && (caseSensitive || cp !== toAsciiLowerCodePoint(patternCp))) {
                    isMatch = false;
                    break;
                }
            }
            if (!isMatch) {
                while (consumedCount--) {
                    this._unconsume();
                }
            }
            return isMatch;
        };
        //Temp buffer
        Tokenizer.prototype._isTempBufferEqualToScriptString = function () {
            if (this.tempBuff.length !== $$.SCRIPT_STRING.length) {
                return false;
            }
            for (var i = 0; i < this.tempBuff.length; i++) {
                if (this.tempBuff[i] !== $$.SCRIPT_STRING[i]) {
                    return false;
                }
            }
            return true;
        };
        //Token creation
        Tokenizer.prototype._createStartTagToken = function () {
            this.currentToken = {
                type: Tokenizer.START_TAG_TOKEN,
                tagName: '',
                selfClosing: false,
                ackSelfClosing: false,
                attrs: []
            };
        };
        Tokenizer.prototype._createEndTagToken = function () {
            this.currentToken = {
                type: Tokenizer.END_TAG_TOKEN,
                tagName: '',
                selfClosing: false,
                attrs: []
            };
        };
        Tokenizer.prototype._createCommentToken = function () {
            this.currentToken = {
                type: Tokenizer.COMMENT_TOKEN,
                data: ''
            };
        };
        Tokenizer.prototype._createDoctypeToken = function (initialName) {
            this.currentToken = {
                type: Tokenizer.DOCTYPE_TOKEN,
                name: initialName,
                forceQuirks: false,
                publicId: null,
                systemId: null
            };
        };
        Tokenizer.prototype._createCharacterToken = function (type, ch) {
            this.currentCharacterToken = {
                type: type,
                chars: ch
            };
        };
        Tokenizer.prototype._createEOFToken = function () {
            this.currentToken = { type: Tokenizer.EOF_TOKEN };
        };
        //Tag attributes
        Tokenizer.prototype._createAttr = function (attrNameFirstCh) {
            this.currentAttr = {
                name: attrNameFirstCh,
                value: ''
            };
        };
        Tokenizer.prototype._leaveAttrName = function (toState) {
            if (Tokenizer.getTokenAttr(this.currentToken, this.currentAttr.name) === null) {
                this.currentToken.attrs.push(this.currentAttr);
            }
            else {
                this._err(errorCodes.duplicateAttribute);
            }
            this.state = toState;
        };
        Tokenizer.prototype._leaveAttrValue = function (toState) {
            this.state = toState;
        };
        //Token emission
        Tokenizer.prototype._emitCurrentToken = function () {
            this._emitCurrentCharacterToken();
            var ct = this.currentToken;
            this.currentToken = null;
            //NOTE: store emited start tag's tagName to determine is the following end tag token is appropriate.
            if (ct.type === Tokenizer.START_TAG_TOKEN) {
                this.lastStartTagName = ct.tagName;
            }
            else if (ct.type === Tokenizer.END_TAG_TOKEN) {
                if (ct.attrs.length > 0) {
                    this._err(errorCodes.endTagWithAttributes);
                }
                if (ct.selfClosing) {
                    this._err(errorCodes.endTagWithTrailingSolidus);
                }
            }
            this.tokenQueue.push(ct);
        };
        Tokenizer.prototype._emitCurrentCharacterToken = function () {
            if (this.currentCharacterToken) {
                this.tokenQueue.push(this.currentCharacterToken);
                this.currentCharacterToken = null;
            }
        };
        Tokenizer.prototype._emitEOFToken = function () {
            this._createEOFToken();
            this._emitCurrentToken();
        };
        //Characters emission
        //OPTIMIZATION: specification uses only one type of character tokens (one token per character).
        //This causes a huge memory overhead and a lot of unnecessary parser loops. parse5 uses 3 groups of characters.
        //If we have a sequence of characters that belong to the same group, parser can process it
        //as a single solid character token.
        //So, there are 3 types of character tokens in parse5:
        //1)NULL_CHARACTER_TOKEN - \u0000-character sequences (e.g. '\u0000\u0000\u0000')
        //2)WHITESPACE_CHARACTER_TOKEN - any whitespace/new-line character sequences (e.g. '\n  \r\t   \f')
        //3)CHARACTER_TOKEN - any character sequence which don't belong to groups 1 and 2 (e.g. 'abcdef1234@@#$%^')
        Tokenizer.prototype._appendCharToCurrentCharacterToken = function (type, ch) {
            if (this.currentCharacterToken && this.currentCharacterToken.type !== type) {
                this._emitCurrentCharacterToken();
            }
            if (this.currentCharacterToken) {
                this.currentCharacterToken.chars += ch;
            }
            else {
                this._createCharacterToken(type, ch);
            }
        };
        Tokenizer.prototype._emitCodePoint = function (cp) {
            var type = Tokenizer.CHARACTER_TOKEN;
            if (isWhitespace(cp)) {
                type = Tokenizer.WHITESPACE_CHARACTER_TOKEN;
            }
            else if (cp === $$4.NULL) {
                type = Tokenizer.NULL_CHARACTER_TOKEN;
            }
            this._appendCharToCurrentCharacterToken(type, toChar(cp));
        };
        Tokenizer.prototype._emitSeveralCodePoints = function (codePoints) {
            for (var i = 0; i < codePoints.length; i++) {
                this._emitCodePoint(codePoints[i]);
            }
        };
        //NOTE: used then we emit character explicitly. This is always a non-whitespace and a non-null character.
        //So we can avoid additional checks here.
        Tokenizer.prototype._emitChars = function (ch) {
            this._appendCharToCurrentCharacterToken(Tokenizer.CHARACTER_TOKEN, ch);
        };
        // Character reference helpers
        Tokenizer.prototype._matchNamedCharacterReference = function (startCp) {
            var result = null;
            var excess = 1;
            var i = findNamedEntityTreeBranch(0, startCp);
            this.tempBuff.push(startCp);
            while (i > -1) {
                var current = namedEntityData[i];
                var inNode = current < MAX_BRANCH_MARKER_VALUE;
                var nodeWithData = inNode && current & HAS_DATA_FLAG;
                if (nodeWithData) {
                    //NOTE: we use greedy search, so we continue lookup at this point
                    result = current & DATA_DUPLET_FLAG ? [namedEntityData[++i], namedEntityData[++i]] : [namedEntityData[++i]];
                    excess = 0;
                }
                var cp = this._consume();
                this.tempBuff.push(cp);
                excess++;
                if (cp === $$4.EOF) {
                    break;
                }
                if (inNode) {
                    i = current & HAS_BRANCHES_FLAG ? findNamedEntityTreeBranch(i, cp) : -1;
                }
                else {
                    i = cp === current ? ++i : -1;
                }
            }
            while (excess--) {
                this.tempBuff.pop();
                this._unconsume();
            }
            return result;
        };
        Tokenizer.prototype._isCharacterReferenceInAttribute = function () {
            return (this.returnState === ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE ||
                this.returnState === ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE ||
                this.returnState === ATTRIBUTE_VALUE_UNQUOTED_STATE);
        };
        Tokenizer.prototype._isCharacterReferenceAttributeQuirk = function (withSemicolon) {
            if (!withSemicolon && this._isCharacterReferenceInAttribute()) {
                var nextCp = this._consume();
                this._unconsume();
                return nextCp === $$4.EQUALS_SIGN || isAsciiAlphaNumeric(nextCp);
            }
            return false;
        };
        Tokenizer.prototype._flushCodePointsConsumedAsCharacterReference = function () {
            if (this._isCharacterReferenceInAttribute()) {
                for (var i = 0; i < this.tempBuff.length; i++) {
                    this.currentAttr.value += toChar(this.tempBuff[i]);
                }
            }
            else {
                this._emitSeveralCodePoints(this.tempBuff);
            }
            this.tempBuff = [];
        };
        // State machine
        // Data state
        //------------------------------------------------------------------
        Tokenizer.prototype[DATA_STATE] = function (cp) {
            this.preprocessor.dropParsedChunk();
            if (cp === $$4.LESS_THAN_SIGN) {
                this.state = TAG_OPEN_STATE;
            }
            else if (cp === $$4.AMPERSAND) {
                this.returnState = DATA_STATE;
                this.state = CHARACTER_REFERENCE_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this._emitCodePoint(cp);
            }
            else if (cp === $$4.EOF) {
                this._emitEOFToken();
            }
            else {
                this._emitCodePoint(cp);
            }
        };
        //  RCDATA state
        //------------------------------------------------------------------
        Tokenizer.prototype[RCDATA_STATE] = function (cp) {
            this.preprocessor.dropParsedChunk();
            if (cp === $$4.AMPERSAND) {
                this.returnState = RCDATA_STATE;
                this.state = CHARACTER_REFERENCE_STATE;
            }
            else if (cp === $$4.LESS_THAN_SIGN) {
                this.state = RCDATA_LESS_THAN_SIGN_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this._emitChars(unicode.REPLACEMENT_CHARACTER);
            }
            else if (cp === $$4.EOF) {
                this._emitEOFToken();
            }
            else {
                this._emitCodePoint(cp);
            }
        };
        // RAWTEXT state
        //------------------------------------------------------------------
        Tokenizer.prototype[RAWTEXT_STATE] = function (cp) {
            this.preprocessor.dropParsedChunk();
            if (cp === $$4.LESS_THAN_SIGN) {
                this.state = RAWTEXT_LESS_THAN_SIGN_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this._emitChars(unicode.REPLACEMENT_CHARACTER);
            }
            else if (cp === $$4.EOF) {
                this._emitEOFToken();
            }
            else {
                this._emitCodePoint(cp);
            }
        };
        // Script data state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_STATE] = function (cp) {
            this.preprocessor.dropParsedChunk();
            if (cp === $$4.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_LESS_THAN_SIGN_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this._emitChars(unicode.REPLACEMENT_CHARACTER);
            }
            else if (cp === $$4.EOF) {
                this._emitEOFToken();
            }
            else {
                this._emitCodePoint(cp);
            }
        };
        // PLAINTEXT state
        //------------------------------------------------------------------
        Tokenizer.prototype[PLAINTEXT_STATE] = function (cp) {
            this.preprocessor.dropParsedChunk();
            if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this._emitChars(unicode.REPLACEMENT_CHARACTER);
            }
            else if (cp === $$4.EOF) {
                this._emitEOFToken();
            }
            else {
                this._emitCodePoint(cp);
            }
        };
        // Tag open state
        //------------------------------------------------------------------
        Tokenizer.prototype[TAG_OPEN_STATE] = function (cp) {
            if (cp === $$4.EXCLAMATION_MARK) {
                this.state = MARKUP_DECLARATION_OPEN_STATE;
            }
            else if (cp === $$4.SOLIDUS) {
                this.state = END_TAG_OPEN_STATE;
            }
            else if (isAsciiLetter(cp)) {
                this._createStartTagToken();
                this._reconsumeInState(TAG_NAME_STATE);
            }
            else if (cp === $$4.QUESTION_MARK) {
                this._err(errorCodes.unexpectedQuestionMarkInsteadOfTagName);
                this._createCommentToken();
                this._reconsumeInState(BOGUS_COMMENT_STATE);
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofBeforeTagName);
                this._emitChars('<');
                this._emitEOFToken();
            }
            else {
                this._err(errorCodes.invalidFirstCharacterOfTagName);
                this._emitChars('<');
                this._reconsumeInState(DATA_STATE);
            }
        };
        // End tag open state
        //------------------------------------------------------------------
        Tokenizer.prototype[END_TAG_OPEN_STATE] = function (cp) {
            if (isAsciiLetter(cp)) {
                this._createEndTagToken();
                this._reconsumeInState(TAG_NAME_STATE);
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.missingEndTagName);
                this.state = DATA_STATE;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofBeforeTagName);
                this._emitChars('</');
                this._emitEOFToken();
            }
            else {
                this._err(errorCodes.invalidFirstCharacterOfTagName);
                this._createCommentToken();
                this._reconsumeInState(BOGUS_COMMENT_STATE);
            }
        };
        // Tag name state
        //------------------------------------------------------------------
        Tokenizer.prototype[TAG_NAME_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                this.state = BEFORE_ATTRIBUTE_NAME_STATE;
            }
            else if (cp === $$4.SOLIDUS) {
                this.state = SELF_CLOSING_START_TAG_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (isAsciiUpper(cp)) {
                this.currentToken.tagName += toAsciiLowerChar(cp);
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.currentToken.tagName += unicode.REPLACEMENT_CHARACTER;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInTag);
                this._emitEOFToken();
            }
            else {
                this.currentToken.tagName += toChar(cp);
            }
        };
        // RCDATA less-than sign state
        //------------------------------------------------------------------
        Tokenizer.prototype[RCDATA_LESS_THAN_SIGN_STATE] = function (cp) {
            if (cp === $$4.SOLIDUS) {
                this.tempBuff = [];
                this.state = RCDATA_END_TAG_OPEN_STATE;
            }
            else {
                this._emitChars('<');
                this._reconsumeInState(RCDATA_STATE);
            }
        };
        // RCDATA end tag open state
        //------------------------------------------------------------------
        Tokenizer.prototype[RCDATA_END_TAG_OPEN_STATE] = function (cp) {
            if (isAsciiLetter(cp)) {
                this._createEndTagToken();
                this._reconsumeInState(RCDATA_END_TAG_NAME_STATE);
            }
            else {
                this._emitChars('</');
                this._reconsumeInState(RCDATA_STATE);
            }
        };
        // RCDATA end tag name state
        //------------------------------------------------------------------
        Tokenizer.prototype[RCDATA_END_TAG_NAME_STATE] = function (cp) {
            if (isAsciiUpper(cp)) {
                this.currentToken.tagName += toAsciiLowerChar(cp);
                this.tempBuff.push(cp);
            }
            else if (isAsciiLower(cp)) {
                this.currentToken.tagName += toChar(cp);
                this.tempBuff.push(cp);
            }
            else {
                if (this.lastStartTagName === this.currentToken.tagName) {
                    if (isWhitespace(cp)) {
                        this.state = BEFORE_ATTRIBUTE_NAME_STATE;
                        return;
                    }
                    if (cp === $$4.SOLIDUS) {
                        this.state = SELF_CLOSING_START_TAG_STATE;
                        return;
                    }
                    if (cp === $$4.GREATER_THAN_SIGN) {
                        this.state = DATA_STATE;
                        this._emitCurrentToken();
                        return;
                    }
                }
                this._emitChars('</');
                this._emitSeveralCodePoints(this.tempBuff);
                this._reconsumeInState(RCDATA_STATE);
            }
        };
        // RAWTEXT less-than sign state
        //------------------------------------------------------------------
        Tokenizer.prototype[RAWTEXT_LESS_THAN_SIGN_STATE] = function (cp) {
            if (cp === $$4.SOLIDUS) {
                this.tempBuff = [];
                this.state = RAWTEXT_END_TAG_OPEN_STATE;
            }
            else {
                this._emitChars('<');
                this._reconsumeInState(RAWTEXT_STATE);
            }
        };
        // RAWTEXT end tag open state
        //------------------------------------------------------------------
        Tokenizer.prototype[RAWTEXT_END_TAG_OPEN_STATE] = function (cp) {
            if (isAsciiLetter(cp)) {
                this._createEndTagToken();
                this._reconsumeInState(RAWTEXT_END_TAG_NAME_STATE);
            }
            else {
                this._emitChars('</');
                this._reconsumeInState(RAWTEXT_STATE);
            }
        };
        // RAWTEXT end tag name state
        //------------------------------------------------------------------
        Tokenizer.prototype[RAWTEXT_END_TAG_NAME_STATE] = function (cp) {
            if (isAsciiUpper(cp)) {
                this.currentToken.tagName += toAsciiLowerChar(cp);
                this.tempBuff.push(cp);
            }
            else if (isAsciiLower(cp)) {
                this.currentToken.tagName += toChar(cp);
                this.tempBuff.push(cp);
            }
            else {
                if (this.lastStartTagName === this.currentToken.tagName) {
                    if (isWhitespace(cp)) {
                        this.state = BEFORE_ATTRIBUTE_NAME_STATE;
                        return;
                    }
                    if (cp === $$4.SOLIDUS) {
                        this.state = SELF_CLOSING_START_TAG_STATE;
                        return;
                    }
                    if (cp === $$4.GREATER_THAN_SIGN) {
                        this._emitCurrentToken();
                        this.state = DATA_STATE;
                        return;
                    }
                }
                this._emitChars('</');
                this._emitSeveralCodePoints(this.tempBuff);
                this._reconsumeInState(RAWTEXT_STATE);
            }
        };
        // Script data less-than sign state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_LESS_THAN_SIGN_STATE] = function (cp) {
            if (cp === $$4.SOLIDUS) {
                this.tempBuff = [];
                this.state = SCRIPT_DATA_END_TAG_OPEN_STATE;
            }
            else if (cp === $$4.EXCLAMATION_MARK) {
                this.state = SCRIPT_DATA_ESCAPE_START_STATE;
                this._emitChars('<!');
            }
            else {
                this._emitChars('<');
                this._reconsumeInState(SCRIPT_DATA_STATE);
            }
        };
        // Script data end tag open state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_END_TAG_OPEN_STATE] = function (cp) {
            if (isAsciiLetter(cp)) {
                this._createEndTagToken();
                this._reconsumeInState(SCRIPT_DATA_END_TAG_NAME_STATE);
            }
            else {
                this._emitChars('</');
                this._reconsumeInState(SCRIPT_DATA_STATE);
            }
        };
        // Script data end tag name state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_END_TAG_NAME_STATE] = function (cp) {
            if (isAsciiUpper(cp)) {
                this.currentToken.tagName += toAsciiLowerChar(cp);
                this.tempBuff.push(cp);
            }
            else if (isAsciiLower(cp)) {
                this.currentToken.tagName += toChar(cp);
                this.tempBuff.push(cp);
            }
            else {
                if (this.lastStartTagName === this.currentToken.tagName) {
                    if (isWhitespace(cp)) {
                        this.state = BEFORE_ATTRIBUTE_NAME_STATE;
                        return;
                    }
                    else if (cp === $$4.SOLIDUS) {
                        this.state = SELF_CLOSING_START_TAG_STATE;
                        return;
                    }
                    else if (cp === $$4.GREATER_THAN_SIGN) {
                        this._emitCurrentToken();
                        this.state = DATA_STATE;
                        return;
                    }
                }
                this._emitChars('</');
                this._emitSeveralCodePoints(this.tempBuff);
                this._reconsumeInState(SCRIPT_DATA_STATE);
            }
        };
        // Script data escape start state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_ESCAPE_START_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.state = SCRIPT_DATA_ESCAPE_START_DASH_STATE;
                this._emitChars('-');
            }
            else {
                this._reconsumeInState(SCRIPT_DATA_STATE);
            }
        };
        // Script data escape start dash state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_ESCAPE_START_DASH_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.state = SCRIPT_DATA_ESCAPED_DASH_DASH_STATE;
                this._emitChars('-');
            }
            else {
                this._reconsumeInState(SCRIPT_DATA_STATE);
            }
        };
        // Script data escaped state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_ESCAPED_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.state = SCRIPT_DATA_ESCAPED_DASH_STATE;
                this._emitChars('-');
            }
            else if (cp === $$4.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this._emitChars(unicode.REPLACEMENT_CHARACTER);
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInScriptHtmlCommentLikeText);
                this._emitEOFToken();
            }
            else {
                this._emitCodePoint(cp);
            }
        };
        // Script data escaped dash state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_ESCAPED_DASH_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.state = SCRIPT_DATA_ESCAPED_DASH_DASH_STATE;
                this._emitChars('-');
            }
            else if (cp === $$4.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.state = SCRIPT_DATA_ESCAPED_STATE;
                this._emitChars(unicode.REPLACEMENT_CHARACTER);
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInScriptHtmlCommentLikeText);
                this._emitEOFToken();
            }
            else {
                this.state = SCRIPT_DATA_ESCAPED_STATE;
                this._emitCodePoint(cp);
            }
        };
        // Script data escaped dash dash state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_ESCAPED_DASH_DASH_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this._emitChars('-');
            }
            else if (cp === $$4.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this.state = SCRIPT_DATA_STATE;
                this._emitChars('>');
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.state = SCRIPT_DATA_ESCAPED_STATE;
                this._emitChars(unicode.REPLACEMENT_CHARACTER);
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInScriptHtmlCommentLikeText);
                this._emitEOFToken();
            }
            else {
                this.state = SCRIPT_DATA_ESCAPED_STATE;
                this._emitCodePoint(cp);
            }
        };
        // Script data escaped less-than sign state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE] = function (cp) {
            if (cp === $$4.SOLIDUS) {
                this.tempBuff = [];
                this.state = SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE;
            }
            else if (isAsciiLetter(cp)) {
                this.tempBuff = [];
                this._emitChars('<');
                this._reconsumeInState(SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE);
            }
            else {
                this._emitChars('<');
                this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);
            }
        };
        // Script data escaped end tag open state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE] = function (cp) {
            if (isAsciiLetter(cp)) {
                this._createEndTagToken();
                this._reconsumeInState(SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE);
            }
            else {
                this._emitChars('</');
                this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);
            }
        };
        // Script data escaped end tag name state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE] = function (cp) {
            if (isAsciiUpper(cp)) {
                this.currentToken.tagName += toAsciiLowerChar(cp);
                this.tempBuff.push(cp);
            }
            else if (isAsciiLower(cp)) {
                this.currentToken.tagName += toChar(cp);
                this.tempBuff.push(cp);
            }
            else {
                if (this.lastStartTagName === this.currentToken.tagName) {
                    if (isWhitespace(cp)) {
                        this.state = BEFORE_ATTRIBUTE_NAME_STATE;
                        return;
                    }
                    if (cp === $$4.SOLIDUS) {
                        this.state = SELF_CLOSING_START_TAG_STATE;
                        return;
                    }
                    if (cp === $$4.GREATER_THAN_SIGN) {
                        this._emitCurrentToken();
                        this.state = DATA_STATE;
                        return;
                    }
                }
                this._emitChars('</');
                this._emitSeveralCodePoints(this.tempBuff);
                this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);
            }
        };
        // Script data double escape start state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE] = function (cp) {
            if (isWhitespace(cp) || cp === $$4.SOLIDUS || cp === $$4.GREATER_THAN_SIGN) {
                this.state = this._isTempBufferEqualToScriptString()
                    ? SCRIPT_DATA_DOUBLE_ESCAPED_STATE
                    : SCRIPT_DATA_ESCAPED_STATE;
                this._emitCodePoint(cp);
            }
            else if (isAsciiUpper(cp)) {
                this.tempBuff.push(toAsciiLowerCodePoint(cp));
                this._emitCodePoint(cp);
            }
            else if (isAsciiLower(cp)) {
                this.tempBuff.push(cp);
                this._emitCodePoint(cp);
            }
            else {
                this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);
            }
        };
        // Script data double escaped state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_DOUBLE_ESCAPED_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE;
                this._emitChars('-');
            }
            else if (cp === $$4.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE;
                this._emitChars('<');
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this._emitChars(unicode.REPLACEMENT_CHARACTER);
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInScriptHtmlCommentLikeText);
                this._emitEOFToken();
            }
            else {
                this._emitCodePoint(cp);
            }
        };
        // Script data double escaped dash state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE;
                this._emitChars('-');
            }
            else if (cp === $$4.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE;
                this._emitChars('<');
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;
                this._emitChars(unicode.REPLACEMENT_CHARACTER);
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInScriptHtmlCommentLikeText);
                this._emitEOFToken();
            }
            else {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;
                this._emitCodePoint(cp);
            }
        };
        // Script data double escaped dash dash state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this._emitChars('-');
            }
            else if (cp === $$4.LESS_THAN_SIGN) {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE;
                this._emitChars('<');
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this.state = SCRIPT_DATA_STATE;
                this._emitChars('>');
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;
                this._emitChars(unicode.REPLACEMENT_CHARACTER);
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInScriptHtmlCommentLikeText);
                this._emitEOFToken();
            }
            else {
                this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;
                this._emitCodePoint(cp);
            }
        };
        // Script data double escaped less-than sign state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE] = function (cp) {
            if (cp === $$4.SOLIDUS) {
                this.tempBuff = [];
                this.state = SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE;
                this._emitChars('/');
            }
            else {
                this._reconsumeInState(SCRIPT_DATA_DOUBLE_ESCAPED_STATE);
            }
        };
        // Script data double escape end state
        //------------------------------------------------------------------
        Tokenizer.prototype[SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE] = function (cp) {
            if (isWhitespace(cp) || cp === $$4.SOLIDUS || cp === $$4.GREATER_THAN_SIGN) {
                this.state = this._isTempBufferEqualToScriptString()
                    ? SCRIPT_DATA_ESCAPED_STATE
                    : SCRIPT_DATA_DOUBLE_ESCAPED_STATE;
                this._emitCodePoint(cp);
            }
            else if (isAsciiUpper(cp)) {
                this.tempBuff.push(toAsciiLowerCodePoint(cp));
                this._emitCodePoint(cp);
            }
            else if (isAsciiLower(cp)) {
                this.tempBuff.push(cp);
                this._emitCodePoint(cp);
            }
            else {
                this._reconsumeInState(SCRIPT_DATA_DOUBLE_ESCAPED_STATE);
            }
        };
        // Before attribute name state
        //------------------------------------------------------------------
        Tokenizer.prototype[BEFORE_ATTRIBUTE_NAME_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                return;
            }
            if (cp === $$4.SOLIDUS || cp === $$4.GREATER_THAN_SIGN || cp === $$4.EOF) {
                this._reconsumeInState(AFTER_ATTRIBUTE_NAME_STATE);
            }
            else if (cp === $$4.EQUALS_SIGN) {
                this._err(errorCodes.unexpectedEqualsSignBeforeAttributeName);
                this._createAttr('=');
                this.state = ATTRIBUTE_NAME_STATE;
            }
            else {
                this._createAttr('');
                this._reconsumeInState(ATTRIBUTE_NAME_STATE);
            }
        };
        // Attribute name state
        //------------------------------------------------------------------
        Tokenizer.prototype[ATTRIBUTE_NAME_STATE] = function (cp) {
            if (isWhitespace(cp) || cp === $$4.SOLIDUS || cp === $$4.GREATER_THAN_SIGN || cp === $$4.EOF) {
                this._leaveAttrName(AFTER_ATTRIBUTE_NAME_STATE);
                this._unconsume();
            }
            else if (cp === $$4.EQUALS_SIGN) {
                this._leaveAttrName(BEFORE_ATTRIBUTE_VALUE_STATE);
            }
            else if (isAsciiUpper(cp)) {
                this.currentAttr.name += toAsciiLowerChar(cp);
            }
            else if (cp === $$4.QUOTATION_MARK || cp === $$4.APOSTROPHE || cp === $$4.LESS_THAN_SIGN) {
                this._err(errorCodes.unexpectedCharacterInAttributeName);
                this.currentAttr.name += toChar(cp);
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.currentAttr.name += unicode.REPLACEMENT_CHARACTER;
            }
            else {
                this.currentAttr.name += toChar(cp);
            }
        };
        // After attribute name state
        //------------------------------------------------------------------
        Tokenizer.prototype[AFTER_ATTRIBUTE_NAME_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                return;
            }
            if (cp === $$4.SOLIDUS) {
                this.state = SELF_CLOSING_START_TAG_STATE;
            }
            else if (cp === $$4.EQUALS_SIGN) {
                this.state = BEFORE_ATTRIBUTE_VALUE_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInTag);
                this._emitEOFToken();
            }
            else {
                this._createAttr('');
                this._reconsumeInState(ATTRIBUTE_NAME_STATE);
            }
        };
        // Before attribute value state
        //------------------------------------------------------------------
        Tokenizer.prototype[BEFORE_ATTRIBUTE_VALUE_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                return;
            }
            if (cp === $$4.QUOTATION_MARK) {
                this.state = ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE;
            }
            else if (cp === $$4.APOSTROPHE) {
                this.state = ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.missingAttributeValue);
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else {
                this._reconsumeInState(ATTRIBUTE_VALUE_UNQUOTED_STATE);
            }
        };
        // Attribute value (double-quoted) state
        //------------------------------------------------------------------
        Tokenizer.prototype[ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE] = function (cp) {
            if (cp === $$4.QUOTATION_MARK) {
                this.state = AFTER_ATTRIBUTE_VALUE_QUOTED_STATE;
            }
            else if (cp === $$4.AMPERSAND) {
                this.returnState = ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE;
                this.state = CHARACTER_REFERENCE_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.currentAttr.value += unicode.REPLACEMENT_CHARACTER;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInTag);
                this._emitEOFToken();
            }
            else {
                this.currentAttr.value += toChar(cp);
            }
        };
        // Attribute value (single-quoted) state
        //------------------------------------------------------------------
        Tokenizer.prototype[ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE] = function (cp) {
            if (cp === $$4.APOSTROPHE) {
                this.state = AFTER_ATTRIBUTE_VALUE_QUOTED_STATE;
            }
            else if (cp === $$4.AMPERSAND) {
                this.returnState = ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE;
                this.state = CHARACTER_REFERENCE_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.currentAttr.value += unicode.REPLACEMENT_CHARACTER;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInTag);
                this._emitEOFToken();
            }
            else {
                this.currentAttr.value += toChar(cp);
            }
        };
        // Attribute value (unquoted) state
        //------------------------------------------------------------------
        Tokenizer.prototype[ATTRIBUTE_VALUE_UNQUOTED_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                this._leaveAttrValue(BEFORE_ATTRIBUTE_NAME_STATE);
            }
            else if (cp === $$4.AMPERSAND) {
                this.returnState = ATTRIBUTE_VALUE_UNQUOTED_STATE;
                this.state = CHARACTER_REFERENCE_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._leaveAttrValue(DATA_STATE);
                this._emitCurrentToken();
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.currentAttr.value += unicode.REPLACEMENT_CHARACTER;
            }
            else if (cp === $$4.QUOTATION_MARK ||
                cp === $$4.APOSTROPHE ||
                cp === $$4.LESS_THAN_SIGN ||
                cp === $$4.EQUALS_SIGN ||
                cp === $$4.GRAVE_ACCENT) {
                this._err(errorCodes.unexpectedCharacterInUnquotedAttributeValue);
                this.currentAttr.value += toChar(cp);
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInTag);
                this._emitEOFToken();
            }
            else {
                this.currentAttr.value += toChar(cp);
            }
        };
        // After attribute value (quoted) state
        //------------------------------------------------------------------
        Tokenizer.prototype[AFTER_ATTRIBUTE_VALUE_QUOTED_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                this._leaveAttrValue(BEFORE_ATTRIBUTE_NAME_STATE);
            }
            else if (cp === $$4.SOLIDUS) {
                this._leaveAttrValue(SELF_CLOSING_START_TAG_STATE);
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._leaveAttrValue(DATA_STATE);
                this._emitCurrentToken();
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInTag);
                this._emitEOFToken();
            }
            else {
                this._err(errorCodes.missingWhitespaceBetweenAttributes);
                this._reconsumeInState(BEFORE_ATTRIBUTE_NAME_STATE);
            }
        };
        // Self-closing start tag state
        //------------------------------------------------------------------
        Tokenizer.prototype[SELF_CLOSING_START_TAG_STATE] = function (cp) {
            if (cp === $$4.GREATER_THAN_SIGN) {
                this.currentToken.selfClosing = true;
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInTag);
                this._emitEOFToken();
            }
            else {
                this._err(errorCodes.unexpectedSolidusInTag);
                this._reconsumeInState(BEFORE_ATTRIBUTE_NAME_STATE);
            }
        };
        // Bogus comment state
        //------------------------------------------------------------------
        Tokenizer.prototype[BOGUS_COMMENT_STATE] = function (cp) {
            if (cp === $$4.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (cp === $$4.EOF) {
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.currentToken.data += unicode.REPLACEMENT_CHARACTER;
            }
            else {
                this.currentToken.data += toChar(cp);
            }
        };
        // Markup declaration open state
        //------------------------------------------------------------------
        Tokenizer.prototype[MARKUP_DECLARATION_OPEN_STATE] = function (cp) {
            if (this._consumeSequenceIfMatch($$.DASH_DASH_STRING, cp, true)) {
                this._createCommentToken();
                this.state = COMMENT_START_STATE;
            }
            else if (this._consumeSequenceIfMatch($$.DOCTYPE_STRING, cp, false)) {
                this.state = DOCTYPE_STATE;
            }
            else if (this._consumeSequenceIfMatch($$.CDATA_START_STRING, cp, true)) {
                if (this.allowCDATA) {
                    this.state = CDATA_SECTION_STATE;
                }
                else {
                    this._err(errorCodes.cdataInHtmlContent);
                    this._createCommentToken();
                    this.currentToken.data = '[CDATA[';
                    this.state = BOGUS_COMMENT_STATE;
                }
            }
            //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup
            //results are no longer valid and we will need to start over.
            else if (!this._ensureHibernation()) {
                this._err(errorCodes.incorrectlyOpenedComment);
                this._createCommentToken();
                this._reconsumeInState(BOGUS_COMMENT_STATE);
            }
        };
        // Comment start state
        //------------------------------------------------------------------
        Tokenizer.prototype[COMMENT_START_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.state = COMMENT_START_DASH_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.abruptClosingOfEmptyComment);
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else {
                this._reconsumeInState(COMMENT_STATE);
            }
        };
        // Comment start dash state
        //------------------------------------------------------------------
        Tokenizer.prototype[COMMENT_START_DASH_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.state = COMMENT_END_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.abruptClosingOfEmptyComment);
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInComment);
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this.currentToken.data += '-';
                this._reconsumeInState(COMMENT_STATE);
            }
        };
        // Comment state
        //------------------------------------------------------------------
        Tokenizer.prototype[COMMENT_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.state = COMMENT_END_DASH_STATE;
            }
            else if (cp === $$4.LESS_THAN_SIGN) {
                this.currentToken.data += '<';
                this.state = COMMENT_LESS_THAN_SIGN_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.currentToken.data += unicode.REPLACEMENT_CHARACTER;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInComment);
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this.currentToken.data += toChar(cp);
            }
        };
        // Comment less-than sign state
        //------------------------------------------------------------------
        Tokenizer.prototype[COMMENT_LESS_THAN_SIGN_STATE] = function (cp) {
            if (cp === $$4.EXCLAMATION_MARK) {
                this.currentToken.data += '!';
                this.state = COMMENT_LESS_THAN_SIGN_BANG_STATE;
            }
            else if (cp === $$4.LESS_THAN_SIGN) {
                this.currentToken.data += '!';
            }
            else {
                this._reconsumeInState(COMMENT_STATE);
            }
        };
        // Comment less-than sign bang state
        //------------------------------------------------------------------
        Tokenizer.prototype[COMMENT_LESS_THAN_SIGN_BANG_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.state = COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE;
            }
            else {
                this._reconsumeInState(COMMENT_STATE);
            }
        };
        // Comment less-than sign bang dash state
        //------------------------------------------------------------------
        Tokenizer.prototype[COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.state = COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE;
            }
            else {
                this._reconsumeInState(COMMENT_END_DASH_STATE);
            }
        };
        // Comment less-than sign bang dash dash state
        //------------------------------------------------------------------
        Tokenizer.prototype[COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE] = function (cp) {
            if (cp !== $$4.GREATER_THAN_SIGN && cp !== $$4.EOF) {
                this._err(errorCodes.nestedComment);
            }
            this._reconsumeInState(COMMENT_END_STATE);
        };
        // Comment end dash state
        //------------------------------------------------------------------
        Tokenizer.prototype[COMMENT_END_DASH_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.state = COMMENT_END_STATE;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInComment);
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this.currentToken.data += '-';
                this._reconsumeInState(COMMENT_STATE);
            }
        };
        // Comment end state
        //------------------------------------------------------------------
        Tokenizer.prototype[COMMENT_END_STATE] = function (cp) {
            if (cp === $$4.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (cp === $$4.EXCLAMATION_MARK) {
                this.state = COMMENT_END_BANG_STATE;
            }
            else if (cp === $$4.HYPHEN_MINUS) {
                this.currentToken.data += '-';
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInComment);
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this.currentToken.data += '--';
                this._reconsumeInState(COMMENT_STATE);
            }
        };
        // Comment end bang state
        //------------------------------------------------------------------
        Tokenizer.prototype[COMMENT_END_BANG_STATE] = function (cp) {
            if (cp === $$4.HYPHEN_MINUS) {
                this.currentToken.data += '--!';
                this.state = COMMENT_END_DASH_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.incorrectlyClosedComment);
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInComment);
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this.currentToken.data += '--!';
                this._reconsumeInState(COMMENT_STATE);
            }
        };
        // DOCTYPE state
        //------------------------------------------------------------------
        Tokenizer.prototype[DOCTYPE_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                this.state = BEFORE_DOCTYPE_NAME_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._reconsumeInState(BEFORE_DOCTYPE_NAME_STATE);
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this._createDoctypeToken(null);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this._err(errorCodes.missingWhitespaceBeforeDoctypeName);
                this._reconsumeInState(BEFORE_DOCTYPE_NAME_STATE);
            }
        };
        // Before DOCTYPE name state
        //------------------------------------------------------------------
        Tokenizer.prototype[BEFORE_DOCTYPE_NAME_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                return;
            }
            if (isAsciiUpper(cp)) {
                this._createDoctypeToken(toAsciiLowerChar(cp));
                this.state = DOCTYPE_NAME_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this._createDoctypeToken(unicode.REPLACEMENT_CHARACTER);
                this.state = DOCTYPE_NAME_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.missingDoctypeName);
                this._createDoctypeToken(null);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this.state = DATA_STATE;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this._createDoctypeToken(null);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this._createDoctypeToken(toChar(cp));
                this.state = DOCTYPE_NAME_STATE;
            }
        };
        // DOCTYPE name state
        //------------------------------------------------------------------
        Tokenizer.prototype[DOCTYPE_NAME_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                this.state = AFTER_DOCTYPE_NAME_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (isAsciiUpper(cp)) {
                this.currentToken.name += toAsciiLowerChar(cp);
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.currentToken.name += unicode.REPLACEMENT_CHARACTER;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this.currentToken.name += toChar(cp);
            }
        };
        // After DOCTYPE name state
        //------------------------------------------------------------------
        Tokenizer.prototype[AFTER_DOCTYPE_NAME_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                return;
            }
            if (cp === $$4.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else if (this._consumeSequenceIfMatch($$.PUBLIC_STRING, cp, false)) {
                this.state = AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE;
            }
            else if (this._consumeSequenceIfMatch($$.SYSTEM_STRING, cp, false)) {
                this.state = AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE;
            }
            //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup
            //results are no longer valid and we will need to start over.
            else if (!this._ensureHibernation()) {
                this._err(errorCodes.invalidCharacterSequenceAfterDoctypeName);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        };
        // After DOCTYPE public keyword state
        //------------------------------------------------------------------
        Tokenizer.prototype[AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                this.state = BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE;
            }
            else if (cp === $$4.QUOTATION_MARK) {
                this._err(errorCodes.missingWhitespaceAfterDoctypePublicKeyword);
                this.currentToken.publicId = '';
                this.state = DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE;
            }
            else if (cp === $$4.APOSTROPHE) {
                this._err(errorCodes.missingWhitespaceAfterDoctypePublicKeyword);
                this.currentToken.publicId = '';
                this.state = DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.missingDoctypePublicIdentifier);
                this.currentToken.forceQuirks = true;
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this._err(errorCodes.missingQuoteBeforeDoctypePublicIdentifier);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        };
        // Before DOCTYPE public identifier state
        //------------------------------------------------------------------
        Tokenizer.prototype[BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                return;
            }
            if (cp === $$4.QUOTATION_MARK) {
                this.currentToken.publicId = '';
                this.state = DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE;
            }
            else if (cp === $$4.APOSTROPHE) {
                this.currentToken.publicId = '';
                this.state = DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.missingDoctypePublicIdentifier);
                this.currentToken.forceQuirks = true;
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this._err(errorCodes.missingQuoteBeforeDoctypePublicIdentifier);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        };
        // DOCTYPE public identifier (double-quoted) state
        //------------------------------------------------------------------
        Tokenizer.prototype[DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE] = function (cp) {
            if (cp === $$4.QUOTATION_MARK) {
                this.state = AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.currentToken.publicId += unicode.REPLACEMENT_CHARACTER;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.abruptDoctypePublicIdentifier);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this.state = DATA_STATE;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this.currentToken.publicId += toChar(cp);
            }
        };
        // DOCTYPE public identifier (single-quoted) state
        //------------------------------------------------------------------
        Tokenizer.prototype[DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE] = function (cp) {
            if (cp === $$4.APOSTROPHE) {
                this.state = AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.currentToken.publicId += unicode.REPLACEMENT_CHARACTER;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.abruptDoctypePublicIdentifier);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this.state = DATA_STATE;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this.currentToken.publicId += toChar(cp);
            }
        };
        // After DOCTYPE public identifier state
        //------------------------------------------------------------------
        Tokenizer.prototype[AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                this.state = BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (cp === $$4.QUOTATION_MARK) {
                this._err(errorCodes.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;
            }
            else if (cp === $$4.APOSTROPHE) {
                this._err(errorCodes.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this._err(errorCodes.missingQuoteBeforeDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        };
        // Between DOCTYPE public and system identifiers state
        //------------------------------------------------------------------
        Tokenizer.prototype[BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                return;
            }
            if (cp === $$4.GREATER_THAN_SIGN) {
                this._emitCurrentToken();
                this.state = DATA_STATE;
            }
            else if (cp === $$4.QUOTATION_MARK) {
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;
            }
            else if (cp === $$4.APOSTROPHE) {
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this._err(errorCodes.missingQuoteBeforeDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        };
        // After DOCTYPE system keyword state
        //------------------------------------------------------------------
        Tokenizer.prototype[AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                this.state = BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE;
            }
            else if (cp === $$4.QUOTATION_MARK) {
                this._err(errorCodes.missingWhitespaceAfterDoctypeSystemKeyword);
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;
            }
            else if (cp === $$4.APOSTROPHE) {
                this._err(errorCodes.missingWhitespaceAfterDoctypeSystemKeyword);
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.missingDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this._err(errorCodes.missingQuoteBeforeDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        };
        // Before DOCTYPE system identifier state
        //------------------------------------------------------------------
        Tokenizer.prototype[BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                return;
            }
            if (cp === $$4.QUOTATION_MARK) {
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;
            }
            else if (cp === $$4.APOSTROPHE) {
                this.currentToken.systemId = '';
                this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.missingDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this.state = DATA_STATE;
                this._emitCurrentToken();
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this._err(errorCodes.missingQuoteBeforeDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        };
        // DOCTYPE system identifier (double-quoted) state
        //------------------------------------------------------------------
        Tokenizer.prototype[DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE] = function (cp) {
            if (cp === $$4.QUOTATION_MARK) {
                this.state = AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.currentToken.systemId += unicode.REPLACEMENT_CHARACTER;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.abruptDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this.state = DATA_STATE;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this.currentToken.systemId += toChar(cp);
            }
        };
        // DOCTYPE system identifier (single-quoted) state
        //------------------------------------------------------------------
        Tokenizer.prototype[DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE] = function (cp) {
            if (cp === $$4.APOSTROPHE) {
                this.state = AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
                this.currentToken.systemId += unicode.REPLACEMENT_CHARACTER;
            }
            else if (cp === $$4.GREATER_THAN_SIGN) {
                this._err(errorCodes.abruptDoctypeSystemIdentifier);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this.state = DATA_STATE;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this.currentToken.systemId += toChar(cp);
            }
        };
        // After DOCTYPE system identifier state
        //------------------------------------------------------------------
        Tokenizer.prototype[AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE] = function (cp) {
            if (isWhitespace(cp)) {
                return;
            }
            if (cp === $$4.GREATER_THAN_SIGN) {
                this._emitCurrentToken();
                this.state = DATA_STATE;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInDoctype);
                this.currentToken.forceQuirks = true;
                this._emitCurrentToken();
                this._emitEOFToken();
            }
            else {
                this._err(errorCodes.unexpectedCharacterAfterDoctypeSystemIdentifier);
                this._reconsumeInState(BOGUS_DOCTYPE_STATE);
            }
        };
        // Bogus DOCTYPE state
        //------------------------------------------------------------------
        Tokenizer.prototype[BOGUS_DOCTYPE_STATE] = function (cp) {
            if (cp === $$4.GREATER_THAN_SIGN) {
                this._emitCurrentToken();
                this.state = DATA_STATE;
            }
            else if (cp === $$4.NULL) {
                this._err(errorCodes.unexpectedNullCharacter);
            }
            else if (cp === $$4.EOF) {
                this._emitCurrentToken();
                this._emitEOFToken();
            }
        };
        // CDATA section state
        //------------------------------------------------------------------
        Tokenizer.prototype[CDATA_SECTION_STATE] = function (cp) {
            if (cp === $$4.RIGHT_SQUARE_BRACKET) {
                this.state = CDATA_SECTION_BRACKET_STATE;
            }
            else if (cp === $$4.EOF) {
                this._err(errorCodes.eofInCdata);
                this._emitEOFToken();
            }
            else {
                this._emitCodePoint(cp);
            }
        };
        // CDATA section bracket state
        //------------------------------------------------------------------
        Tokenizer.prototype[CDATA_SECTION_BRACKET_STATE] = function (cp) {
            if (cp === $$4.RIGHT_SQUARE_BRACKET) {
                this.state = CDATA_SECTION_END_STATE;
            }
            else {
                this._emitChars(']');
                this._reconsumeInState(CDATA_SECTION_STATE);
            }
        };
        // CDATA section end state
        //------------------------------------------------------------------
        Tokenizer.prototype[CDATA_SECTION_END_STATE] = function (cp) {
            if (cp === $$4.GREATER_THAN_SIGN) {
                this.state = DATA_STATE;
            }
            else if (cp === $$4.RIGHT_SQUARE_BRACKET) {
                this._emitChars(']');
            }
            else {
                this._emitChars(']]');
                this._reconsumeInState(CDATA_SECTION_STATE);
            }
        };
        // Character reference state
        //------------------------------------------------------------------
        Tokenizer.prototype[CHARACTER_REFERENCE_STATE] = function (cp) {
            this.tempBuff = [$$4.AMPERSAND];
            if (cp === $$4.NUMBER_SIGN) {
                this.tempBuff.push(cp);
                this.state = NUMERIC_CHARACTER_REFERENCE_STATE;
            }
            else if (isAsciiAlphaNumeric(cp)) {
                this._reconsumeInState(NAMED_CHARACTER_REFERENCE_STATE);
            }
            else {
                this._flushCodePointsConsumedAsCharacterReference();
                this._reconsumeInState(this.returnState);
            }
        };
        // Named character reference state
        //------------------------------------------------------------------
        Tokenizer.prototype[NAMED_CHARACTER_REFERENCE_STATE] = function (cp) {
            var matchResult = this._matchNamedCharacterReference(cp);
            //NOTE: matching can be abrupted by hibernation. In that case match
            //results are no longer valid and we will need to start over.
            if (this._ensureHibernation()) {
                this.tempBuff = [$$4.AMPERSAND];
            }
            else if (matchResult) {
                var withSemicolon = this.tempBuff[this.tempBuff.length - 1] === $$4.SEMICOLON;
                if (!this._isCharacterReferenceAttributeQuirk(withSemicolon)) {
                    if (!withSemicolon) {
                        this._errOnNextCodePoint(errorCodes.missingSemicolonAfterCharacterReference);
                    }
                    this.tempBuff = matchResult;
                }
                this._flushCodePointsConsumedAsCharacterReference();
                this.state = this.returnState;
            }
            else {
                this._flushCodePointsConsumedAsCharacterReference();
                this.state = AMBIGUOUS_AMPERSAND_STATE;
            }
        };
        // Ambiguos ampersand state
        //------------------------------------------------------------------
        Tokenizer.prototype[AMBIGUOUS_AMPERSAND_STATE] = function (cp) {
            if (isAsciiAlphaNumeric(cp)) {
                if (this._isCharacterReferenceInAttribute()) {
                    this.currentAttr.value += toChar(cp);
                }
                else {
                    this._emitCodePoint(cp);
                }
            }
            else {
                if (cp === $$4.SEMICOLON) {
                    this._err(errorCodes.unknownNamedCharacterReference);
                }
                this._reconsumeInState(this.returnState);
            }
        };
        // Numeric character reference state
        //------------------------------------------------------------------
        Tokenizer.prototype[NUMERIC_CHARACTER_REFERENCE_STATE] = function (cp) {
            this.charRefCode = 0;
            if (cp === $$4.LATIN_SMALL_X || cp === $$4.LATIN_CAPITAL_X) {
                this.tempBuff.push(cp);
                this.state = HEXADEMICAL_CHARACTER_REFERENCE_START_STATE;
            }
            else {
                this._reconsumeInState(DECIMAL_CHARACTER_REFERENCE_START_STATE);
            }
        };
        // Hexademical character reference start state
        //------------------------------------------------------------------
        Tokenizer.prototype[HEXADEMICAL_CHARACTER_REFERENCE_START_STATE] = function (cp) {
            if (isAsciiHexDigit(cp)) {
                this._reconsumeInState(HEXADEMICAL_CHARACTER_REFERENCE_STATE);
            }
            else {
                this._err(errorCodes.absenceOfDigitsInNumericCharacterReference);
                this._flushCodePointsConsumedAsCharacterReference();
                this._reconsumeInState(this.returnState);
            }
        };
        // Decimal character reference start state
        //------------------------------------------------------------------
        Tokenizer.prototype[DECIMAL_CHARACTER_REFERENCE_START_STATE] = function (cp) {
            if (isAsciiDigit(cp)) {
                this._reconsumeInState(DECIMAL_CHARACTER_REFERENCE_STATE);
            }
            else {
                this._err(errorCodes.absenceOfDigitsInNumericCharacterReference);
                this._flushCodePointsConsumedAsCharacterReference();
                this._reconsumeInState(this.returnState);
            }
        };
        // Hexademical character reference state
        //------------------------------------------------------------------
        Tokenizer.prototype[HEXADEMICAL_CHARACTER_REFERENCE_STATE] = function (cp) {
            if (isAsciiUpperHexDigit(cp)) {
                this.charRefCode = this.charRefCode * 16 + cp - 0x37;
            }
            else if (isAsciiLowerHexDigit(cp)) {
                this.charRefCode = this.charRefCode * 16 + cp - 0x57;
            }
            else if (isAsciiDigit(cp)) {
                this.charRefCode = this.charRefCode * 16 + cp - 0x30;
            }
            else if (cp === $$4.SEMICOLON) {
                this.state = NUMERIC_CHARACTER_REFERENCE_END_STATE;
            }
            else {
                this._err(errorCodes.missingSemicolonAfterCharacterReference);
                this._reconsumeInState(NUMERIC_CHARACTER_REFERENCE_END_STATE);
            }
        };
        // Decimal character reference state
        //------------------------------------------------------------------
        Tokenizer.prototype[DECIMAL_CHARACTER_REFERENCE_STATE] = function (cp) {
            if (isAsciiDigit(cp)) {
                this.charRefCode = this.charRefCode * 10 + cp - 0x30;
            }
            else if (cp === $$4.SEMICOLON) {
                this.state = NUMERIC_CHARACTER_REFERENCE_END_STATE;
            }
            else {
                this._err(errorCodes.missingSemicolonAfterCharacterReference);
                this._reconsumeInState(NUMERIC_CHARACTER_REFERENCE_END_STATE);
            }
        };
        // Numeric character reference end state
        //------------------------------------------------------------------
        Tokenizer.prototype[NUMERIC_CHARACTER_REFERENCE_END_STATE] = function () {
            if (this.charRefCode === $$4.NULL) {
                this._err(errorCodes.nullCharacterReference);
                this.charRefCode = $$4.REPLACEMENT_CHARACTER;
            }
            else if (this.charRefCode > 0x10ffff) {
                this._err(errorCodes.characterReferenceOutsideUnicodeRange);
                this.charRefCode = $$4.REPLACEMENT_CHARACTER;
            }
            else if (unicode.isSurrogate(this.charRefCode)) {
                this._err(errorCodes.surrogateCharacterReference);
                this.charRefCode = $$4.REPLACEMENT_CHARACTER;
            }
            else if (unicode.isUndefinedCodePoint(this.charRefCode)) {
                this._err(errorCodes.noncharacterCharacterReference);
            }
            else if (unicode.isControlCodePoint(this.charRefCode) || this.charRefCode === $$4.CARRIAGE_RETURN) {
                this._err(errorCodes.controlCharacterReference);
                var replacement = C1_CONTROLS_REFERENCE_REPLACEMENTS[this.charRefCode];
                if (replacement) {
                    this.charRefCode = replacement;
                }
            }
            this.tempBuff = [this.charRefCode];
            this._flushCodePointsConsumedAsCharacterReference();
            this._reconsumeInState(this.returnState);
        };
        return Tokenizer;
    }());
    //Token types
    Tokenizer.CHARACTER_TOKEN = 'CHARACTER_TOKEN';
    Tokenizer.NULL_CHARACTER_TOKEN = 'NULL_CHARACTER_TOKEN';
    Tokenizer.WHITESPACE_CHARACTER_TOKEN = 'WHITESPACE_CHARACTER_TOKEN';
    Tokenizer.START_TAG_TOKEN = 'START_TAG_TOKEN';
    Tokenizer.END_TAG_TOKEN = 'END_TAG_TOKEN';
    Tokenizer.COMMENT_TOKEN = 'COMMENT_TOKEN';
    Tokenizer.DOCTYPE_TOKEN = 'DOCTYPE_TOKEN';
    Tokenizer.EOF_TOKEN = 'EOF_TOKEN';
    Tokenizer.HIBERNATION_TOKEN = 'HIBERNATION_TOKEN';
    //Tokenizer initial states for different modes
    Tokenizer.MODE = {
        DATA: DATA_STATE,
        RCDATA: RCDATA_STATE,
        RAWTEXT: RAWTEXT_STATE,
        SCRIPT_DATA: SCRIPT_DATA_STATE,
        PLAINTEXT: PLAINTEXT_STATE
    };
    //Static
    Tokenizer.getTokenAttr = function (token, attrName) {
        for (var i = token.attrs.length - 1; i >= 0; i--) {
            if (token.attrs[i].name === attrName) {
                return token.attrs[i].value;
            }
        }
        return null;
    };
    var tokenizer = Tokenizer;

    var html = createCommonjsModule(function (module, exports) {
        'use strict';
        var _a, _b, _c, _d;
        var NS = (exports.NAMESPACES = {
            HTML: 'http://www.w3.org/1999/xhtml',
            MATHML: 'http://www.w3.org/1998/Math/MathML',
            SVG: 'http://www.w3.org/2000/svg',
            XLINK: 'http://www.w3.org/1999/xlink',
            XML: 'http://www.w3.org/XML/1998/namespace',
            XMLNS: 'http://www.w3.org/2000/xmlns/'
        });
        exports.ATTRS = {
            TYPE: 'type',
            ACTION: 'action',
            ENCODING: 'encoding',
            PROMPT: 'prompt',
            NAME: 'name',
            COLOR: 'color',
            FACE: 'face',
            SIZE: 'size'
        };
        exports.DOCUMENT_MODE = {
            NO_QUIRKS: 'no-quirks',
            QUIRKS: 'quirks',
            LIMITED_QUIRKS: 'limited-quirks'
        };
        var $ = (exports.TAG_NAMES = {
            A: 'a',
            ADDRESS: 'address',
            ANNOTATION_XML: 'annotation-xml',
            APPLET: 'applet',
            AREA: 'area',
            ARTICLE: 'article',
            ASIDE: 'aside',
            B: 'b',
            BASE: 'base',
            BASEFONT: 'basefont',
            BGSOUND: 'bgsound',
            BIG: 'big',
            BLOCKQUOTE: 'blockquote',
            BODY: 'body',
            BR: 'br',
            BUTTON: 'button',
            CAPTION: 'caption',
            CENTER: 'center',
            CODE: 'code',
            COL: 'col',
            COLGROUP: 'colgroup',
            DD: 'dd',
            DESC: 'desc',
            DETAILS: 'details',
            DIALOG: 'dialog',
            DIR: 'dir',
            DIV: 'div',
            DL: 'dl',
            DT: 'dt',
            EM: 'em',
            EMBED: 'embed',
            FIELDSET: 'fieldset',
            FIGCAPTION: 'figcaption',
            FIGURE: 'figure',
            FONT: 'font',
            FOOTER: 'footer',
            FOREIGN_OBJECT: 'foreignObject',
            FORM: 'form',
            FRAME: 'frame',
            FRAMESET: 'frameset',
            H1: 'h1',
            H2: 'h2',
            H3: 'h3',
            H4: 'h4',
            H5: 'h5',
            H6: 'h6',
            HEAD: 'head',
            HEADER: 'header',
            HGROUP: 'hgroup',
            HR: 'hr',
            HTML: 'html',
            I: 'i',
            IMG: 'img',
            IMAGE: 'image',
            INPUT: 'input',
            IFRAME: 'iframe',
            KEYGEN: 'keygen',
            LABEL: 'label',
            LI: 'li',
            LINK: 'link',
            LISTING: 'listing',
            MAIN: 'main',
            MALIGNMARK: 'malignmark',
            MARQUEE: 'marquee',
            MATH: 'math',
            MENU: 'menu',
            META: 'meta',
            MGLYPH: 'mglyph',
            MI: 'mi',
            MO: 'mo',
            MN: 'mn',
            MS: 'ms',
            MTEXT: 'mtext',
            NAV: 'nav',
            NOBR: 'nobr',
            NOFRAMES: 'noframes',
            NOEMBED: 'noembed',
            NOSCRIPT: 'noscript',
            OBJECT: 'object',
            OL: 'ol',
            OPTGROUP: 'optgroup',
            OPTION: 'option',
            P: 'p',
            PARAM: 'param',
            PLAINTEXT: 'plaintext',
            PRE: 'pre',
            RB: 'rb',
            RP: 'rp',
            RT: 'rt',
            RTC: 'rtc',
            RUBY: 'ruby',
            S: 's',
            SCRIPT: 'script',
            SECTION: 'section',
            SELECT: 'select',
            SOURCE: 'source',
            SMALL: 'small',
            SPAN: 'span',
            STRIKE: 'strike',
            STRONG: 'strong',
            STYLE: 'style',
            SUB: 'sub',
            SUMMARY: 'summary',
            SUP: 'sup',
            TABLE: 'table',
            TBODY: 'tbody',
            TEMPLATE: 'template',
            TEXTAREA: 'textarea',
            TFOOT: 'tfoot',
            TD: 'td',
            TH: 'th',
            THEAD: 'thead',
            TITLE: 'title',
            TR: 'tr',
            TRACK: 'track',
            TT: 'tt',
            U: 'u',
            UL: 'ul',
            SVG: 'svg',
            VAR: 'var',
            WBR: 'wbr',
            XMP: 'xmp'
        });
        exports.SPECIAL_ELEMENTS = (_a = {},
            _a[NS.HTML] = (_b = {},
                _b[$.ADDRESS] = true,
                _b[$.APPLET] = true,
                _b[$.AREA] = true,
                _b[$.ARTICLE] = true,
                _b[$.ASIDE] = true,
                _b[$.BASE] = true,
                _b[$.BASEFONT] = true,
                _b[$.BGSOUND] = true,
                _b[$.BLOCKQUOTE] = true,
                _b[$.BODY] = true,
                _b[$.BR] = true,
                _b[$.BUTTON] = true,
                _b[$.CAPTION] = true,
                _b[$.CENTER] = true,
                _b[$.COL] = true,
                _b[$.COLGROUP] = true,
                _b[$.DD] = true,
                _b[$.DETAILS] = true,
                _b[$.DIR] = true,
                _b[$.DIV] = true,
                _b[$.DL] = true,
                _b[$.DT] = true,
                _b[$.EMBED] = true,
                _b[$.FIELDSET] = true,
                _b[$.FIGCAPTION] = true,
                _b[$.FIGURE] = true,
                _b[$.FOOTER] = true,
                _b[$.FORM] = true,
                _b[$.FRAME] = true,
                _b[$.FRAMESET] = true,
                _b[$.H1] = true,
                _b[$.H2] = true,
                _b[$.H3] = true,
                _b[$.H4] = true,
                _b[$.H5] = true,
                _b[$.H6] = true,
                _b[$.HEAD] = true,
                _b[$.HEADER] = true,
                _b[$.HGROUP] = true,
                _b[$.HR] = true,
                _b[$.HTML] = true,
                _b[$.IFRAME] = true,
                _b[$.IMG] = true,
                _b[$.INPUT] = true,
                _b[$.LI] = true,
                _b[$.LINK] = true,
                _b[$.LISTING] = true,
                _b[$.MAIN] = true,
                _b[$.MARQUEE] = true,
                _b[$.MENU] = true,
                _b[$.META] = true,
                _b[$.NAV] = true,
                _b[$.NOEMBED] = true,
                _b[$.NOFRAMES] = true,
                _b[$.NOSCRIPT] = true,
                _b[$.OBJECT] = true,
                _b[$.OL] = true,
                _b[$.P] = true,
                _b[$.PARAM] = true,
                _b[$.PLAINTEXT] = true,
                _b[$.PRE] = true,
                _b[$.SCRIPT] = true,
                _b[$.SECTION] = true,
                _b[$.SELECT] = true,
                _b[$.SOURCE] = true,
                _b[$.STYLE] = true,
                _b[$.SUMMARY] = true,
                _b[$.TABLE] = true,
                _b[$.TBODY] = true,
                _b[$.TD] = true,
                _b[$.TEMPLATE] = true,
                _b[$.TEXTAREA] = true,
                _b[$.TFOOT] = true,
                _b[$.TH] = true,
                _b[$.THEAD] = true,
                _b[$.TITLE] = true,
                _b[$.TR] = true,
                _b[$.TRACK] = true,
                _b[$.UL] = true,
                _b[$.WBR] = true,
                _b[$.XMP] = true,
                _b),
            _a[NS.MATHML] = (_c = {},
                _c[$.MI] = true,
                _c[$.MO] = true,
                _c[$.MN] = true,
                _c[$.MS] = true,
                _c[$.MTEXT] = true,
                _c[$.ANNOTATION_XML] = true,
                _c),
            _a[NS.SVG] = (_d = {},
                _d[$.TITLE] = true,
                _d[$.FOREIGN_OBJECT] = true,
                _d[$.DESC] = true,
                _d),
            _a);
    });
    var html_1 = html.NAMESPACES;
    var html_2 = html.ATTRS;
    var html_3 = html.DOCUMENT_MODE;
    var html_4 = html.TAG_NAMES;
    var html_5 = html.SPECIAL_ELEMENTS;

    'use strict';
    //Aliases
    var $$3 = html.TAG_NAMES;
    var NS$2 = html.NAMESPACES;
    //Element utils
    //OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.
    //It's faster than using dictionary.
    function isImpliedEndTagRequired(tn) {
        switch (tn.length) {
            case 1:
                return tn === $$3.P;
            case 2:
                return tn === $$3.RB || tn === $$3.RP || tn === $$3.RT || tn === $$3.DD || tn === $$3.DT || tn === $$3.LI;
            case 3:
                return tn === $$3.RTC;
            case 6:
                return tn === $$3.OPTION;
            case 8:
                return tn === $$3.OPTGROUP;
        }
        return false;
    }
    function isImpliedEndTagRequiredThoroughly(tn) {
        switch (tn.length) {
            case 1:
                return tn === $$3.P;
            case 2:
                return (tn === $$3.RB ||
                    tn === $$3.RP ||
                    tn === $$3.RT ||
                    tn === $$3.DD ||
                    tn === $$3.DT ||
                    tn === $$3.LI ||
                    tn === $$3.TD ||
                    tn === $$3.TH ||
                    tn === $$3.TR);
            case 3:
                return tn === $$3.RTC;
            case 5:
                return tn === $$3.TBODY || tn === $$3.TFOOT || tn === $$3.THEAD;
            case 6:
                return tn === $$3.OPTION;
            case 7:
                return tn === $$3.CAPTION;
            case 8:
                return tn === $$3.OPTGROUP || tn === $$3.COLGROUP;
        }
        return false;
    }
    function isScopingElement(tn, ns) {
        switch (tn.length) {
            case 2:
                if (tn === $$3.TD || tn === $$3.TH) {
                    return ns === NS$2.HTML;
                }
                else if (tn === $$3.MI || tn === $$3.MO || tn === $$3.MN || tn === $$3.MS) {
                    return ns === NS$2.MATHML;
                }
                break;
            case 4:
                if (tn === $$3.HTML) {
                    return ns === NS$2.HTML;
                }
                else if (tn === $$3.DESC) {
                    return ns === NS$2.SVG;
                }
                break;
            case 5:
                if (tn === $$3.TABLE) {
                    return ns === NS$2.HTML;
                }
                else if (tn === $$3.MTEXT) {
                    return ns === NS$2.MATHML;
                }
                else if (tn === $$3.TITLE) {
                    return ns === NS$2.SVG;
                }
                break;
            case 6:
                return (tn === $$3.APPLET || tn === $$3.OBJECT) && ns === NS$2.HTML;
            case 7:
                return (tn === $$3.CAPTION || tn === $$3.MARQUEE) && ns === NS$2.HTML;
            case 8:
                return tn === $$3.TEMPLATE && ns === NS$2.HTML;
            case 13:
                return tn === $$3.FOREIGN_OBJECT && ns === NS$2.SVG;
            case 14:
                return tn === $$3.ANNOTATION_XML && ns === NS$2.MATHML;
        }
        return false;
    }
    //Stack of open elements
    var OpenElementStack = /** @class */ (function () {
        function OpenElementStack(document, treeAdapter) {
            this.stackTop = -1;
            this.items = [];
            this.current = document;
            this.currentTagName = null;
            this.currentTmplContent = null;
            this.tmplCount = 0;
            this.treeAdapter = treeAdapter;
        }
        //Index of element
        OpenElementStack.prototype._indexOf = function (element) {
            var idx = -1;
            for (var i = this.stackTop; i >= 0; i--) {
                if (this.items[i] === element) {
                    idx = i;
                    break;
                }
            }
            return idx;
        };
        //Update current element
        OpenElementStack.prototype._isInTemplate = function () {
            return this.currentTagName === $$3.TEMPLATE && this.treeAdapter.getNamespaceURI(this.current) === NS$2.HTML;
        };
        OpenElementStack.prototype._updateCurrentElement = function () {
            this.current = this.items[this.stackTop];
            this.currentTagName = this.current && this.treeAdapter.getTagName(this.current);
            this.currentTmplContent = this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : null;
        };
        //Mutations
        OpenElementStack.prototype.push = function (element) {
            this.items[++this.stackTop] = element;
            this._updateCurrentElement();
            if (this._isInTemplate()) {
                this.tmplCount++;
            }
        };
        OpenElementStack.prototype.pop = function () {
            this.stackTop--;
            if (this.tmplCount > 0 && this._isInTemplate()) {
                this.tmplCount--;
            }
            this._updateCurrentElement();
        };
        OpenElementStack.prototype.replace = function (oldElement, newElement) {
            var idx = this._indexOf(oldElement);
            this.items[idx] = newElement;
            if (idx === this.stackTop) {
                this._updateCurrentElement();
            }
        };
        OpenElementStack.prototype.insertAfter = function (referenceElement, newElement) {
            var insertionIdx = this._indexOf(referenceElement) + 1;
            this.items.splice(insertionIdx, 0, newElement);
            if (insertionIdx === ++this.stackTop) {
                this._updateCurrentElement();
            }
        };
        OpenElementStack.prototype.popUntilTagNamePopped = function (tagName) {
            while (this.stackTop > -1) {
                var tn = this.currentTagName;
                var ns = this.treeAdapter.getNamespaceURI(this.current);
                this.pop();
                if (tn === tagName && ns === NS$2.HTML) {
                    break;
                }
            }
        };
        OpenElementStack.prototype.popUntilElementPopped = function (element) {
            while (this.stackTop > -1) {
                var poppedElement = this.current;
                this.pop();
                if (poppedElement === element) {
                    break;
                }
            }
        };
        OpenElementStack.prototype.popUntilNumberedHeaderPopped = function () {
            while (this.stackTop > -1) {
                var tn = this.currentTagName;
                var ns = this.treeAdapter.getNamespaceURI(this.current);
                this.pop();
                if (tn === $$3.H1 ||
                    tn === $$3.H2 ||
                    tn === $$3.H3 ||
                    tn === $$3.H4 ||
                    tn === $$3.H5 ||
                    (tn === $$3.H6 && ns === NS$2.HTML)) {
                    break;
                }
            }
        };
        OpenElementStack.prototype.popUntilTableCellPopped = function () {
            while (this.stackTop > -1) {
                var tn = this.currentTagName;
                var ns = this.treeAdapter.getNamespaceURI(this.current);
                this.pop();
                if (tn === $$3.TD || (tn === $$3.TH && ns === NS$2.HTML)) {
                    break;
                }
            }
        };
        OpenElementStack.prototype.popAllUpToHtmlElement = function () {
            //NOTE: here we assume that root <html> element is always first in the open element stack, so
            //we perform this fast stack clean up.
            this.stackTop = 0;
            this._updateCurrentElement();
        };
        OpenElementStack.prototype.clearBackToTableContext = function () {
            while ((this.currentTagName !== $$3.TABLE && this.currentTagName !== $$3.TEMPLATE && this.currentTagName !== $$3.HTML) ||
                this.treeAdapter.getNamespaceURI(this.current) !== NS$2.HTML) {
                this.pop();
            }
        };
        OpenElementStack.prototype.clearBackToTableBodyContext = function () {
            while ((this.currentTagName !== $$3.TBODY &&
                this.currentTagName !== $$3.TFOOT &&
                this.currentTagName !== $$3.THEAD &&
                this.currentTagName !== $$3.TEMPLATE &&
                this.currentTagName !== $$3.HTML) ||
                this.treeAdapter.getNamespaceURI(this.current) !== NS$2.HTML) {
                this.pop();
            }
        };
        OpenElementStack.prototype.clearBackToTableRowContext = function () {
            while ((this.currentTagName !== $$3.TR && this.currentTagName !== $$3.TEMPLATE && this.currentTagName !== $$3.HTML) ||
                this.treeAdapter.getNamespaceURI(this.current) !== NS$2.HTML) {
                this.pop();
            }
        };
        OpenElementStack.prototype.remove = function (element) {
            for (var i = this.stackTop; i >= 0; i--) {
                if (this.items[i] === element) {
                    this.items.splice(i, 1);
                    this.stackTop--;
                    this._updateCurrentElement();
                    break;
                }
            }
        };
        //Search
        OpenElementStack.prototype.tryPeekProperlyNestedBodyElement = function () {
            //Properly nested <body> element (should be second element in stack).
            var element = this.items[1];
            return element && this.treeAdapter.getTagName(element) === $$3.BODY ? element : null;
        };
        OpenElementStack.prototype.contains = function (element) {
            return this._indexOf(element) > -1;
        };
        OpenElementStack.prototype.getCommonAncestor = function (element) {
            var elementIdx = this._indexOf(element);
            return --elementIdx >= 0 ? this.items[elementIdx] : null;
        };
        OpenElementStack.prototype.isRootHtmlElementCurrent = function () {
            return this.stackTop === 0 && this.currentTagName === $$3.HTML;
        };
        //Element in scope
        OpenElementStack.prototype.hasInScope = function (tagName) {
            for (var i = this.stackTop; i >= 0; i--) {
                var tn = this.treeAdapter.getTagName(this.items[i]);
                var ns = this.treeAdapter.getNamespaceURI(this.items[i]);
                if (tn === tagName && ns === NS$2.HTML) {
                    return true;
                }
                if (isScopingElement(tn, ns)) {
                    return false;
                }
            }
            return true;
        };
        OpenElementStack.prototype.hasNumberedHeaderInScope = function () {
            for (var i = this.stackTop; i >= 0; i--) {
                var tn = this.treeAdapter.getTagName(this.items[i]);
                var ns = this.treeAdapter.getNamespaceURI(this.items[i]);
                if ((tn === $$3.H1 || tn === $$3.H2 || tn === $$3.H3 || tn === $$3.H4 || tn === $$3.H5 || tn === $$3.H6) &&
                    ns === NS$2.HTML) {
                    return true;
                }
                if (isScopingElement(tn, ns)) {
                    return false;
                }
            }
            return true;
        };
        OpenElementStack.prototype.hasInListItemScope = function (tagName) {
            for (var i = this.stackTop; i >= 0; i--) {
                var tn = this.treeAdapter.getTagName(this.items[i]);
                var ns = this.treeAdapter.getNamespaceURI(this.items[i]);
                if (tn === tagName && ns === NS$2.HTML) {
                    return true;
                }
                if (((tn === $$3.UL || tn === $$3.OL) && ns === NS$2.HTML) || isScopingElement(tn, ns)) {
                    return false;
                }
            }
            return true;
        };
        OpenElementStack.prototype.hasInButtonScope = function (tagName) {
            for (var i = this.stackTop; i >= 0; i--) {
                var tn = this.treeAdapter.getTagName(this.items[i]);
                var ns = this.treeAdapter.getNamespaceURI(this.items[i]);
                if (tn === tagName && ns === NS$2.HTML) {
                    return true;
                }
                if ((tn === $$3.BUTTON && ns === NS$2.HTML) || isScopingElement(tn, ns)) {
                    return false;
                }
            }
            return true;
        };
        OpenElementStack.prototype.hasInTableScope = function (tagName) {
            for (var i = this.stackTop; i >= 0; i--) {
                var tn = this.treeAdapter.getTagName(this.items[i]);
                var ns = this.treeAdapter.getNamespaceURI(this.items[i]);
                if (ns !== NS$2.HTML) {
                    continue;
                }
                if (tn === tagName) {
                    return true;
                }
                if (tn === $$3.TABLE || tn === $$3.TEMPLATE || tn === $$3.HTML) {
                    return false;
                }
            }
            return true;
        };
        OpenElementStack.prototype.hasTableBodyContextInTableScope = function () {
            for (var i = this.stackTop; i >= 0; i--) {
                var tn = this.treeAdapter.getTagName(this.items[i]);
                var ns = this.treeAdapter.getNamespaceURI(this.items[i]);
                if (ns !== NS$2.HTML) {
                    continue;
                }
                if (tn === $$3.TBODY || tn === $$3.THEAD || tn === $$3.TFOOT) {
                    return true;
                }
                if (tn === $$3.TABLE || tn === $$3.HTML) {
                    return false;
                }
            }
            return true;
        };
        OpenElementStack.prototype.hasInSelectScope = function (tagName) {
            for (var i = this.stackTop; i >= 0; i--) {
                var tn = this.treeAdapter.getTagName(this.items[i]);
                var ns = this.treeAdapter.getNamespaceURI(this.items[i]);
                if (ns !== NS$2.HTML) {
                    continue;
                }
                if (tn === tagName) {
                    return true;
                }
                if (tn !== $$3.OPTION && tn !== $$3.OPTGROUP) {
                    return false;
                }
            }
            return true;
        };
        //Implied end tags
        OpenElementStack.prototype.generateImpliedEndTags = function () {
            while (isImpliedEndTagRequired(this.currentTagName)) {
                this.pop();
            }
        };
        OpenElementStack.prototype.generateImpliedEndTagsThoroughly = function () {
            while (isImpliedEndTagRequiredThoroughly(this.currentTagName)) {
                this.pop();
            }
        };
        OpenElementStack.prototype.generateImpliedEndTagsWithExclusion = function (exclusionTagName) {
            while (isImpliedEndTagRequired(this.currentTagName) && this.currentTagName !== exclusionTagName) {
                this.pop();
            }
        };
        return OpenElementStack;
    }());
    var openElementStack = OpenElementStack;

    'use strict';
    //Const
    var NOAH_ARK_CAPACITY = 3;
    //List of formatting elements
    var FormattingElementList = /** @class */ (function () {
        function FormattingElementList(treeAdapter) {
            this.length = 0;
            this.entries = [];
            this.treeAdapter = treeAdapter;
            this.bookmark = null;
        }
        //Noah Ark's condition
        //OPTIMIZATION: at first we try to find possible candidates for exclusion using
        //lightweight heuristics without thorough attributes check.
        FormattingElementList.prototype._getNoahArkConditionCandidates = function (newElement) {
            var candidates = [];
            if (this.length >= NOAH_ARK_CAPACITY) {
                var neAttrsLength = this.treeAdapter.getAttrList(newElement).length;
                var neTagName = this.treeAdapter.getTagName(newElement);
                var neNamespaceURI = this.treeAdapter.getNamespaceURI(newElement);
                for (var i = this.length - 1; i >= 0; i--) {
                    var entry = this.entries[i];
                    if (entry.type === FormattingElementList.MARKER_ENTRY) {
                        break;
                    }
                    var element = entry.element;
                    var elementAttrs = this.treeAdapter.getAttrList(element);
                    var isCandidate = this.treeAdapter.getTagName(element) === neTagName &&
                        this.treeAdapter.getNamespaceURI(element) === neNamespaceURI &&
                        elementAttrs.length === neAttrsLength;
                    if (isCandidate) {
                        candidates.push({ idx: i, attrs: elementAttrs });
                    }
                }
            }
            return candidates.length < NOAH_ARK_CAPACITY ? [] : candidates;
        };
        FormattingElementList.prototype._ensureNoahArkCondition = function (newElement) {
            var candidates = this._getNoahArkConditionCandidates(newElement);
            var cLength = candidates.length;
            if (cLength) {
                var neAttrs = this.treeAdapter.getAttrList(newElement);
                var neAttrsLength = neAttrs.length;
                var neAttrsMap = Object.create(null);
                //NOTE: build attrs map for the new element so we can perform fast lookups
                for (var i = 0; i < neAttrsLength; i++) {
                    var neAttr = neAttrs[i];
                    neAttrsMap[neAttr.name] = neAttr.value;
                }
                for (var i = 0; i < neAttrsLength; i++) {
                    for (var j = 0; j < cLength; j++) {
                        var cAttr = candidates[j].attrs[i];
                        if (neAttrsMap[cAttr.name] !== cAttr.value) {
                            candidates.splice(j, 1);
                            cLength--;
                        }
                        if (candidates.length < NOAH_ARK_CAPACITY) {
                            return;
                        }
                    }
                }
                //NOTE: remove bottommost candidates until Noah's Ark condition will not be met
                for (var i = cLength - 1; i >= NOAH_ARK_CAPACITY - 1; i--) {
                    this.entries.splice(candidates[i].idx, 1);
                    this.length--;
                }
            }
        };
        //Mutations
        FormattingElementList.prototype.insertMarker = function () {
            this.entries.push({ type: FormattingElementList.MARKER_ENTRY });
            this.length++;
        };
        FormattingElementList.prototype.pushElement = function (element, token) {
            this._ensureNoahArkCondition(element);
            this.entries.push({
                type: FormattingElementList.ELEMENT_ENTRY,
                element: element,
                token: token
            });
            this.length++;
        };
        FormattingElementList.prototype.insertElementAfterBookmark = function (element, token) {
            var bookmarkIdx = this.length - 1;
            for (; bookmarkIdx >= 0; bookmarkIdx--) {
                if (this.entries[bookmarkIdx] === this.bookmark) {
                    break;
                }
            }
            this.entries.splice(bookmarkIdx + 1, 0, {
                type: FormattingElementList.ELEMENT_ENTRY,
                element: element,
                token: token
            });
            this.length++;
        };
        FormattingElementList.prototype.removeEntry = function (entry) {
            for (var i = this.length - 1; i >= 0; i--) {
                if (this.entries[i] === entry) {
                    this.entries.splice(i, 1);
                    this.length--;
                    break;
                }
            }
        };
        FormattingElementList.prototype.clearToLastMarker = function () {
            while (this.length) {
                var entry = this.entries.pop();
                this.length--;
                if (entry.type === FormattingElementList.MARKER_ENTRY) {
                    break;
                }
            }
        };
        //Search
        FormattingElementList.prototype.getElementEntryInScopeWithTagName = function (tagName) {
            for (var i = this.length - 1; i >= 0; i--) {
                var entry = this.entries[i];
                if (entry.type === FormattingElementList.MARKER_ENTRY) {
                    return null;
                }
                if (this.treeAdapter.getTagName(entry.element) === tagName) {
                    return entry;
                }
            }
            return null;
        };
        FormattingElementList.prototype.getElementEntry = function (element) {
            for (var i = this.length - 1; i >= 0; i--) {
                var entry = this.entries[i];
                if (entry.type === FormattingElementList.ELEMENT_ENTRY && entry.element === element) {
                    return entry;
                }
            }
            return null;
        };
        return FormattingElementList;
    }());
    //Entry types
    FormattingElementList.MARKER_ENTRY = 'MARKER_ENTRY';
    FormattingElementList.ELEMENT_ENTRY = 'ELEMENT_ENTRY';
    var formattingElementList = FormattingElementList;

    'use strict';
    var Mixin = /** @class */ (function () {
        function Mixin(host) {
            var e_1, _a;
            var originalMethods = {};
            var overriddenMethods = this._getOverriddenMethods(this, originalMethods);
            try {
                for (var _b = __values(Object.keys(overriddenMethods)), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var key = _c.value;
                    if (typeof overriddenMethods[key] === 'function') {
                        originalMethods[key] = host[key];
                        host[key] = overriddenMethods[key];
                    }
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        Mixin.prototype._getOverriddenMethods = function () {
            throw new Error('Not implemented');
        };
        return Mixin;
    }());
    Mixin.install = function (host, Ctor, opts) {
        if (!host.__mixins) {
            host.__mixins = [];
        }
        for (var i = 0; i < host.__mixins.length; i++) {
            if (host.__mixins[i].constructor === Ctor) {
                return host.__mixins[i];
            }
        }
        var mixin = new Ctor(host, opts);
        host.__mixins.push(mixin);
        return mixin;
    };
    var mixin = Mixin;

    'use strict';
    var PositionTrackingPreprocessorMixin = /** @class */ (function (_super) {
        __extends(PositionTrackingPreprocessorMixin, _super);
        function PositionTrackingPreprocessorMixin(preprocessor) {
            var _this = _super.call(this, preprocessor) || this;
            _this.preprocessor = preprocessor;
            _this.isEol = false;
            _this.lineStartPos = 0;
            _this.droppedBufferSize = 0;
            _this.offset = 0;
            _this.col = 0;
            _this.line = 1;
            return _this;
        }
        PositionTrackingPreprocessorMixin.prototype._getOverriddenMethods = function (mxn, orig) {
            return {
                advance: function () {
                    var pos = this.pos + 1;
                    var ch = this.html[pos];
                    //NOTE: LF should be in the last column of the line
                    if (mxn.isEol) {
                        mxn.isEol = false;
                        mxn.line++;
                        mxn.lineStartPos = pos;
                    }
                    if (ch === '\n' || (ch === '\r' && this.html[pos + 1] !== '\n')) {
                        mxn.isEol = true;
                    }
                    mxn.col = pos - mxn.lineStartPos + 1;
                    mxn.offset = mxn.droppedBufferSize + pos;
                    return orig.advance.call(this);
                },
                retreat: function () {
                    orig.retreat.call(this);
                    mxn.isEol = false;
                    mxn.col = this.pos - mxn.lineStartPos + 1;
                },
                dropParsedChunk: function () {
                    var prevPos = this.pos;
                    orig.dropParsedChunk.call(this);
                    var reduction = prevPos - this.pos;
                    mxn.lineStartPos -= reduction;
                    mxn.droppedBufferSize += reduction;
                    mxn.offset = mxn.droppedBufferSize + this.pos;
                }
            };
        };
        return PositionTrackingPreprocessorMixin;
    }(mixin));
    var preprocessorMixin$1 = PositionTrackingPreprocessorMixin;

    'use strict';
    var LocationInfoTokenizerMixin = /** @class */ (function (_super) {
        __extends(LocationInfoTokenizerMixin, _super);
        function LocationInfoTokenizerMixin(tokenizer) {
            var _this = _super.call(this, tokenizer) || this;
            _this.tokenizer = tokenizer;
            _this.posTracker = mixin.install(tokenizer.preprocessor, preprocessorMixin$1);
            _this.currentAttrLocation = null;
            _this.ctLoc = null;
            return _this;
        }
        LocationInfoTokenizerMixin.prototype._getCurrentLocation = function () {
            return {
                startLine: this.posTracker.line,
                startCol: this.posTracker.col,
                startOffset: this.posTracker.offset,
                endLine: -1,
                endCol: -1,
                endOffset: -1
            };
        };
        LocationInfoTokenizerMixin.prototype._attachCurrentAttrLocationInfo = function () {
            this.currentAttrLocation.endLine = this.posTracker.line;
            this.currentAttrLocation.endCol = this.posTracker.col;
            this.currentAttrLocation.endOffset = this.posTracker.offset;
            var currentToken = this.tokenizer.currentToken;
            var currentAttr = this.tokenizer.currentAttr;
            if (!currentToken.location.attrs) {
                currentToken.location.attrs = Object.create(null);
            }
            currentToken.location.attrs[currentAttr.name] = this.currentAttrLocation;
        };
        LocationInfoTokenizerMixin.prototype._getOverriddenMethods = function (mxn, orig) {
            var methods = {
                _createStartTagToken: function () {
                    orig._createStartTagToken.call(this);
                    this.currentToken.location = mxn.ctLoc;
                },
                _createEndTagToken: function () {
                    orig._createEndTagToken.call(this);
                    this.currentToken.location = mxn.ctLoc;
                },
                _createCommentToken: function () {
                    orig._createCommentToken.call(this);
                    this.currentToken.location = mxn.ctLoc;
                },
                _createDoctypeToken: function (initialName) {
                    orig._createDoctypeToken.call(this, initialName);
                    this.currentToken.location = mxn.ctLoc;
                },
                _createCharacterToken: function (type, ch) {
                    orig._createCharacterToken.call(this, type, ch);
                    this.currentCharacterToken.location = mxn.ctLoc;
                },
                _createEOFToken: function () {
                    orig._createEOFToken.call(this);
                    this.currentToken.location = mxn._getCurrentLocation();
                },
                _createAttr: function (attrNameFirstCh) {
                    orig._createAttr.call(this, attrNameFirstCh);
                    mxn.currentAttrLocation = mxn._getCurrentLocation();
                },
                _leaveAttrName: function (toState) {
                    orig._leaveAttrName.call(this, toState);
                    mxn._attachCurrentAttrLocationInfo();
                },
                _leaveAttrValue: function (toState) {
                    orig._leaveAttrValue.call(this, toState);
                    mxn._attachCurrentAttrLocationInfo();
                },
                _emitCurrentToken: function () {
                    var ctLoc = this.currentToken.location;
                    //NOTE: if we have pending character token make it's end location equal to the
                    //current token's start location.
                    if (this.currentCharacterToken) {
                        this.currentCharacterToken.location.endLine = ctLoc.startLine;
                        this.currentCharacterToken.location.endCol = ctLoc.startCol;
                        this.currentCharacterToken.location.endOffset = ctLoc.startOffset;
                    }
                    if (this.currentToken.type === tokenizer.EOF_TOKEN) {
                        ctLoc.endLine = ctLoc.startLine;
                        ctLoc.endCol = ctLoc.startCol;
                        ctLoc.endOffset = ctLoc.startOffset;
                    }
                    else {
                        ctLoc.endLine = mxn.posTracker.line;
                        ctLoc.endCol = mxn.posTracker.col + 1;
                        ctLoc.endOffset = mxn.posTracker.offset + 1;
                    }
                    orig._emitCurrentToken.call(this);
                },
                _emitCurrentCharacterToken: function () {
                    var ctLoc = this.currentCharacterToken && this.currentCharacterToken.location;
                    //NOTE: if we have character token and it's location wasn't set in the _emitCurrentToken(),
                    //then set it's location at the current preprocessor position.
                    //We don't need to increment preprocessor position, since character token
                    //emission is always forced by the start of the next character token here.
                    //So, we already have advanced position.
                    if (ctLoc && ctLoc.endOffset === -1) {
                        ctLoc.endLine = mxn.posTracker.line;
                        ctLoc.endCol = mxn.posTracker.col;
                        ctLoc.endOffset = mxn.posTracker.offset;
                    }
                    orig._emitCurrentCharacterToken.call(this);
                }
            };
            //NOTE: patch initial states for each mode to obtain token start position
            Object.keys(tokenizer.MODE).forEach(function (modeName) {
                var state = tokenizer.MODE[modeName];
                methods[state] = function (cp) {
                    mxn.ctLoc = mxn._getCurrentLocation();
                    orig[state].call(this, cp);
                };
            });
            return methods;
        };
        return LocationInfoTokenizerMixin;
    }(mixin));
    var tokenizerMixin$1 = LocationInfoTokenizerMixin;

    'use strict';
    var LocationInfoOpenElementStackMixin = /** @class */ (function (_super) {
        __extends(LocationInfoOpenElementStackMixin, _super);
        function LocationInfoOpenElementStackMixin(stack, opts) {
            var _this = _super.call(this, stack) || this;
            _this.onItemPop = opts.onItemPop;
            return _this;
        }
        LocationInfoOpenElementStackMixin.prototype._getOverriddenMethods = function (mxn, orig) {
            return {
                pop: function () {
                    mxn.onItemPop(this.current);
                    orig.pop.call(this);
                },
                popAllUpToHtmlElement: function () {
                    for (var i = this.stackTop; i > 0; i--) {
                        mxn.onItemPop(this.items[i]);
                    }
                    orig.popAllUpToHtmlElement.call(this);
                },
                remove: function (element) {
                    mxn.onItemPop(this.current);
                    orig.remove.call(this, element);
                }
            };
        };
        return LocationInfoOpenElementStackMixin;
    }(mixin));
    var openElementStackMixin = LocationInfoOpenElementStackMixin;

    'use strict';
    //Aliases
    var $$2 = html.TAG_NAMES;
    var LocationInfoParserMixin = /** @class */ (function (_super) {
        __extends(LocationInfoParserMixin, _super);
        function LocationInfoParserMixin(parser) {
            var _this = _super.call(this, parser) || this;
            _this.parser = parser;
            _this.treeAdapter = _this.parser.treeAdapter;
            _this.posTracker = null;
            _this.lastStartTagToken = null;
            _this.lastFosterParentingLocation = null;
            _this.currentToken = null;
            return _this;
        }
        LocationInfoParserMixin.prototype._setStartLocation = function (element) {
            var loc = null;
            if (this.lastStartTagToken) {
                loc = Object.assign({}, this.lastStartTagToken.location);
                loc.startTag = this.lastStartTagToken.location;
            }
            this.treeAdapter.setNodeSourceCodeLocation(element, loc);
        };
        LocationInfoParserMixin.prototype._setEndLocation = function (element, closingToken) {
            var loc = this.treeAdapter.getNodeSourceCodeLocation(element);
            if (loc) {
                if (closingToken.location) {
                    var ctLoc = closingToken.location;
                    var tn = this.treeAdapter.getTagName(element);
                    // NOTE: For cases like <p> <p> </p> - First 'p' closes without a closing
                    // tag and for cases like <td> <p> </td> - 'p' closes without a closing tag.
                    var isClosingEndTag = closingToken.type === tokenizer.END_TAG_TOKEN && tn === closingToken.tagName;
                    var endLoc = {};
                    if (isClosingEndTag) {
                        endLoc.endTag = Object.assign({}, ctLoc);
                        endLoc.endLine = ctLoc.endLine;
                        endLoc.endCol = ctLoc.endCol;
                        endLoc.endOffset = ctLoc.endOffset;
                    }
                    else {
                        endLoc.endLine = ctLoc.startLine;
                        endLoc.endCol = ctLoc.startCol;
                        endLoc.endOffset = ctLoc.startOffset;
                    }
                    this.treeAdapter.updateNodeSourceCodeLocation(element, endLoc);
                }
            }
        };
        LocationInfoParserMixin.prototype._getOverriddenMethods = function (mxn, orig) {
            return {
                _bootstrap: function (document, fragmentContext) {
                    orig._bootstrap.call(this, document, fragmentContext);
                    mxn.lastStartTagToken = null;
                    mxn.lastFosterParentingLocation = null;
                    mxn.currentToken = null;
                    var tokenizerMixin = mixin.install(this.tokenizer, tokenizerMixin$1);
                    mxn.posTracker = tokenizerMixin.posTracker;
                    mixin.install(this.openElements, openElementStackMixin, {
                        onItemPop: function (element) {
                            mxn._setEndLocation(element, mxn.currentToken);
                        }
                    });
                },
                _runParsingLoop: function (scriptHandler) {
                    orig._runParsingLoop.call(this, scriptHandler);
                    // NOTE: generate location info for elements
                    // that remains on open element stack
                    for (var i = this.openElements.stackTop; i >= 0; i--) {
                        mxn._setEndLocation(this.openElements.items[i], mxn.currentToken);
                    }
                },
                //Token processing
                _processTokenInForeignContent: function (token) {
                    mxn.currentToken = token;
                    orig._processTokenInForeignContent.call(this, token);
                },
                _processToken: function (token) {
                    mxn.currentToken = token;
                    orig._processToken.call(this, token);
                    //NOTE: <body> and <html> are never popped from the stack, so we need to updated
                    //their end location explicitly.
                    var requireExplicitUpdate = token.type === tokenizer.END_TAG_TOKEN &&
                        (token.tagName === $$2.HTML || (token.tagName === $$2.BODY && this.openElements.hasInScope($$2.BODY)));
                    if (requireExplicitUpdate) {
                        for (var i = this.openElements.stackTop; i >= 0; i--) {
                            var element = this.openElements.items[i];
                            if (this.treeAdapter.getTagName(element) === token.tagName) {
                                mxn._setEndLocation(element, token);
                                break;
                            }
                        }
                    }
                },
                //Doctype
                _setDocumentType: function (token) {
                    orig._setDocumentType.call(this, token);
                    var documentChildren = this.treeAdapter.getChildNodes(this.document);
                    var cnLength = documentChildren.length;
                    for (var i = 0; i < cnLength; i++) {
                        var node = documentChildren[i];
                        if (this.treeAdapter.isDocumentTypeNode(node)) {
                            this.treeAdapter.setNodeSourceCodeLocation(node, token.location);
                            break;
                        }
                    }
                },
                //Elements
                _attachElementToTree: function (element) {
                    //NOTE: _attachElementToTree is called from _appendElement, _insertElement and _insertTemplate methods.
                    //So we will use token location stored in this methods for the element.
                    mxn._setStartLocation(element);
                    mxn.lastStartTagToken = null;
                    orig._attachElementToTree.call(this, element);
                },
                _appendElement: function (token, namespaceURI) {
                    mxn.lastStartTagToken = token;
                    orig._appendElement.call(this, token, namespaceURI);
                },
                _insertElement: function (token, namespaceURI) {
                    mxn.lastStartTagToken = token;
                    orig._insertElement.call(this, token, namespaceURI);
                },
                _insertTemplate: function (token) {
                    mxn.lastStartTagToken = token;
                    orig._insertTemplate.call(this, token);
                    var tmplContent = this.treeAdapter.getTemplateContent(this.openElements.current);
                    this.treeAdapter.setNodeSourceCodeLocation(tmplContent, null);
                },
                _insertFakeRootElement: function () {
                    orig._insertFakeRootElement.call(this);
                    this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current, null);
                },
                //Comments
                _appendCommentNode: function (token, parent) {
                    orig._appendCommentNode.call(this, token, parent);
                    var children = this.treeAdapter.getChildNodes(parent);
                    var commentNode = children[children.length - 1];
                    this.treeAdapter.setNodeSourceCodeLocation(commentNode, token.location);
                },
                //Text
                _findFosterParentingLocation: function () {
                    //NOTE: store last foster parenting location, so we will be able to find inserted text
                    //in case of foster parenting
                    mxn.lastFosterParentingLocation = orig._findFosterParentingLocation.call(this);
                    return mxn.lastFosterParentingLocation;
                },
                _insertCharacters: function (token) {
                    orig._insertCharacters.call(this, token);
                    var hasFosterParent = this._shouldFosterParentOnInsertion();
                    var parent = (hasFosterParent && mxn.lastFosterParentingLocation.parent) ||
                        this.openElements.currentTmplContent ||
                        this.openElements.current;
                    var siblings = this.treeAdapter.getChildNodes(parent);
                    var textNodeIdx = hasFosterParent && mxn.lastFosterParentingLocation.beforeElement
                        ? siblings.indexOf(mxn.lastFosterParentingLocation.beforeElement) - 1
                        : siblings.length - 1;
                    var textNode = siblings[textNodeIdx];
                    //NOTE: if we have location assigned by another token, then just update end position
                    var tnLoc = this.treeAdapter.getNodeSourceCodeLocation(textNode);
                    if (tnLoc) {
                        var _a = token.location, endLine = _a.endLine, endCol = _a.endCol, endOffset = _a.endOffset;
                        this.treeAdapter.updateNodeSourceCodeLocation(textNode, { endLine: endLine, endCol: endCol, endOffset: endOffset });
                    }
                    else {
                        this.treeAdapter.setNodeSourceCodeLocation(textNode, token.location);
                    }
                }
            };
        };
        return LocationInfoParserMixin;
    }(mixin));
    var parserMixin$1 = LocationInfoParserMixin;

    'use strict';
    var ErrorReportingMixinBase = /** @class */ (function (_super) {
        __extends(ErrorReportingMixinBase, _super);
        function ErrorReportingMixinBase(host, opts) {
            var _this = _super.call(this, host) || this;
            _this.posTracker = null;
            _this.onParseError = opts.onParseError;
            return _this;
        }
        ErrorReportingMixinBase.prototype._setErrorLocation = function (err) {
            err.startLine = err.endLine = this.posTracker.line;
            err.startCol = err.endCol = this.posTracker.col;
            err.startOffset = err.endOffset = this.posTracker.offset;
        };
        ErrorReportingMixinBase.prototype._reportError = function (code) {
            var err = {
                code: code,
                startLine: -1,
                startCol: -1,
                startOffset: -1,
                endLine: -1,
                endCol: -1,
                endOffset: -1
            };
            this._setErrorLocation(err);
            this.onParseError(err);
        };
        ErrorReportingMixinBase.prototype._getOverriddenMethods = function (mxn) {
            return {
                _err: function (code) {
                    mxn._reportError(code);
                }
            };
        };
        return ErrorReportingMixinBase;
    }(mixin));
    var mixinBase = ErrorReportingMixinBase;

    'use strict';
    var ErrorReportingPreprocessorMixin = /** @class */ (function (_super) {
        __extends(ErrorReportingPreprocessorMixin, _super);
        function ErrorReportingPreprocessorMixin(preprocessor, opts) {
            var _this = _super.call(this, preprocessor, opts) || this;
            _this.posTracker = mixin.install(preprocessor, preprocessorMixin$1);
            _this.lastErrOffset = -1;
            return _this;
        }
        ErrorReportingPreprocessorMixin.prototype._reportError = function (code) {
            //NOTE: avoid reporting error twice on advance/retreat
            if (this.lastErrOffset !== this.posTracker.offset) {
                this.lastErrOffset = this.posTracker.offset;
                _super.prototype._reportError.call(this, code);
            }
        };
        return ErrorReportingPreprocessorMixin;
    }(mixinBase));
    var preprocessorMixin = ErrorReportingPreprocessorMixin;

    'use strict';
    var ErrorReportingTokenizerMixin = /** @class */ (function (_super) {
        __extends(ErrorReportingTokenizerMixin, _super);
        function ErrorReportingTokenizerMixin(tokenizer, opts) {
            var _this = _super.call(this, tokenizer, opts) || this;
            var preprocessorMixin$1 = mixin.install(tokenizer.preprocessor, preprocessorMixin, opts);
            _this.posTracker = preprocessorMixin$1.posTracker;
            return _this;
        }
        return ErrorReportingTokenizerMixin;
    }(mixinBase));
    var tokenizerMixin = ErrorReportingTokenizerMixin;

    'use strict';
    var ErrorReportingParserMixin = /** @class */ (function (_super) {
        __extends(ErrorReportingParserMixin, _super);
        function ErrorReportingParserMixin(parser, opts) {
            var _this = _super.call(this, parser, opts) || this;
            _this.opts = opts;
            _this.ctLoc = null;
            _this.locBeforeToken = false;
            return _this;
        }
        ErrorReportingParserMixin.prototype._setErrorLocation = function (err) {
            if (this.ctLoc) {
                err.startLine = this.ctLoc.startLine;
                err.startCol = this.ctLoc.startCol;
                err.startOffset = this.ctLoc.startOffset;
                err.endLine = this.locBeforeToken ? this.ctLoc.startLine : this.ctLoc.endLine;
                err.endCol = this.locBeforeToken ? this.ctLoc.startCol : this.ctLoc.endCol;
                err.endOffset = this.locBeforeToken ? this.ctLoc.startOffset : this.ctLoc.endOffset;
            }
        };
        ErrorReportingParserMixin.prototype._getOverriddenMethods = function (mxn, orig) {
            return {
                _bootstrap: function (document, fragmentContext) {
                    orig._bootstrap.call(this, document, fragmentContext);
                    mixin.install(this.tokenizer, tokenizerMixin, mxn.opts);
                    mixin.install(this.tokenizer, tokenizerMixin$1);
                },
                _processInputToken: function (token) {
                    mxn.ctLoc = token.location;
                    orig._processInputToken.call(this, token);
                },
                _err: function (code, options) {
                    mxn.locBeforeToken = options && options.beforeToken;
                    mxn._reportError(code);
                }
            };
        };
        return ErrorReportingParserMixin;
    }(mixinBase));
    var parserMixin = ErrorReportingParserMixin;

    var _default = createCommonjsModule(function (module, exports) {
        'use strict';
        var DOCUMENT_MODE = html.DOCUMENT_MODE;
        //Node construction
        exports.createDocument = function () {
            return {
                nodeName: '#document',
                mode: DOCUMENT_MODE.NO_QUIRKS,
                childNodes: []
            };
        };
        exports.createDocumentFragment = function () {
            return {
                nodeName: '#document-fragment',
                childNodes: []
            };
        };
        exports.createElement = function (tagName, namespaceURI, attrs) {
            return {
                nodeName: tagName,
                tagName: tagName,
                attrs: attrs,
                namespaceURI: namespaceURI,
                childNodes: [],
                parentNode: null
            };
        };
        exports.createCommentNode = function (data) {
            return {
                nodeName: '#comment',
                data: data,
                parentNode: null
            };
        };
        var createTextNode = function (value) {
            return {
                nodeName: '#text',
                value: value,
                parentNode: null
            };
        };
        //Tree mutation
        var appendChild = (exports.appendChild = function (parentNode, newNode) {
            parentNode.childNodes.push(newNode);
            newNode.parentNode = parentNode;
        });
        var insertBefore = (exports.insertBefore = function (parentNode, newNode, referenceNode) {
            var insertionIdx = parentNode.childNodes.indexOf(referenceNode);
            parentNode.childNodes.splice(insertionIdx, 0, newNode);
            newNode.parentNode = parentNode;
        });
        exports.setTemplateContent = function (templateElement, contentElement) {
            templateElement.content = contentElement;
        };
        exports.getTemplateContent = function (templateElement) {
            return templateElement.content;
        };
        exports.setDocumentType = function (document, name, publicId, systemId) {
            var doctypeNode = null;
            for (var i = 0; i < document.childNodes.length; i++) {
                if (document.childNodes[i].nodeName === '#documentType') {
                    doctypeNode = document.childNodes[i];
                    break;
                }
            }
            if (doctypeNode) {
                doctypeNode.name = name;
                doctypeNode.publicId = publicId;
                doctypeNode.systemId = systemId;
            }
            else {
                appendChild(document, {
                    nodeName: '#documentType',
                    name: name,
                    publicId: publicId,
                    systemId: systemId
                });
            }
        };
        exports.setDocumentMode = function (document, mode) {
            document.mode = mode;
        };
        exports.getDocumentMode = function (document) {
            return document.mode;
        };
        exports.detachNode = function (node) {
            if (node.parentNode) {
                var idx = node.parentNode.childNodes.indexOf(node);
                node.parentNode.childNodes.splice(idx, 1);
                node.parentNode = null;
            }
        };
        exports.insertText = function (parentNode, text) {
            if (parentNode.childNodes.length) {
                var prevNode = parentNode.childNodes[parentNode.childNodes.length - 1];
                if (prevNode.nodeName === '#text') {
                    prevNode.value += text;
                    return;
                }
            }
            appendChild(parentNode, createTextNode(text));
        };
        exports.insertTextBefore = function (parentNode, text, referenceNode) {
            var prevNode = parentNode.childNodes[parentNode.childNodes.indexOf(referenceNode) - 1];
            if (prevNode && prevNode.nodeName === '#text') {
                prevNode.value += text;
            }
            else {
                insertBefore(parentNode, createTextNode(text), referenceNode);
            }
        };
        exports.adoptAttributes = function (recipient, attrs) {
            var recipientAttrsMap = [];
            for (var i = 0; i < recipient.attrs.length; i++) {
                recipientAttrsMap.push(recipient.attrs[i].name);
            }
            for (var j = 0; j < attrs.length; j++) {
                if (recipientAttrsMap.indexOf(attrs[j].name) === -1) {
                    recipient.attrs.push(attrs[j]);
                }
            }
        };
        //Tree traversing
        exports.getFirstChild = function (node) {
            return node.childNodes[0];
        };
        exports.getChildNodes = function (node) {
            return node.childNodes;
        };
        exports.getParentNode = function (node) {
            return node.parentNode;
        };
        exports.getAttrList = function (element) {
            return element.attrs;
        };
        //Node data
        exports.getTagName = function (element) {
            return element.tagName;
        };
        exports.getNamespaceURI = function (element) {
            return element.namespaceURI;
        };
        exports.getTextNodeContent = function (textNode) {
            return textNode.value;
        };
        exports.getCommentNodeContent = function (commentNode) {
            return commentNode.data;
        };
        exports.getDocumentTypeNodeName = function (doctypeNode) {
            return doctypeNode.name;
        };
        exports.getDocumentTypeNodePublicId = function (doctypeNode) {
            return doctypeNode.publicId;
        };
        exports.getDocumentTypeNodeSystemId = function (doctypeNode) {
            return doctypeNode.systemId;
        };
        //Node types
        exports.isTextNode = function (node) {
            return node.nodeName === '#text';
        };
        exports.isCommentNode = function (node) {
            return node.nodeName === '#comment';
        };
        exports.isDocumentTypeNode = function (node) {
            return node.nodeName === '#documentType';
        };
        exports.isElementNode = function (node) {
            return !!node.tagName;
        };
        // Source code location
        exports.setNodeSourceCodeLocation = function (node, location) {
            node.sourceCodeLocation = location;
        };
        exports.getNodeSourceCodeLocation = function (node) {
            return node.sourceCodeLocation;
        };
        exports.updateNodeSourceCodeLocation = function (node, endLocation) {
            node.sourceCodeLocation = Object.assign(node.sourceCodeLocation, endLocation);
        };
    });
    var _default_1 = _default.createDocument;
    var _default_2 = _default.createDocumentFragment;
    var _default_3 = _default.createElement;
    var _default_4 = _default.createCommentNode;
    var _default_5 = _default.appendChild;
    var _default_6 = _default.insertBefore;
    var _default_7 = _default.setTemplateContent;
    var _default_8 = _default.getTemplateContent;
    var _default_9 = _default.setDocumentType;
    var _default_10 = _default.setDocumentMode;
    var _default_11 = _default.getDocumentMode;
    var _default_12 = _default.detachNode;
    var _default_13 = _default.insertText;
    var _default_14 = _default.insertTextBefore;
    var _default_15 = _default.adoptAttributes;
    var _default_16 = _default.getFirstChild;
    var _default_17 = _default.getChildNodes;
    var _default_18 = _default.getParentNode;
    var _default_19 = _default.getAttrList;
    var _default_20 = _default.getTagName;
    var _default_21 = _default.getNamespaceURI;
    var _default_22 = _default.getTextNodeContent;
    var _default_23 = _default.getCommentNodeContent;
    var _default_24 = _default.getDocumentTypeNodeName;
    var _default_25 = _default.getDocumentTypeNodePublicId;
    var _default_26 = _default.getDocumentTypeNodeSystemId;
    var _default_27 = _default.isTextNode;
    var _default_28 = _default.isCommentNode;
    var _default_29 = _default.isDocumentTypeNode;
    var _default_30 = _default.isElementNode;
    var _default_31 = _default.setNodeSourceCodeLocation;
    var _default_32 = _default.getNodeSourceCodeLocation;
    var _default_33 = _default.updateNodeSourceCodeLocation;

    'use strict';
    var mergeOptions = function mergeOptions(defaults, options) {
        options = options || Object.create(null);
        return [defaults, options].reduce(function (merged, optObj) {
            Object.keys(optObj).forEach(function (key) {
                merged[key] = optObj[key];
            });
            return merged;
        }, Object.create(null));
    };

    'use strict';
    var DOCUMENT_MODE = html.DOCUMENT_MODE;
    //Const
    var VALID_DOCTYPE_NAME = 'html';
    var VALID_SYSTEM_ID = 'about:legacy-compat';
    var QUIRKS_MODE_SYSTEM_ID = 'http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd';
    var QUIRKS_MODE_PUBLIC_ID_PREFIXES = [
        '+//silmaril//dtd html pro v0r11 19970101//',
        '-//as//dtd html 3.0 aswedit + extensions//',
        '-//advasoft ltd//dtd html 3.0 aswedit + extensions//',
        '-//ietf//dtd html 2.0 level 1//',
        '-//ietf//dtd html 2.0 level 2//',
        '-//ietf//dtd html 2.0 strict level 1//',
        '-//ietf//dtd html 2.0 strict level 2//',
        '-//ietf//dtd html 2.0 strict//',
        '-//ietf//dtd html 2.0//',
        '-//ietf//dtd html 2.1e//',
        '-//ietf//dtd html 3.0//',
        '-//ietf//dtd html 3.2 final//',
        '-//ietf//dtd html 3.2//',
        '-//ietf//dtd html 3//',
        '-//ietf//dtd html level 0//',
        '-//ietf//dtd html level 1//',
        '-//ietf//dtd html level 2//',
        '-//ietf//dtd html level 3//',
        '-//ietf//dtd html strict level 0//',
        '-//ietf//dtd html strict level 1//',
        '-//ietf//dtd html strict level 2//',
        '-//ietf//dtd html strict level 3//',
        '-//ietf//dtd html strict//',
        '-//ietf//dtd html//',
        '-//metrius//dtd metrius presentational//',
        '-//microsoft//dtd internet explorer 2.0 html strict//',
        '-//microsoft//dtd internet explorer 2.0 html//',
        '-//microsoft//dtd internet explorer 2.0 tables//',
        '-//microsoft//dtd internet explorer 3.0 html strict//',
        '-//microsoft//dtd internet explorer 3.0 html//',
        '-//microsoft//dtd internet explorer 3.0 tables//',
        '-//netscape comm. corp.//dtd html//',
        '-//netscape comm. corp.//dtd strict html//',
        "-//o'reilly and associates//dtd html 2.0//",
        "-//o'reilly and associates//dtd html extended 1.0//",
        "-//o'reilly and associates//dtd html extended relaxed 1.0//",
        '-//sq//dtd html 2.0 hotmetal + extensions//',
        '-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//',
        '-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//',
        '-//spyglass//dtd html 2.0 extended//',
        '-//sun microsystems corp.//dtd hotjava html//',
        '-//sun microsystems corp.//dtd hotjava strict html//',
        '-//w3c//dtd html 3 1995-03-24//',
        '-//w3c//dtd html 3.2 draft//',
        '-//w3c//dtd html 3.2 final//',
        '-//w3c//dtd html 3.2//',
        '-//w3c//dtd html 3.2s draft//',
        '-//w3c//dtd html 4.0 frameset//',
        '-//w3c//dtd html 4.0 transitional//',
        '-//w3c//dtd html experimental 19960712//',
        '-//w3c//dtd html experimental 970421//',
        '-//w3c//dtd w3 html//',
        '-//w3o//dtd w3 html 3.0//',
        '-//webtechs//dtd mozilla html 2.0//',
        '-//webtechs//dtd mozilla html//'
    ];
    var QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES = QUIRKS_MODE_PUBLIC_ID_PREFIXES.concat([
        '-//w3c//dtd html 4.01 frameset//',
        '-//w3c//dtd html 4.01 transitional//'
    ]);
    var QUIRKS_MODE_PUBLIC_IDS = ['-//w3o//dtd w3 html strict 3.0//en//', '-/w3c/dtd html 4.0 transitional/en', 'html'];
    var LIMITED_QUIRKS_PUBLIC_ID_PREFIXES = ['-//w3c//dtd xhtml 1.0 frameset//', '-//w3c//dtd xhtml 1.0 transitional//'];
    var LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES = LIMITED_QUIRKS_PUBLIC_ID_PREFIXES.concat([
        '-//w3c//dtd html 4.01 frameset//',
        '-//w3c//dtd html 4.01 transitional//'
    ]);
    //Utils
    function enquoteDoctypeId(id) {
        var quote = id.indexOf('"') !== -1 ? "'" : '"';
        return quote + id + quote;
    }
    function hasPrefix(publicId, prefixes) {
        for (var i = 0; i < prefixes.length; i++) {
            if (publicId.indexOf(prefixes[i]) === 0) {
                return true;
            }
        }
        return false;
    }
    //API
    var isConforming = function (token) {
        return (token.name === VALID_DOCTYPE_NAME &&
            token.publicId === null &&
            (token.systemId === null || token.systemId === VALID_SYSTEM_ID));
    };
    var getDocumentMode = function (token) {
        if (token.name !== VALID_DOCTYPE_NAME) {
            return DOCUMENT_MODE.QUIRKS;
        }
        var systemId = token.systemId;
        if (systemId && systemId.toLowerCase() === QUIRKS_MODE_SYSTEM_ID) {
            return DOCUMENT_MODE.QUIRKS;
        }
        var publicId = token.publicId;
        if (publicId !== null) {
            publicId = publicId.toLowerCase();
            if (QUIRKS_MODE_PUBLIC_IDS.indexOf(publicId) > -1) {
                return DOCUMENT_MODE.QUIRKS;
            }
            var prefixes = systemId === null ? QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES : QUIRKS_MODE_PUBLIC_ID_PREFIXES;
            if (hasPrefix(publicId, prefixes)) {
                return DOCUMENT_MODE.QUIRKS;
            }
            prefixes =
                systemId === null ? LIMITED_QUIRKS_PUBLIC_ID_PREFIXES : LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES;
            if (hasPrefix(publicId, prefixes)) {
                return DOCUMENT_MODE.LIMITED_QUIRKS;
            }
        }
        return DOCUMENT_MODE.NO_QUIRKS;
    };
    var serializeContent = function (name, publicId, systemId) {
        var str = '!DOCTYPE ';
        if (name) {
            str += name;
        }
        if (publicId) {
            str += ' PUBLIC ' + enquoteDoctypeId(publicId);
        }
        else if (systemId) {
            str += ' SYSTEM';
        }
        if (systemId !== null) {
            str += ' ' + enquoteDoctypeId(systemId);
        }
        return str;
    };
    var doctype = {
        isConforming: isConforming,
        getDocumentMode: getDocumentMode,
        serializeContent: serializeContent
    };

    var foreignContent = createCommonjsModule(function (module, exports) {
        'use strict';
        var _a;
        //Aliases
        var $ = html.TAG_NAMES;
        var NS = html.NAMESPACES;
        var ATTRS = html.ATTRS;
        //MIME types
        var MIME_TYPES = {
            TEXT_HTML: 'text/html',
            APPLICATION_XML: 'application/xhtml+xml'
        };
        //Attributes
        var DEFINITION_URL_ATTR = 'definitionurl';
        var ADJUSTED_DEFINITION_URL_ATTR = 'definitionURL';
        var SVG_ATTRS_ADJUSTMENT_MAP = {
            attributename: 'attributeName',
            attributetype: 'attributeType',
            basefrequency: 'baseFrequency',
            baseprofile: 'baseProfile',
            calcmode: 'calcMode',
            clippathunits: 'clipPathUnits',
            diffuseconstant: 'diffuseConstant',
            edgemode: 'edgeMode',
            filterunits: 'filterUnits',
            glyphref: 'glyphRef',
            gradienttransform: 'gradientTransform',
            gradientunits: 'gradientUnits',
            kernelmatrix: 'kernelMatrix',
            kernelunitlength: 'kernelUnitLength',
            keypoints: 'keyPoints',
            keysplines: 'keySplines',
            keytimes: 'keyTimes',
            lengthadjust: 'lengthAdjust',
            limitingconeangle: 'limitingConeAngle',
            markerheight: 'markerHeight',
            markerunits: 'markerUnits',
            markerwidth: 'markerWidth',
            maskcontentunits: 'maskContentUnits',
            maskunits: 'maskUnits',
            numoctaves: 'numOctaves',
            pathlength: 'pathLength',
            patterncontentunits: 'patternContentUnits',
            patterntransform: 'patternTransform',
            patternunits: 'patternUnits',
            pointsatx: 'pointsAtX',
            pointsaty: 'pointsAtY',
            pointsatz: 'pointsAtZ',
            preservealpha: 'preserveAlpha',
            preserveaspectratio: 'preserveAspectRatio',
            primitiveunits: 'primitiveUnits',
            refx: 'refX',
            refy: 'refY',
            repeatcount: 'repeatCount',
            repeatdur: 'repeatDur',
            requiredextensions: 'requiredExtensions',
            requiredfeatures: 'requiredFeatures',
            specularconstant: 'specularConstant',
            specularexponent: 'specularExponent',
            spreadmethod: 'spreadMethod',
            startoffset: 'startOffset',
            stddeviation: 'stdDeviation',
            stitchtiles: 'stitchTiles',
            surfacescale: 'surfaceScale',
            systemlanguage: 'systemLanguage',
            tablevalues: 'tableValues',
            targetx: 'targetX',
            targety: 'targetY',
            textlength: 'textLength',
            viewbox: 'viewBox',
            viewtarget: 'viewTarget',
            xchannelselector: 'xChannelSelector',
            ychannelselector: 'yChannelSelector',
            zoomandpan: 'zoomAndPan'
        };
        var XML_ATTRS_ADJUSTMENT_MAP = {
            'xlink:actuate': { prefix: 'xlink', name: 'actuate', namespace: NS.XLINK },
            'xlink:arcrole': { prefix: 'xlink', name: 'arcrole', namespace: NS.XLINK },
            'xlink:href': { prefix: 'xlink', name: 'href', namespace: NS.XLINK },
            'xlink:role': { prefix: 'xlink', name: 'role', namespace: NS.XLINK },
            'xlink:show': { prefix: 'xlink', name: 'show', namespace: NS.XLINK },
            'xlink:title': { prefix: 'xlink', name: 'title', namespace: NS.XLINK },
            'xlink:type': { prefix: 'xlink', name: 'type', namespace: NS.XLINK },
            'xml:base': { prefix: 'xml', name: 'base', namespace: NS.XML },
            'xml:lang': { prefix: 'xml', name: 'lang', namespace: NS.XML },
            'xml:space': { prefix: 'xml', name: 'space', namespace: NS.XML },
            xmlns: { prefix: '', name: 'xmlns', namespace: NS.XMLNS },
            'xmlns:xlink': { prefix: 'xmlns', name: 'xlink', namespace: NS.XMLNS }
        };
        //SVG tag names adjustment map
        var SVG_TAG_NAMES_ADJUSTMENT_MAP = (exports.SVG_TAG_NAMES_ADJUSTMENT_MAP = {
            altglyph: 'altGlyph',
            altglyphdef: 'altGlyphDef',
            altglyphitem: 'altGlyphItem',
            animatecolor: 'animateColor',
            animatemotion: 'animateMotion',
            animatetransform: 'animateTransform',
            clippath: 'clipPath',
            feblend: 'feBlend',
            fecolormatrix: 'feColorMatrix',
            fecomponenttransfer: 'feComponentTransfer',
            fecomposite: 'feComposite',
            feconvolvematrix: 'feConvolveMatrix',
            fediffuselighting: 'feDiffuseLighting',
            fedisplacementmap: 'feDisplacementMap',
            fedistantlight: 'feDistantLight',
            feflood: 'feFlood',
            fefunca: 'feFuncA',
            fefuncb: 'feFuncB',
            fefuncg: 'feFuncG',
            fefuncr: 'feFuncR',
            fegaussianblur: 'feGaussianBlur',
            feimage: 'feImage',
            femerge: 'feMerge',
            femergenode: 'feMergeNode',
            femorphology: 'feMorphology',
            feoffset: 'feOffset',
            fepointlight: 'fePointLight',
            fespecularlighting: 'feSpecularLighting',
            fespotlight: 'feSpotLight',
            fetile: 'feTile',
            feturbulence: 'feTurbulence',
            foreignobject: 'foreignObject',
            glyphref: 'glyphRef',
            lineargradient: 'linearGradient',
            radialgradient: 'radialGradient',
            textpath: 'textPath'
        });
        //Tags that causes exit from foreign content
        var EXITS_FOREIGN_CONTENT = (_a = {},
            _a[$.B] = true,
            _a[$.BIG] = true,
            _a[$.BLOCKQUOTE] = true,
            _a[$.BODY] = true,
            _a[$.BR] = true,
            _a[$.CENTER] = true,
            _a[$.CODE] = true,
            _a[$.DD] = true,
            _a[$.DIV] = true,
            _a[$.DL] = true,
            _a[$.DT] = true,
            _a[$.EM] = true,
            _a[$.EMBED] = true,
            _a[$.H1] = true,
            _a[$.H2] = true,
            _a[$.H3] = true,
            _a[$.H4] = true,
            _a[$.H5] = true,
            _a[$.H6] = true,
            _a[$.HEAD] = true,
            _a[$.HR] = true,
            _a[$.I] = true,
            _a[$.IMG] = true,
            _a[$.LI] = true,
            _a[$.LISTING] = true,
            _a[$.MENU] = true,
            _a[$.META] = true,
            _a[$.NOBR] = true,
            _a[$.OL] = true,
            _a[$.P] = true,
            _a[$.PRE] = true,
            _a[$.RUBY] = true,
            _a[$.S] = true,
            _a[$.SMALL] = true,
            _a[$.SPAN] = true,
            _a[$.STRONG] = true,
            _a[$.STRIKE] = true,
            _a[$.SUB] = true,
            _a[$.SUP] = true,
            _a[$.TABLE] = true,
            _a[$.TT] = true,
            _a[$.U] = true,
            _a[$.UL] = true,
            _a[$.VAR] = true,
            _a);
        //Check exit from foreign content
        exports.causesExit = function (startTagToken) {
            var tn = startTagToken.tagName;
            var isFontWithAttrs = tn === $.FONT &&
                (tokenizer.getTokenAttr(startTagToken, ATTRS.COLOR) !== null ||
                    tokenizer.getTokenAttr(startTagToken, ATTRS.SIZE) !== null ||
                    tokenizer.getTokenAttr(startTagToken, ATTRS.FACE) !== null);
            return isFontWithAttrs ? true : EXITS_FOREIGN_CONTENT[tn];
        };
        //Token adjustments
        exports.adjustTokenMathMLAttrs = function (token) {
            for (var i = 0; i < token.attrs.length; i++) {
                if (token.attrs[i].name === DEFINITION_URL_ATTR) {
                    token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;
                    break;
                }
            }
        };
        exports.adjustTokenSVGAttrs = function (token) {
            for (var i = 0; i < token.attrs.length; i++) {
                var adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];
                if (adjustedAttrName) {
                    token.attrs[i].name = adjustedAttrName;
                }
            }
        };
        exports.adjustTokenXMLAttrs = function (token) {
            for (var i = 0; i < token.attrs.length; i++) {
                var adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];
                if (adjustedAttrEntry) {
                    token.attrs[i].prefix = adjustedAttrEntry.prefix;
                    token.attrs[i].name = adjustedAttrEntry.name;
                    token.attrs[i].namespace = adjustedAttrEntry.namespace;
                }
            }
        };
        exports.adjustTokenSVGTagName = function (token) {
            var adjustedTagName = SVG_TAG_NAMES_ADJUSTMENT_MAP[token.tagName];
            if (adjustedTagName) {
                token.tagName = adjustedTagName;
            }
        };
        //Integration points
        function isMathMLTextIntegrationPoint(tn, ns) {
            return ns === NS.MATHML && (tn === $.MI || tn === $.MO || tn === $.MN || tn === $.MS || tn === $.MTEXT);
        }
        function isHtmlIntegrationPoint(tn, ns, attrs) {
            if (ns === NS.MATHML && tn === $.ANNOTATION_XML) {
                for (var i = 0; i < attrs.length; i++) {
                    if (attrs[i].name === ATTRS.ENCODING) {
                        var value = attrs[i].value.toLowerCase();
                        return value === MIME_TYPES.TEXT_HTML || value === MIME_TYPES.APPLICATION_XML;
                    }
                }
            }
            return ns === NS.SVG && (tn === $.FOREIGN_OBJECT || tn === $.DESC || tn === $.TITLE);
        }
        exports.isIntegrationPoint = function (tn, ns, attrs, foreignNS) {
            if ((!foreignNS || foreignNS === NS.HTML) && isHtmlIntegrationPoint(tn, ns, attrs)) {
                return true;
            }
            if ((!foreignNS || foreignNS === NS.MATHML) && isMathMLTextIntegrationPoint(tn, ns)) {
                return true;
            }
            return false;
        };
    });
    var foreignContent_1 = foreignContent.SVG_TAG_NAMES_ADJUSTMENT_MAP;
    var foreignContent_2 = foreignContent.causesExit;
    var foreignContent_3 = foreignContent.adjustTokenMathMLAttrs;
    var foreignContent_4 = foreignContent.adjustTokenSVGAttrs;
    var foreignContent_5 = foreignContent.adjustTokenXMLAttrs;
    var foreignContent_6 = foreignContent.adjustTokenSVGTagName;
    var foreignContent_7 = foreignContent.isIntegrationPoint;

    var _a$2, _b$2, _c$2, _d$2, _e$2, _f$2, _g$1, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1;
    'use strict';
    //Aliases
    var $$1 = html.TAG_NAMES;
    var NS$1 = html.NAMESPACES;
    var ATTRS = html.ATTRS;
    var DEFAULT_OPTIONS$1 = {
        scriptingEnabled: true,
        sourceCodeLocationInfo: false,
        onParseError: null,
        treeAdapter: _default
    };
    //Misc constants
    var HIDDEN_INPUT_TYPE = 'hidden';
    //Adoption agency loops iteration count
    var AA_OUTER_LOOP_ITER = 8;
    var AA_INNER_LOOP_ITER = 3;
    //Insertion modes
    var INITIAL_MODE = 'INITIAL_MODE';
    var BEFORE_HTML_MODE = 'BEFORE_HTML_MODE';
    var BEFORE_HEAD_MODE = 'BEFORE_HEAD_MODE';
    var IN_HEAD_MODE = 'IN_HEAD_MODE';
    var IN_HEAD_NO_SCRIPT_MODE = 'IN_HEAD_NO_SCRIPT_MODE';
    var AFTER_HEAD_MODE = 'AFTER_HEAD_MODE';
    var IN_BODY_MODE = 'IN_BODY_MODE';
    var TEXT_MODE = 'TEXT_MODE';
    var IN_TABLE_MODE = 'IN_TABLE_MODE';
    var IN_TABLE_TEXT_MODE = 'IN_TABLE_TEXT_MODE';
    var IN_CAPTION_MODE = 'IN_CAPTION_MODE';
    var IN_COLUMN_GROUP_MODE = 'IN_COLUMN_GROUP_MODE';
    var IN_TABLE_BODY_MODE = 'IN_TABLE_BODY_MODE';
    var IN_ROW_MODE = 'IN_ROW_MODE';
    var IN_CELL_MODE = 'IN_CELL_MODE';
    var IN_SELECT_MODE = 'IN_SELECT_MODE';
    var IN_SELECT_IN_TABLE_MODE = 'IN_SELECT_IN_TABLE_MODE';
    var IN_TEMPLATE_MODE = 'IN_TEMPLATE_MODE';
    var AFTER_BODY_MODE = 'AFTER_BODY_MODE';
    var IN_FRAMESET_MODE = 'IN_FRAMESET_MODE';
    var AFTER_FRAMESET_MODE = 'AFTER_FRAMESET_MODE';
    var AFTER_AFTER_BODY_MODE = 'AFTER_AFTER_BODY_MODE';
    var AFTER_AFTER_FRAMESET_MODE = 'AFTER_AFTER_FRAMESET_MODE';
    //Insertion mode reset map
    var INSERTION_MODE_RESET_MAP = (_a$2 = {},
        _a$2[$$1.TR] = IN_ROW_MODE,
        _a$2[$$1.TBODY] = IN_TABLE_BODY_MODE,
        _a$2[$$1.THEAD] = IN_TABLE_BODY_MODE,
        _a$2[$$1.TFOOT] = IN_TABLE_BODY_MODE,
        _a$2[$$1.CAPTION] = IN_CAPTION_MODE,
        _a$2[$$1.COLGROUP] = IN_COLUMN_GROUP_MODE,
        _a$2[$$1.TABLE] = IN_TABLE_MODE,
        _a$2[$$1.BODY] = IN_BODY_MODE,
        _a$2[$$1.FRAMESET] = IN_FRAMESET_MODE,
        _a$2);
    //Template insertion mode switch map
    var TEMPLATE_INSERTION_MODE_SWITCH_MAP = (_b$2 = {},
        _b$2[$$1.CAPTION] = IN_TABLE_MODE,
        _b$2[$$1.COLGROUP] = IN_TABLE_MODE,
        _b$2[$$1.TBODY] = IN_TABLE_MODE,
        _b$2[$$1.TFOOT] = IN_TABLE_MODE,
        _b$2[$$1.THEAD] = IN_TABLE_MODE,
        _b$2[$$1.COL] = IN_COLUMN_GROUP_MODE,
        _b$2[$$1.TR] = IN_TABLE_BODY_MODE,
        _b$2[$$1.TD] = IN_ROW_MODE,
        _b$2[$$1.TH] = IN_ROW_MODE,
        _b$2);
    //Token handlers map for insertion modes
    var TOKEN_HANDLERS = (_c$2 = {},
        _c$2[INITIAL_MODE] = (_d$2 = {},
            _d$2[tokenizer.CHARACTER_TOKEN] = tokenInInitialMode,
            _d$2[tokenizer.NULL_CHARACTER_TOKEN] = tokenInInitialMode,
            _d$2[tokenizer.WHITESPACE_CHARACTER_TOKEN] = ignoreToken,
            _d$2[tokenizer.COMMENT_TOKEN] = appendComment,
            _d$2[tokenizer.DOCTYPE_TOKEN] = doctypeInInitialMode,
            _d$2[tokenizer.START_TAG_TOKEN] = tokenInInitialMode,
            _d$2[tokenizer.END_TAG_TOKEN] = tokenInInitialMode,
            _d$2[tokenizer.EOF_TOKEN] = tokenInInitialMode,
            _d$2),
        _c$2[BEFORE_HTML_MODE] = (_e$2 = {},
            _e$2[tokenizer.CHARACTER_TOKEN] = tokenBeforeHtml,
            _e$2[tokenizer.NULL_CHARACTER_TOKEN] = tokenBeforeHtml,
            _e$2[tokenizer.WHITESPACE_CHARACTER_TOKEN] = ignoreToken,
            _e$2[tokenizer.COMMENT_TOKEN] = appendComment,
            _e$2[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _e$2[tokenizer.START_TAG_TOKEN] = startTagBeforeHtml,
            _e$2[tokenizer.END_TAG_TOKEN] = endTagBeforeHtml,
            _e$2[tokenizer.EOF_TOKEN] = tokenBeforeHtml,
            _e$2),
        _c$2[BEFORE_HEAD_MODE] = (_f$2 = {},
            _f$2[tokenizer.CHARACTER_TOKEN] = tokenBeforeHead,
            _f$2[tokenizer.NULL_CHARACTER_TOKEN] = tokenBeforeHead,
            _f$2[tokenizer.WHITESPACE_CHARACTER_TOKEN] = ignoreToken,
            _f$2[tokenizer.COMMENT_TOKEN] = appendComment,
            _f$2[tokenizer.DOCTYPE_TOKEN] = misplacedDoctype,
            _f$2[tokenizer.START_TAG_TOKEN] = startTagBeforeHead,
            _f$2[tokenizer.END_TAG_TOKEN] = endTagBeforeHead,
            _f$2[tokenizer.EOF_TOKEN] = tokenBeforeHead,
            _f$2),
        _c$2[IN_HEAD_MODE] = (_g$1 = {},
            _g$1[tokenizer.CHARACTER_TOKEN] = tokenInHead,
            _g$1[tokenizer.NULL_CHARACTER_TOKEN] = tokenInHead,
            _g$1[tokenizer.WHITESPACE_CHARACTER_TOKEN] = insertCharacters,
            _g$1[tokenizer.COMMENT_TOKEN] = appendComment,
            _g$1[tokenizer.DOCTYPE_TOKEN] = misplacedDoctype,
            _g$1[tokenizer.START_TAG_TOKEN] = startTagInHead,
            _g$1[tokenizer.END_TAG_TOKEN] = endTagInHead,
            _g$1[tokenizer.EOF_TOKEN] = tokenInHead,
            _g$1),
        _c$2[IN_HEAD_NO_SCRIPT_MODE] = (_h = {},
            _h[tokenizer.CHARACTER_TOKEN] = tokenInHeadNoScript,
            _h[tokenizer.NULL_CHARACTER_TOKEN] = tokenInHeadNoScript,
            _h[tokenizer.WHITESPACE_CHARACTER_TOKEN] = insertCharacters,
            _h[tokenizer.COMMENT_TOKEN] = appendComment,
            _h[tokenizer.DOCTYPE_TOKEN] = misplacedDoctype,
            _h[tokenizer.START_TAG_TOKEN] = startTagInHeadNoScript,
            _h[tokenizer.END_TAG_TOKEN] = endTagInHeadNoScript,
            _h[tokenizer.EOF_TOKEN] = tokenInHeadNoScript,
            _h),
        _c$2[AFTER_HEAD_MODE] = (_j = {},
            _j[tokenizer.CHARACTER_TOKEN] = tokenAfterHead,
            _j[tokenizer.NULL_CHARACTER_TOKEN] = tokenAfterHead,
            _j[tokenizer.WHITESPACE_CHARACTER_TOKEN] = insertCharacters,
            _j[tokenizer.COMMENT_TOKEN] = appendComment,
            _j[tokenizer.DOCTYPE_TOKEN] = misplacedDoctype,
            _j[tokenizer.START_TAG_TOKEN] = startTagAfterHead,
            _j[tokenizer.END_TAG_TOKEN] = endTagAfterHead,
            _j[tokenizer.EOF_TOKEN] = tokenAfterHead,
            _j),
        _c$2[IN_BODY_MODE] = (_k = {},
            _k[tokenizer.CHARACTER_TOKEN] = characterInBody,
            _k[tokenizer.NULL_CHARACTER_TOKEN] = ignoreToken,
            _k[tokenizer.WHITESPACE_CHARACTER_TOKEN] = whitespaceCharacterInBody,
            _k[tokenizer.COMMENT_TOKEN] = appendComment,
            _k[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _k[tokenizer.START_TAG_TOKEN] = startTagInBody,
            _k[tokenizer.END_TAG_TOKEN] = endTagInBody,
            _k[tokenizer.EOF_TOKEN] = eofInBody,
            _k),
        _c$2[TEXT_MODE] = (_l = {},
            _l[tokenizer.CHARACTER_TOKEN] = insertCharacters,
            _l[tokenizer.NULL_CHARACTER_TOKEN] = insertCharacters,
            _l[tokenizer.WHITESPACE_CHARACTER_TOKEN] = insertCharacters,
            _l[tokenizer.COMMENT_TOKEN] = ignoreToken,
            _l[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _l[tokenizer.START_TAG_TOKEN] = ignoreToken,
            _l[tokenizer.END_TAG_TOKEN] = endTagInText,
            _l[tokenizer.EOF_TOKEN] = eofInText,
            _l),
        _c$2[IN_TABLE_MODE] = (_m = {},
            _m[tokenizer.CHARACTER_TOKEN] = characterInTable,
            _m[tokenizer.NULL_CHARACTER_TOKEN] = characterInTable,
            _m[tokenizer.WHITESPACE_CHARACTER_TOKEN] = characterInTable,
            _m[tokenizer.COMMENT_TOKEN] = appendComment,
            _m[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _m[tokenizer.START_TAG_TOKEN] = startTagInTable,
            _m[tokenizer.END_TAG_TOKEN] = endTagInTable,
            _m[tokenizer.EOF_TOKEN] = eofInBody,
            _m),
        _c$2[IN_TABLE_TEXT_MODE] = (_o = {},
            _o[tokenizer.CHARACTER_TOKEN] = characterInTableText,
            _o[tokenizer.NULL_CHARACTER_TOKEN] = ignoreToken,
            _o[tokenizer.WHITESPACE_CHARACTER_TOKEN] = whitespaceCharacterInTableText,
            _o[tokenizer.COMMENT_TOKEN] = tokenInTableText,
            _o[tokenizer.DOCTYPE_TOKEN] = tokenInTableText,
            _o[tokenizer.START_TAG_TOKEN] = tokenInTableText,
            _o[tokenizer.END_TAG_TOKEN] = tokenInTableText,
            _o[tokenizer.EOF_TOKEN] = tokenInTableText,
            _o),
        _c$2[IN_CAPTION_MODE] = (_p = {},
            _p[tokenizer.CHARACTER_TOKEN] = characterInBody,
            _p[tokenizer.NULL_CHARACTER_TOKEN] = ignoreToken,
            _p[tokenizer.WHITESPACE_CHARACTER_TOKEN] = whitespaceCharacterInBody,
            _p[tokenizer.COMMENT_TOKEN] = appendComment,
            _p[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _p[tokenizer.START_TAG_TOKEN] = startTagInCaption,
            _p[tokenizer.END_TAG_TOKEN] = endTagInCaption,
            _p[tokenizer.EOF_TOKEN] = eofInBody,
            _p),
        _c$2[IN_COLUMN_GROUP_MODE] = (_q = {},
            _q[tokenizer.CHARACTER_TOKEN] = tokenInColumnGroup,
            _q[tokenizer.NULL_CHARACTER_TOKEN] = tokenInColumnGroup,
            _q[tokenizer.WHITESPACE_CHARACTER_TOKEN] = insertCharacters,
            _q[tokenizer.COMMENT_TOKEN] = appendComment,
            _q[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _q[tokenizer.START_TAG_TOKEN] = startTagInColumnGroup,
            _q[tokenizer.END_TAG_TOKEN] = endTagInColumnGroup,
            _q[tokenizer.EOF_TOKEN] = eofInBody,
            _q),
        _c$2[IN_TABLE_BODY_MODE] = (_r = {},
            _r[tokenizer.CHARACTER_TOKEN] = characterInTable,
            _r[tokenizer.NULL_CHARACTER_TOKEN] = characterInTable,
            _r[tokenizer.WHITESPACE_CHARACTER_TOKEN] = characterInTable,
            _r[tokenizer.COMMENT_TOKEN] = appendComment,
            _r[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _r[tokenizer.START_TAG_TOKEN] = startTagInTableBody,
            _r[tokenizer.END_TAG_TOKEN] = endTagInTableBody,
            _r[tokenizer.EOF_TOKEN] = eofInBody,
            _r),
        _c$2[IN_ROW_MODE] = (_s = {},
            _s[tokenizer.CHARACTER_TOKEN] = characterInTable,
            _s[tokenizer.NULL_CHARACTER_TOKEN] = characterInTable,
            _s[tokenizer.WHITESPACE_CHARACTER_TOKEN] = characterInTable,
            _s[tokenizer.COMMENT_TOKEN] = appendComment,
            _s[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _s[tokenizer.START_TAG_TOKEN] = startTagInRow,
            _s[tokenizer.END_TAG_TOKEN] = endTagInRow,
            _s[tokenizer.EOF_TOKEN] = eofInBody,
            _s),
        _c$2[IN_CELL_MODE] = (_t = {},
            _t[tokenizer.CHARACTER_TOKEN] = characterInBody,
            _t[tokenizer.NULL_CHARACTER_TOKEN] = ignoreToken,
            _t[tokenizer.WHITESPACE_CHARACTER_TOKEN] = whitespaceCharacterInBody,
            _t[tokenizer.COMMENT_TOKEN] = appendComment,
            _t[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _t[tokenizer.START_TAG_TOKEN] = startTagInCell,
            _t[tokenizer.END_TAG_TOKEN] = endTagInCell,
            _t[tokenizer.EOF_TOKEN] = eofInBody,
            _t),
        _c$2[IN_SELECT_MODE] = (_u = {},
            _u[tokenizer.CHARACTER_TOKEN] = insertCharacters,
            _u[tokenizer.NULL_CHARACTER_TOKEN] = ignoreToken,
            _u[tokenizer.WHITESPACE_CHARACTER_TOKEN] = insertCharacters,
            _u[tokenizer.COMMENT_TOKEN] = appendComment,
            _u[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _u[tokenizer.START_TAG_TOKEN] = startTagInSelect,
            _u[tokenizer.END_TAG_TOKEN] = endTagInSelect,
            _u[tokenizer.EOF_TOKEN] = eofInBody,
            _u),
        _c$2[IN_SELECT_IN_TABLE_MODE] = (_v = {},
            _v[tokenizer.CHARACTER_TOKEN] = insertCharacters,
            _v[tokenizer.NULL_CHARACTER_TOKEN] = ignoreToken,
            _v[tokenizer.WHITESPACE_CHARACTER_TOKEN] = insertCharacters,
            _v[tokenizer.COMMENT_TOKEN] = appendComment,
            _v[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _v[tokenizer.START_TAG_TOKEN] = startTagInSelectInTable,
            _v[tokenizer.END_TAG_TOKEN] = endTagInSelectInTable,
            _v[tokenizer.EOF_TOKEN] = eofInBody,
            _v),
        _c$2[IN_TEMPLATE_MODE] = (_w = {},
            _w[tokenizer.CHARACTER_TOKEN] = characterInBody,
            _w[tokenizer.NULL_CHARACTER_TOKEN] = ignoreToken,
            _w[tokenizer.WHITESPACE_CHARACTER_TOKEN] = whitespaceCharacterInBody,
            _w[tokenizer.COMMENT_TOKEN] = appendComment,
            _w[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _w[tokenizer.START_TAG_TOKEN] = startTagInTemplate,
            _w[tokenizer.END_TAG_TOKEN] = endTagInTemplate,
            _w[tokenizer.EOF_TOKEN] = eofInTemplate,
            _w),
        _c$2[AFTER_BODY_MODE] = (_x = {},
            _x[tokenizer.CHARACTER_TOKEN] = tokenAfterBody,
            _x[tokenizer.NULL_CHARACTER_TOKEN] = tokenAfterBody,
            _x[tokenizer.WHITESPACE_CHARACTER_TOKEN] = whitespaceCharacterInBody,
            _x[tokenizer.COMMENT_TOKEN] = appendCommentToRootHtmlElement,
            _x[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _x[tokenizer.START_TAG_TOKEN] = startTagAfterBody,
            _x[tokenizer.END_TAG_TOKEN] = endTagAfterBody,
            _x[tokenizer.EOF_TOKEN] = stopParsing,
            _x),
        _c$2[IN_FRAMESET_MODE] = (_y = {},
            _y[tokenizer.CHARACTER_TOKEN] = ignoreToken,
            _y[tokenizer.NULL_CHARACTER_TOKEN] = ignoreToken,
            _y[tokenizer.WHITESPACE_CHARACTER_TOKEN] = insertCharacters,
            _y[tokenizer.COMMENT_TOKEN] = appendComment,
            _y[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _y[tokenizer.START_TAG_TOKEN] = startTagInFrameset,
            _y[tokenizer.END_TAG_TOKEN] = endTagInFrameset,
            _y[tokenizer.EOF_TOKEN] = stopParsing,
            _y),
        _c$2[AFTER_FRAMESET_MODE] = (_z = {},
            _z[tokenizer.CHARACTER_TOKEN] = ignoreToken,
            _z[tokenizer.NULL_CHARACTER_TOKEN] = ignoreToken,
            _z[tokenizer.WHITESPACE_CHARACTER_TOKEN] = insertCharacters,
            _z[tokenizer.COMMENT_TOKEN] = appendComment,
            _z[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _z[tokenizer.START_TAG_TOKEN] = startTagAfterFrameset,
            _z[tokenizer.END_TAG_TOKEN] = endTagAfterFrameset,
            _z[tokenizer.EOF_TOKEN] = stopParsing,
            _z),
        _c$2[AFTER_AFTER_BODY_MODE] = (_0 = {},
            _0[tokenizer.CHARACTER_TOKEN] = tokenAfterAfterBody,
            _0[tokenizer.NULL_CHARACTER_TOKEN] = tokenAfterAfterBody,
            _0[tokenizer.WHITESPACE_CHARACTER_TOKEN] = whitespaceCharacterInBody,
            _0[tokenizer.COMMENT_TOKEN] = appendCommentToDocument,
            _0[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _0[tokenizer.START_TAG_TOKEN] = startTagAfterAfterBody,
            _0[tokenizer.END_TAG_TOKEN] = tokenAfterAfterBody,
            _0[tokenizer.EOF_TOKEN] = stopParsing,
            _0),
        _c$2[AFTER_AFTER_FRAMESET_MODE] = (_1 = {},
            _1[tokenizer.CHARACTER_TOKEN] = ignoreToken,
            _1[tokenizer.NULL_CHARACTER_TOKEN] = ignoreToken,
            _1[tokenizer.WHITESPACE_CHARACTER_TOKEN] = whitespaceCharacterInBody,
            _1[tokenizer.COMMENT_TOKEN] = appendCommentToDocument,
            _1[tokenizer.DOCTYPE_TOKEN] = ignoreToken,
            _1[tokenizer.START_TAG_TOKEN] = startTagAfterAfterFrameset,
            _1[tokenizer.END_TAG_TOKEN] = ignoreToken,
            _1[tokenizer.EOF_TOKEN] = stopParsing,
            _1),
        _c$2);
    //Parser
    var Parser = /** @class */ (function () {
        function Parser(options) {
            this.options = mergeOptions(DEFAULT_OPTIONS$1, options);
            this.treeAdapter = this.options.treeAdapter;
            this.pendingScript = null;
            if (this.options.sourceCodeLocationInfo) {
                mixin.install(this, parserMixin$1);
            }
            if (this.options.onParseError) {
                mixin.install(this, parserMixin, { onParseError: this.options.onParseError });
            }
        }
        // API
        Parser.prototype.parse = function (html) {
            var document = this.treeAdapter.createDocument();
            this._bootstrap(document, null);
            this.tokenizer.write(html, true);
            this._runParsingLoop(null);
            return document;
        };
        Parser.prototype.parseFragment = function (html, fragmentContext) {
            //NOTE: use <template> element as a fragment context if context element was not provided,
            //so we will parse in "forgiving" manner
            if (!fragmentContext) {
                fragmentContext = this.treeAdapter.createElement($$1.TEMPLATE, NS$1.HTML, []);
            }
            //NOTE: create fake element which will be used as 'document' for fragment parsing.
            //This is important for jsdom there 'document' can't be recreated, therefore
            //fragment parsing causes messing of the main `document`.
            var documentMock = this.treeAdapter.createElement('documentmock', NS$1.HTML, []);
            this._bootstrap(documentMock, fragmentContext);
            if (this.treeAdapter.getTagName(fragmentContext) === $$1.TEMPLATE) {
                this._pushTmplInsertionMode(IN_TEMPLATE_MODE);
            }
            this._initTokenizerForFragmentParsing();
            this._insertFakeRootElement();
            this._resetInsertionMode();
            this._findFormInFragmentContext();
            this.tokenizer.write(html, true);
            this._runParsingLoop(null);
            var rootElement = this.treeAdapter.getFirstChild(documentMock);
            var fragment = this.treeAdapter.createDocumentFragment();
            this._adoptNodes(rootElement, fragment);
            return fragment;
        };
        //Bootstrap parser
        Parser.prototype._bootstrap = function (document, fragmentContext) {
            this.tokenizer = new tokenizer(this.options);
            this.stopped = false;
            this.insertionMode = INITIAL_MODE;
            this.originalInsertionMode = '';
            this.document = document;
            this.fragmentContext = fragmentContext;
            this.headElement = null;
            this.formElement = null;
            this.openElements = new openElementStack(this.document, this.treeAdapter);
            this.activeFormattingElements = new formattingElementList(this.treeAdapter);
            this.tmplInsertionModeStack = [];
            this.tmplInsertionModeStackTop = -1;
            this.currentTmplInsertionMode = null;
            this.pendingCharacterTokens = [];
            this.hasNonWhitespacePendingCharacterToken = false;
            this.framesetOk = true;
            this.skipNextNewLine = false;
            this.fosterParentingEnabled = false;
        };
        //Errors
        Parser.prototype._err = function () {
            // NOTE: err reporting is noop by default. Enabled by mixin.
        };
        //Parsing loop
        Parser.prototype._runParsingLoop = function (scriptHandler) {
            while (!this.stopped) {
                this._setupTokenizerCDATAMode();
                var token = this.tokenizer.getNextToken();
                if (token.type === tokenizer.HIBERNATION_TOKEN) {
                    break;
                }
                if (this.skipNextNewLine) {
                    this.skipNextNewLine = false;
                    if (token.type === tokenizer.WHITESPACE_CHARACTER_TOKEN && token.chars[0] === '\n') {
                        if (token.chars.length === 1) {
                            continue;
                        }
                        token.chars = token.chars.substr(1);
                    }
                }
                this._processInputToken(token);
                if (scriptHandler && this.pendingScript) {
                    break;
                }
            }
        };
        Parser.prototype.runParsingLoopForCurrentChunk = function (writeCallback, scriptHandler) {
            this._runParsingLoop(scriptHandler);
            if (scriptHandler && this.pendingScript) {
                var script = this.pendingScript;
                this.pendingScript = null;
                scriptHandler(script);
                return;
            }
            if (writeCallback) {
                writeCallback();
            }
        };
        //Text parsing
        Parser.prototype._setupTokenizerCDATAMode = function () {
            var current = this._getAdjustedCurrentElement();
            this.tokenizer.allowCDATA =
                current &&
                    current !== this.document &&
                    this.treeAdapter.getNamespaceURI(current) !== NS$1.HTML &&
                    !this._isIntegrationPoint(current);
        };
        Parser.prototype._switchToTextParsing = function (currentToken, nextTokenizerState) {
            this._insertElement(currentToken, NS$1.HTML);
            this.tokenizer.state = nextTokenizerState;
            this.originalInsertionMode = this.insertionMode;
            this.insertionMode = TEXT_MODE;
        };
        Parser.prototype.switchToPlaintextParsing = function () {
            this.insertionMode = TEXT_MODE;
            this.originalInsertionMode = IN_BODY_MODE;
            this.tokenizer.state = tokenizer.MODE.PLAINTEXT;
        };
        //Fragment parsing
        Parser.prototype._getAdjustedCurrentElement = function () {
            return this.openElements.stackTop === 0 && this.fragmentContext
                ? this.fragmentContext
                : this.openElements.current;
        };
        Parser.prototype._findFormInFragmentContext = function () {
            var node = this.fragmentContext;
            do {
                if (this.treeAdapter.getTagName(node) === $$1.FORM) {
                    this.formElement = node;
                    break;
                }
                node = this.treeAdapter.getParentNode(node);
            } while (node);
        };
        Parser.prototype._initTokenizerForFragmentParsing = function () {
            if (this.treeAdapter.getNamespaceURI(this.fragmentContext) === NS$1.HTML) {
                var tn = this.treeAdapter.getTagName(this.fragmentContext);
                if (tn === $$1.TITLE || tn === $$1.TEXTAREA) {
                    this.tokenizer.state = tokenizer.MODE.RCDATA;
                }
                else if (tn === $$1.STYLE ||
                    tn === $$1.XMP ||
                    tn === $$1.IFRAME ||
                    tn === $$1.NOEMBED ||
                    tn === $$1.NOFRAMES ||
                    tn === $$1.NOSCRIPT) {
                    this.tokenizer.state = tokenizer.MODE.RAWTEXT;
                }
                else if (tn === $$1.SCRIPT) {
                    this.tokenizer.state = tokenizer.MODE.SCRIPT_DATA;
                }
                else if (tn === $$1.PLAINTEXT) {
                    this.tokenizer.state = tokenizer.MODE.PLAINTEXT;
                }
            }
        };
        //Tree mutation
        Parser.prototype._setDocumentType = function (token) {
            var name = token.name || '';
            var publicId = token.publicId || '';
            var systemId = token.systemId || '';
            this.treeAdapter.setDocumentType(this.document, name, publicId, systemId);
        };
        Parser.prototype._attachElementToTree = function (element) {
            if (this._shouldFosterParentOnInsertion()) {
                this._fosterParentElement(element);
            }
            else {
                var parent = this.openElements.currentTmplContent || this.openElements.current;
                this.treeAdapter.appendChild(parent, element);
            }
        };
        Parser.prototype._appendElement = function (token, namespaceURI) {
            var element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);
            this._attachElementToTree(element);
        };
        Parser.prototype._insertElement = function (token, namespaceURI) {
            var element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);
            this._attachElementToTree(element);
            this.openElements.push(element);
        };
        Parser.prototype._insertFakeElement = function (tagName) {
            var element = this.treeAdapter.createElement(tagName, NS$1.HTML, []);
            this._attachElementToTree(element);
            this.openElements.push(element);
        };
        Parser.prototype._insertTemplate = function (token) {
            var tmpl = this.treeAdapter.createElement(token.tagName, NS$1.HTML, token.attrs);
            var content = this.treeAdapter.createDocumentFragment();
            this.treeAdapter.setTemplateContent(tmpl, content);
            this._attachElementToTree(tmpl);
            this.openElements.push(tmpl);
        };
        Parser.prototype._insertFakeRootElement = function () {
            var element = this.treeAdapter.createElement($$1.HTML, NS$1.HTML, []);
            this.treeAdapter.appendChild(this.openElements.current, element);
            this.openElements.push(element);
        };
        Parser.prototype._appendCommentNode = function (token, parent) {
            var commentNode = this.treeAdapter.createCommentNode(token.data);
            this.treeAdapter.appendChild(parent, commentNode);
        };
        Parser.prototype._insertCharacters = function (token) {
            if (this._shouldFosterParentOnInsertion()) {
                this._fosterParentText(token.chars);
            }
            else {
                var parent = this.openElements.currentTmplContent || this.openElements.current;
                this.treeAdapter.insertText(parent, token.chars);
            }
        };
        Parser.prototype._adoptNodes = function (donor, recipient) {
            for (var child = this.treeAdapter.getFirstChild(donor); child; child = this.treeAdapter.getFirstChild(donor)) {
                this.treeAdapter.detachNode(child);
                this.treeAdapter.appendChild(recipient, child);
            }
        };
        //Token processing
        Parser.prototype._shouldProcessTokenInForeignContent = function (token) {
            var current = this._getAdjustedCurrentElement();
            if (!current || current === this.document) {
                return false;
            }
            var ns = this.treeAdapter.getNamespaceURI(current);
            if (ns === NS$1.HTML) {
                return false;
            }
            if (this.treeAdapter.getTagName(current) === $$1.ANNOTATION_XML &&
                ns === NS$1.MATHML &&
                token.type === tokenizer.START_TAG_TOKEN &&
                token.tagName === $$1.SVG) {
                return false;
            }
            var isCharacterToken = token.type === tokenizer.CHARACTER_TOKEN ||
                token.type === tokenizer.NULL_CHARACTER_TOKEN ||
                token.type === tokenizer.WHITESPACE_CHARACTER_TOKEN;
            var isMathMLTextStartTag = token.type === tokenizer.START_TAG_TOKEN && token.tagName !== $$1.MGLYPH && token.tagName !== $$1.MALIGNMARK;
            if ((isMathMLTextStartTag || isCharacterToken) && this._isIntegrationPoint(current, NS$1.MATHML)) {
                return false;
            }
            if ((token.type === tokenizer.START_TAG_TOKEN || isCharacterToken) &&
                this._isIntegrationPoint(current, NS$1.HTML)) {
                return false;
            }
            return token.type !== tokenizer.EOF_TOKEN;
        };
        Parser.prototype._processToken = function (token) {
            TOKEN_HANDLERS[this.insertionMode][token.type](this, token);
        };
        Parser.prototype._processTokenInBodyMode = function (token) {
            TOKEN_HANDLERS[IN_BODY_MODE][token.type](this, token);
        };
        Parser.prototype._processTokenInForeignContent = function (token) {
            if (token.type === tokenizer.CHARACTER_TOKEN) {
                characterInForeignContent(this, token);
            }
            else if (token.type === tokenizer.NULL_CHARACTER_TOKEN) {
                nullCharacterInForeignContent(this, token);
            }
            else if (token.type === tokenizer.WHITESPACE_CHARACTER_TOKEN) {
                insertCharacters(this, token);
            }
            else if (token.type === tokenizer.COMMENT_TOKEN) {
                appendComment(this, token);
            }
            else if (token.type === tokenizer.START_TAG_TOKEN) {
                startTagInForeignContent(this, token);
            }
            else if (token.type === tokenizer.END_TAG_TOKEN) {
                endTagInForeignContent(this, token);
            }
        };
        Parser.prototype._processInputToken = function (token) {
            if (this._shouldProcessTokenInForeignContent(token)) {
                this._processTokenInForeignContent(token);
            }
            else {
                this._processToken(token);
            }
            if (token.type === tokenizer.START_TAG_TOKEN && token.selfClosing && !token.ackSelfClosing) {
                this._err(errorCodes.nonVoidHtmlElementStartTagWithTrailingSolidus);
            }
        };
        //Integration points
        Parser.prototype._isIntegrationPoint = function (element, foreignNS) {
            var tn = this.treeAdapter.getTagName(element);
            var ns = this.treeAdapter.getNamespaceURI(element);
            var attrs = this.treeAdapter.getAttrList(element);
            return foreignContent.isIntegrationPoint(tn, ns, attrs, foreignNS);
        };
        //Active formatting elements reconstruction
        Parser.prototype._reconstructActiveFormattingElements = function () {
            var listLength = this.activeFormattingElements.length;
            if (listLength) {
                var unopenIdx = listLength;
                var entry = null;
                do {
                    unopenIdx--;
                    entry = this.activeFormattingElements.entries[unopenIdx];
                    if (entry.type === formattingElementList.MARKER_ENTRY || this.openElements.contains(entry.element)) {
                        unopenIdx++;
                        break;
                    }
                } while (unopenIdx > 0);
                for (var i = unopenIdx; i < listLength; i++) {
                    entry = this.activeFormattingElements.entries[i];
                    this._insertElement(entry.token, this.treeAdapter.getNamespaceURI(entry.element));
                    entry.element = this.openElements.current;
                }
            }
        };
        //Close elements
        Parser.prototype._closeTableCell = function () {
            this.openElements.generateImpliedEndTags();
            this.openElements.popUntilTableCellPopped();
            this.activeFormattingElements.clearToLastMarker();
            this.insertionMode = IN_ROW_MODE;
        };
        Parser.prototype._closePElement = function () {
            this.openElements.generateImpliedEndTagsWithExclusion($$1.P);
            this.openElements.popUntilTagNamePopped($$1.P);
        };
        //Insertion modes
        Parser.prototype._resetInsertionMode = function () {
            for (var i = this.openElements.stackTop, last = false; i >= 0; i--) {
                var element = this.openElements.items[i];
                if (i === 0) {
                    last = true;
                    if (this.fragmentContext) {
                        element = this.fragmentContext;
                    }
                }
                var tn = this.treeAdapter.getTagName(element);
                var newInsertionMode = INSERTION_MODE_RESET_MAP[tn];
                if (newInsertionMode) {
                    this.insertionMode = newInsertionMode;
                    break;
                }
                else if (!last && (tn === $$1.TD || tn === $$1.TH)) {
                    this.insertionMode = IN_CELL_MODE;
                    break;
                }
                else if (!last && tn === $$1.HEAD) {
                    this.insertionMode = IN_HEAD_MODE;
                    break;
                }
                else if (tn === $$1.SELECT) {
                    this._resetInsertionModeForSelect(i);
                    break;
                }
                else if (tn === $$1.TEMPLATE) {
                    this.insertionMode = this.currentTmplInsertionMode;
                    break;
                }
                else if (tn === $$1.HTML) {
                    this.insertionMode = this.headElement ? AFTER_HEAD_MODE : BEFORE_HEAD_MODE;
                    break;
                }
                else if (last) {
                    this.insertionMode = IN_BODY_MODE;
                    break;
                }
            }
        };
        Parser.prototype._resetInsertionModeForSelect = function (selectIdx) {
            if (selectIdx > 0) {
                for (var i = selectIdx - 1; i > 0; i--) {
                    var ancestor = this.openElements.items[i];
                    var tn = this.treeAdapter.getTagName(ancestor);
                    if (tn === $$1.TEMPLATE) {
                        break;
                    }
                    else if (tn === $$1.TABLE) {
                        this.insertionMode = IN_SELECT_IN_TABLE_MODE;
                        return;
                    }
                }
            }
            this.insertionMode = IN_SELECT_MODE;
        };
        Parser.prototype._pushTmplInsertionMode = function (mode) {
            this.tmplInsertionModeStack.push(mode);
            this.tmplInsertionModeStackTop++;
            this.currentTmplInsertionMode = mode;
        };
        Parser.prototype._popTmplInsertionMode = function () {
            this.tmplInsertionModeStack.pop();
            this.tmplInsertionModeStackTop--;
            this.currentTmplInsertionMode = this.tmplInsertionModeStack[this.tmplInsertionModeStackTop];
        };
        //Foster parenting
        Parser.prototype._isElementCausesFosterParenting = function (element) {
            var tn = this.treeAdapter.getTagName(element);
            return tn === $$1.TABLE || tn === $$1.TBODY || tn === $$1.TFOOT || tn === $$1.THEAD || tn === $$1.TR;
        };
        Parser.prototype._shouldFosterParentOnInsertion = function () {
            return this.fosterParentingEnabled && this._isElementCausesFosterParenting(this.openElements.current);
        };
        Parser.prototype._findFosterParentingLocation = function () {
            var location = {
                parent: null,
                beforeElement: null
            };
            for (var i = this.openElements.stackTop; i >= 0; i--) {
                var openElement = this.openElements.items[i];
                var tn = this.treeAdapter.getTagName(openElement);
                var ns = this.treeAdapter.getNamespaceURI(openElement);
                if (tn === $$1.TEMPLATE && ns === NS$1.HTML) {
                    location.parent = this.treeAdapter.getTemplateContent(openElement);
                    break;
                }
                else if (tn === $$1.TABLE) {
                    location.parent = this.treeAdapter.getParentNode(openElement);
                    if (location.parent) {
                        location.beforeElement = openElement;
                    }
                    else {
                        location.parent = this.openElements.items[i - 1];
                    }
                    break;
                }
            }
            if (!location.parent) {
                location.parent = this.openElements.items[0];
            }
            return location;
        };
        Parser.prototype._fosterParentElement = function (element) {
            var location = this._findFosterParentingLocation();
            if (location.beforeElement) {
                this.treeAdapter.insertBefore(location.parent, element, location.beforeElement);
            }
            else {
                this.treeAdapter.appendChild(location.parent, element);
            }
        };
        Parser.prototype._fosterParentText = function (chars) {
            var location = this._findFosterParentingLocation();
            if (location.beforeElement) {
                this.treeAdapter.insertTextBefore(location.parent, chars, location.beforeElement);
            }
            else {
                this.treeAdapter.insertText(location.parent, chars);
            }
        };
        //Special elements
        Parser.prototype._isSpecialElement = function (element) {
            var tn = this.treeAdapter.getTagName(element);
            var ns = this.treeAdapter.getNamespaceURI(element);
            return html.SPECIAL_ELEMENTS[ns][tn];
        };
        return Parser;
    }());
    var parser = Parser;
    //Adoption agency algorithm
    //(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#adoptionAgency)
    //------------------------------------------------------------------
    //Steps 5-8 of the algorithm
    function aaObtainFormattingElementEntry(p, token) {
        var formattingElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(token.tagName);
        if (formattingElementEntry) {
            if (!p.openElements.contains(formattingElementEntry.element)) {
                p.activeFormattingElements.removeEntry(formattingElementEntry);
                formattingElementEntry = null;
            }
            else if (!p.openElements.hasInScope(token.tagName)) {
                formattingElementEntry = null;
            }
        }
        else {
            genericEndTagInBody(p, token);
        }
        return formattingElementEntry;
    }
    //Steps 9 and 10 of the algorithm
    function aaObtainFurthestBlock(p, formattingElementEntry) {
        var furthestBlock = null;
        for (var i = p.openElements.stackTop; i >= 0; i--) {
            var element = p.openElements.items[i];
            if (element === formattingElementEntry.element) {
                break;
            }
            if (p._isSpecialElement(element)) {
                furthestBlock = element;
            }
        }
        if (!furthestBlock) {
            p.openElements.popUntilElementPopped(formattingElementEntry.element);
            p.activeFormattingElements.removeEntry(formattingElementEntry);
        }
        return furthestBlock;
    }
    //Step 13 of the algorithm
    function aaInnerLoop(p, furthestBlock, formattingElement) {
        var lastElement = furthestBlock;
        var nextElement = p.openElements.getCommonAncestor(furthestBlock);
        for (var i = 0, element = nextElement; element !== formattingElement; i++, element = nextElement) {
            //NOTE: store next element for the next loop iteration (it may be deleted from the stack by step 9.5)
            nextElement = p.openElements.getCommonAncestor(element);
            var elementEntry = p.activeFormattingElements.getElementEntry(element);
            var counterOverflow = elementEntry && i >= AA_INNER_LOOP_ITER;
            var shouldRemoveFromOpenElements = !elementEntry || counterOverflow;
            if (shouldRemoveFromOpenElements) {
                if (counterOverflow) {
                    p.activeFormattingElements.removeEntry(elementEntry);
                }
                p.openElements.remove(element);
            }
            else {
                element = aaRecreateElementFromEntry(p, elementEntry);
                if (lastElement === furthestBlock) {
                    p.activeFormattingElements.bookmark = elementEntry;
                }
                p.treeAdapter.detachNode(lastElement);
                p.treeAdapter.appendChild(element, lastElement);
                lastElement = element;
            }
        }
        return lastElement;
    }
    //Step 13.7 of the algorithm
    function aaRecreateElementFromEntry(p, elementEntry) {
        var ns = p.treeAdapter.getNamespaceURI(elementEntry.element);
        var newElement = p.treeAdapter.createElement(elementEntry.token.tagName, ns, elementEntry.token.attrs);
        p.openElements.replace(elementEntry.element, newElement);
        elementEntry.element = newElement;
        return newElement;
    }
    //Step 14 of the algorithm
    function aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement) {
        if (p._isElementCausesFosterParenting(commonAncestor)) {
            p._fosterParentElement(lastElement);
        }
        else {
            var tn = p.treeAdapter.getTagName(commonAncestor);
            var ns = p.treeAdapter.getNamespaceURI(commonAncestor);
            if (tn === $$1.TEMPLATE && ns === NS$1.HTML) {
                commonAncestor = p.treeAdapter.getTemplateContent(commonAncestor);
            }
            p.treeAdapter.appendChild(commonAncestor, lastElement);
        }
    }
    //Steps 15-19 of the algorithm
    function aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry) {
        var ns = p.treeAdapter.getNamespaceURI(formattingElementEntry.element);
        var token = formattingElementEntry.token;
        var newElement = p.treeAdapter.createElement(token.tagName, ns, token.attrs);
        p._adoptNodes(furthestBlock, newElement);
        p.treeAdapter.appendChild(furthestBlock, newElement);
        p.activeFormattingElements.insertElementAfterBookmark(newElement, formattingElementEntry.token);
        p.activeFormattingElements.removeEntry(formattingElementEntry);
        p.openElements.remove(formattingElementEntry.element);
        p.openElements.insertAfter(furthestBlock, newElement);
    }
    //Algorithm entry point
    function callAdoptionAgency(p, token) {
        var formattingElementEntry;
        for (var i = 0; i < AA_OUTER_LOOP_ITER; i++) {
            formattingElementEntry = aaObtainFormattingElementEntry(p, token, formattingElementEntry);
            if (!formattingElementEntry) {
                break;
            }
            var furthestBlock = aaObtainFurthestBlock(p, formattingElementEntry);
            if (!furthestBlock) {
                break;
            }
            p.activeFormattingElements.bookmark = formattingElementEntry;
            var lastElement = aaInnerLoop(p, furthestBlock, formattingElementEntry.element);
            var commonAncestor = p.openElements.getCommonAncestor(formattingElementEntry.element);
            p.treeAdapter.detachNode(lastElement);
            aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement);
            aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry);
        }
    }
    //Generic token handlers
    //------------------------------------------------------------------
    function ignoreToken() {
        //NOTE: do nothing =)
    }
    function misplacedDoctype(p) {
        p._err(errorCodes.misplacedDoctype);
    }
    function appendComment(p, token) {
        p._appendCommentNode(token, p.openElements.currentTmplContent || p.openElements.current);
    }
    function appendCommentToRootHtmlElement(p, token) {
        p._appendCommentNode(token, p.openElements.items[0]);
    }
    function appendCommentToDocument(p, token) {
        p._appendCommentNode(token, p.document);
    }
    function insertCharacters(p, token) {
        p._insertCharacters(token);
    }
    function stopParsing(p) {
        p.stopped = true;
    }
    // The "initial" insertion mode
    //------------------------------------------------------------------
    function doctypeInInitialMode(p, token) {
        p._setDocumentType(token);
        var mode = token.forceQuirks ? html.DOCUMENT_MODE.QUIRKS : doctype.getDocumentMode(token);
        if (!doctype.isConforming(token)) {
            p._err(errorCodes.nonConformingDoctype);
        }
        p.treeAdapter.setDocumentMode(p.document, mode);
        p.insertionMode = BEFORE_HTML_MODE;
    }
    function tokenInInitialMode(p, token) {
        p._err(errorCodes.missingDoctype, { beforeToken: true });
        p.treeAdapter.setDocumentMode(p.document, html.DOCUMENT_MODE.QUIRKS);
        p.insertionMode = BEFORE_HTML_MODE;
        p._processToken(token);
    }
    // The "before html" insertion mode
    //------------------------------------------------------------------
    function startTagBeforeHtml(p, token) {
        if (token.tagName === $$1.HTML) {
            p._insertElement(token, NS$1.HTML);
            p.insertionMode = BEFORE_HEAD_MODE;
        }
        else {
            tokenBeforeHtml(p, token);
        }
    }
    function endTagBeforeHtml(p, token) {
        var tn = token.tagName;
        if (tn === $$1.HTML || tn === $$1.HEAD || tn === $$1.BODY || tn === $$1.BR) {
            tokenBeforeHtml(p, token);
        }
    }
    function tokenBeforeHtml(p, token) {
        p._insertFakeRootElement();
        p.insertionMode = BEFORE_HEAD_MODE;
        p._processToken(token);
    }
    // The "before head" insertion mode
    //------------------------------------------------------------------
    function startTagBeforeHead(p, token) {
        var tn = token.tagName;
        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        }
        else if (tn === $$1.HEAD) {
            p._insertElement(token, NS$1.HTML);
            p.headElement = p.openElements.current;
            p.insertionMode = IN_HEAD_MODE;
        }
        else {
            tokenBeforeHead(p, token);
        }
    }
    function endTagBeforeHead(p, token) {
        var tn = token.tagName;
        if (tn === $$1.HEAD || tn === $$1.BODY || tn === $$1.HTML || tn === $$1.BR) {
            tokenBeforeHead(p, token);
        }
        else {
            p._err(errorCodes.endTagWithoutMatchingOpenElement);
        }
    }
    function tokenBeforeHead(p, token) {
        p._insertFakeElement($$1.HEAD);
        p.headElement = p.openElements.current;
        p.insertionMode = IN_HEAD_MODE;
        p._processToken(token);
    }
    // The "in head" insertion mode
    //------------------------------------------------------------------
    function startTagInHead(p, token) {
        var tn = token.tagName;
        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        }
        else if (tn === $$1.BASE || tn === $$1.BASEFONT || tn === $$1.BGSOUND || tn === $$1.LINK || tn === $$1.META) {
            p._appendElement(token, NS$1.HTML);
            token.ackSelfClosing = true;
        }
        else if (tn === $$1.TITLE) {
            p._switchToTextParsing(token, tokenizer.MODE.RCDATA);
        }
        else if (tn === $$1.NOSCRIPT) {
            if (p.options.scriptingEnabled) {
                p._switchToTextParsing(token, tokenizer.MODE.RAWTEXT);
            }
            else {
                p._insertElement(token, NS$1.HTML);
                p.insertionMode = IN_HEAD_NO_SCRIPT_MODE;
            }
        }
        else if (tn === $$1.NOFRAMES || tn === $$1.STYLE) {
            p._switchToTextParsing(token, tokenizer.MODE.RAWTEXT);
        }
        else if (tn === $$1.SCRIPT) {
            p._switchToTextParsing(token, tokenizer.MODE.SCRIPT_DATA);
        }
        else if (tn === $$1.TEMPLATE) {
            p._insertTemplate(token, NS$1.HTML);
            p.activeFormattingElements.insertMarker();
            p.framesetOk = false;
            p.insertionMode = IN_TEMPLATE_MODE;
            p._pushTmplInsertionMode(IN_TEMPLATE_MODE);
        }
        else if (tn === $$1.HEAD) {
            p._err(errorCodes.misplacedStartTagForHeadElement);
        }
        else {
            tokenInHead(p, token);
        }
    }
    function endTagInHead(p, token) {
        var tn = token.tagName;
        if (tn === $$1.HEAD) {
            p.openElements.pop();
            p.insertionMode = AFTER_HEAD_MODE;
        }
        else if (tn === $$1.BODY || tn === $$1.BR || tn === $$1.HTML) {
            tokenInHead(p, token);
        }
        else if (tn === $$1.TEMPLATE) {
            if (p.openElements.tmplCount > 0) {
                p.openElements.generateImpliedEndTagsThoroughly();
                if (p.openElements.currentTagName !== $$1.TEMPLATE) {
                    p._err(errorCodes.closingOfElementWithOpenChildElements);
                }
                p.openElements.popUntilTagNamePopped($$1.TEMPLATE);
                p.activeFormattingElements.clearToLastMarker();
                p._popTmplInsertionMode();
                p._resetInsertionMode();
            }
            else {
                p._err(errorCodes.endTagWithoutMatchingOpenElement);
            }
        }
        else {
            p._err(errorCodes.endTagWithoutMatchingOpenElement);
        }
    }
    function tokenInHead(p, token) {
        p.openElements.pop();
        p.insertionMode = AFTER_HEAD_MODE;
        p._processToken(token);
    }
    // The "in head no script" insertion mode
    //------------------------------------------------------------------
    function startTagInHeadNoScript(p, token) {
        var tn = token.tagName;
        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        }
        else if (tn === $$1.BASEFONT ||
            tn === $$1.BGSOUND ||
            tn === $$1.HEAD ||
            tn === $$1.LINK ||
            tn === $$1.META ||
            tn === $$1.NOFRAMES ||
            tn === $$1.STYLE) {
            startTagInHead(p, token);
        }
        else if (tn === $$1.NOSCRIPT) {
            p._err(errorCodes.nestedNoscriptInHead);
        }
        else {
            tokenInHeadNoScript(p, token);
        }
    }
    function endTagInHeadNoScript(p, token) {
        var tn = token.tagName;
        if (tn === $$1.NOSCRIPT) {
            p.openElements.pop();
            p.insertionMode = IN_HEAD_MODE;
        }
        else if (tn === $$1.BR) {
            tokenInHeadNoScript(p, token);
        }
        else {
            p._err(errorCodes.endTagWithoutMatchingOpenElement);
        }
    }
    function tokenInHeadNoScript(p, token) {
        var errCode = token.type === tokenizer.EOF_TOKEN ? errorCodes.openElementsLeftAfterEof : errorCodes.disallowedContentInNoscriptInHead;
        p._err(errCode);
        p.openElements.pop();
        p.insertionMode = IN_HEAD_MODE;
        p._processToken(token);
    }
    // The "after head" insertion mode
    //------------------------------------------------------------------
    function startTagAfterHead(p, token) {
        var tn = token.tagName;
        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        }
        else if (tn === $$1.BODY) {
            p._insertElement(token, NS$1.HTML);
            p.framesetOk = false;
            p.insertionMode = IN_BODY_MODE;
        }
        else if (tn === $$1.FRAMESET) {
            p._insertElement(token, NS$1.HTML);
            p.insertionMode = IN_FRAMESET_MODE;
        }
        else if (tn === $$1.BASE ||
            tn === $$1.BASEFONT ||
            tn === $$1.BGSOUND ||
            tn === $$1.LINK ||
            tn === $$1.META ||
            tn === $$1.NOFRAMES ||
            tn === $$1.SCRIPT ||
            tn === $$1.STYLE ||
            tn === $$1.TEMPLATE ||
            tn === $$1.TITLE) {
            p._err(errorCodes.abandonedHeadElementChild);
            p.openElements.push(p.headElement);
            startTagInHead(p, token);
            p.openElements.remove(p.headElement);
        }
        else if (tn === $$1.HEAD) {
            p._err(errorCodes.misplacedStartTagForHeadElement);
        }
        else {
            tokenAfterHead(p, token);
        }
    }
    function endTagAfterHead(p, token) {
        var tn = token.tagName;
        if (tn === $$1.BODY || tn === $$1.HTML || tn === $$1.BR) {
            tokenAfterHead(p, token);
        }
        else if (tn === $$1.TEMPLATE) {
            endTagInHead(p, token);
        }
        else {
            p._err(errorCodes.endTagWithoutMatchingOpenElement);
        }
    }
    function tokenAfterHead(p, token) {
        p._insertFakeElement($$1.BODY);
        p.insertionMode = IN_BODY_MODE;
        p._processToken(token);
    }
    // The "in body" insertion mode
    //------------------------------------------------------------------
    function whitespaceCharacterInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._insertCharacters(token);
    }
    function characterInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._insertCharacters(token);
        p.framesetOk = false;
    }
    function htmlStartTagInBody(p, token) {
        if (p.openElements.tmplCount === 0) {
            p.treeAdapter.adoptAttributes(p.openElements.items[0], token.attrs);
        }
    }
    function bodyStartTagInBody(p, token) {
        var bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();
        if (bodyElement && p.openElements.tmplCount === 0) {
            p.framesetOk = false;
            p.treeAdapter.adoptAttributes(bodyElement, token.attrs);
        }
    }
    function framesetStartTagInBody(p, token) {
        var bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();
        if (p.framesetOk && bodyElement) {
            p.treeAdapter.detachNode(bodyElement);
            p.openElements.popAllUpToHtmlElement();
            p._insertElement(token, NS$1.HTML);
            p.insertionMode = IN_FRAMESET_MODE;
        }
    }
    function addressStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }
        p._insertElement(token, NS$1.HTML);
    }
    function numberedHeaderStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }
        var tn = p.openElements.currentTagName;
        if (tn === $$1.H1 || tn === $$1.H2 || tn === $$1.H3 || tn === $$1.H4 || tn === $$1.H5 || tn === $$1.H6) {
            p.openElements.pop();
        }
        p._insertElement(token, NS$1.HTML);
    }
    function preStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }
        p._insertElement(token, NS$1.HTML);
        //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move
        //on to the next one. (Newlines at the start of pre blocks are ignored as an authoring convenience.)
        p.skipNextNewLine = true;
        p.framesetOk = false;
    }
    function formStartTagInBody(p, token) {
        var inTemplate = p.openElements.tmplCount > 0;
        if (!p.formElement || inTemplate) {
            if (p.openElements.hasInButtonScope($$1.P)) {
                p._closePElement();
            }
            p._insertElement(token, NS$1.HTML);
            if (!inTemplate) {
                p.formElement = p.openElements.current;
            }
        }
    }
    function listItemStartTagInBody(p, token) {
        p.framesetOk = false;
        var tn = token.tagName;
        for (var i = p.openElements.stackTop; i >= 0; i--) {
            var element = p.openElements.items[i];
            var elementTn = p.treeAdapter.getTagName(element);
            var closeTn = null;
            if (tn === $$1.LI && elementTn === $$1.LI) {
                closeTn = $$1.LI;
            }
            else if ((tn === $$1.DD || tn === $$1.DT) && (elementTn === $$1.DD || elementTn === $$1.DT)) {
                closeTn = elementTn;
            }
            if (closeTn) {
                p.openElements.generateImpliedEndTagsWithExclusion(closeTn);
                p.openElements.popUntilTagNamePopped(closeTn);
                break;
            }
            if (elementTn !== $$1.ADDRESS && elementTn !== $$1.DIV && elementTn !== $$1.P && p._isSpecialElement(element)) {
                break;
            }
        }
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }
        p._insertElement(token, NS$1.HTML);
    }
    function plaintextStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }
        p._insertElement(token, NS$1.HTML);
        p.tokenizer.state = tokenizer.MODE.PLAINTEXT;
    }
    function buttonStartTagInBody(p, token) {
        if (p.openElements.hasInScope($$1.BUTTON)) {
            p.openElements.generateImpliedEndTags();
            p.openElements.popUntilTagNamePopped($$1.BUTTON);
        }
        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
        p.framesetOk = false;
    }
    function aStartTagInBody(p, token) {
        var activeElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName($$1.A);
        if (activeElementEntry) {
            callAdoptionAgency(p, token);
            p.openElements.remove(activeElementEntry.element);
            p.activeFormattingElements.removeEntry(activeElementEntry);
        }
        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
        p.activeFormattingElements.pushElement(p.openElements.current, token);
    }
    function bStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
        p.activeFormattingElements.pushElement(p.openElements.current, token);
    }
    function nobrStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        if (p.openElements.hasInScope($$1.NOBR)) {
            callAdoptionAgency(p, token);
            p._reconstructActiveFormattingElements();
        }
        p._insertElement(token, NS$1.HTML);
        p.activeFormattingElements.pushElement(p.openElements.current, token);
    }
    function appletStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
        p.activeFormattingElements.insertMarker();
        p.framesetOk = false;
    }
    function tableStartTagInBody(p, token) {
        if (p.treeAdapter.getDocumentMode(p.document) !== html.DOCUMENT_MODE.QUIRKS &&
            p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }
        p._insertElement(token, NS$1.HTML);
        p.framesetOk = false;
        p.insertionMode = IN_TABLE_MODE;
    }
    function areaStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._appendElement(token, NS$1.HTML);
        p.framesetOk = false;
        token.ackSelfClosing = true;
    }
    function inputStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._appendElement(token, NS$1.HTML);
        var inputType = tokenizer.getTokenAttr(token, ATTRS.TYPE);
        if (!inputType || inputType.toLowerCase() !== HIDDEN_INPUT_TYPE) {
            p.framesetOk = false;
        }
        token.ackSelfClosing = true;
    }
    function paramStartTagInBody(p, token) {
        p._appendElement(token, NS$1.HTML);
        token.ackSelfClosing = true;
    }
    function hrStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }
        p._appendElement(token, NS$1.HTML);
        p.framesetOk = false;
        token.ackSelfClosing = true;
    }
    function imageStartTagInBody(p, token) {
        token.tagName = $$1.IMG;
        areaStartTagInBody(p, token);
    }
    function textareaStartTagInBody(p, token) {
        p._insertElement(token, NS$1.HTML);
        //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move
        //on to the next one. (Newlines at the start of textarea elements are ignored as an authoring convenience.)
        p.skipNextNewLine = true;
        p.tokenizer.state = tokenizer.MODE.RCDATA;
        p.originalInsertionMode = p.insertionMode;
        p.framesetOk = false;
        p.insertionMode = TEXT_MODE;
    }
    function xmpStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }
        p._reconstructActiveFormattingElements();
        p.framesetOk = false;
        p._switchToTextParsing(token, tokenizer.MODE.RAWTEXT);
    }
    function iframeStartTagInBody(p, token) {
        p.framesetOk = false;
        p._switchToTextParsing(token, tokenizer.MODE.RAWTEXT);
    }
    //NOTE: here we assume that we always act as an user agent with enabled plugins, so we parse
    //<noembed> as a rawtext.
    function noembedStartTagInBody(p, token) {
        p._switchToTextParsing(token, tokenizer.MODE.RAWTEXT);
    }
    function selectStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
        p.framesetOk = false;
        if (p.insertionMode === IN_TABLE_MODE ||
            p.insertionMode === IN_CAPTION_MODE ||
            p.insertionMode === IN_TABLE_BODY_MODE ||
            p.insertionMode === IN_ROW_MODE ||
            p.insertionMode === IN_CELL_MODE) {
            p.insertionMode = IN_SELECT_IN_TABLE_MODE;
        }
        else {
            p.insertionMode = IN_SELECT_MODE;
        }
    }
    function optgroupStartTagInBody(p, token) {
        if (p.openElements.currentTagName === $$1.OPTION) {
            p.openElements.pop();
        }
        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
    }
    function rbStartTagInBody(p, token) {
        if (p.openElements.hasInScope($$1.RUBY)) {
            p.openElements.generateImpliedEndTags();
        }
        p._insertElement(token, NS$1.HTML);
    }
    function rtStartTagInBody(p, token) {
        if (p.openElements.hasInScope($$1.RUBY)) {
            p.openElements.generateImpliedEndTagsWithExclusion($$1.RTC);
        }
        p._insertElement(token, NS$1.HTML);
    }
    function menuStartTagInBody(p, token) {
        if (p.openElements.hasInButtonScope($$1.P)) {
            p._closePElement();
        }
        p._insertElement(token, NS$1.HTML);
    }
    function mathStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        foreignContent.adjustTokenMathMLAttrs(token);
        foreignContent.adjustTokenXMLAttrs(token);
        if (token.selfClosing) {
            p._appendElement(token, NS$1.MATHML);
        }
        else {
            p._insertElement(token, NS$1.MATHML);
        }
        token.ackSelfClosing = true;
    }
    function svgStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        foreignContent.adjustTokenSVGAttrs(token);
        foreignContent.adjustTokenXMLAttrs(token);
        if (token.selfClosing) {
            p._appendElement(token, NS$1.SVG);
        }
        else {
            p._insertElement(token, NS$1.SVG);
        }
        token.ackSelfClosing = true;
    }
    function genericStartTagInBody(p, token) {
        p._reconstructActiveFormattingElements();
        p._insertElement(token, NS$1.HTML);
    }
    //OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.
    //It's faster than using dictionary.
    function startTagInBody(p, token) {
        var tn = token.tagName;
        switch (tn.length) {
            case 1:
                if (tn === $$1.I || tn === $$1.S || tn === $$1.B || tn === $$1.U) {
                    bStartTagInBody(p, token);
                }
                else if (tn === $$1.P) {
                    addressStartTagInBody(p, token);
                }
                else if (tn === $$1.A) {
                    aStartTagInBody(p, token);
                }
                else {
                    genericStartTagInBody(p, token);
                }
                break;
            case 2:
                if (tn === $$1.DL || tn === $$1.OL || tn === $$1.UL) {
                    addressStartTagInBody(p, token);
                }
                else if (tn === $$1.H1 || tn === $$1.H2 || tn === $$1.H3 || tn === $$1.H4 || tn === $$1.H5 || tn === $$1.H6) {
                    numberedHeaderStartTagInBody(p, token);
                }
                else if (tn === $$1.LI || tn === $$1.DD || tn === $$1.DT) {
                    listItemStartTagInBody(p, token);
                }
                else if (tn === $$1.EM || tn === $$1.TT) {
                    bStartTagInBody(p, token);
                }
                else if (tn === $$1.BR) {
                    areaStartTagInBody(p, token);
                }
                else if (tn === $$1.HR) {
                    hrStartTagInBody(p, token);
                }
                else if (tn === $$1.RB) {
                    rbStartTagInBody(p, token);
                }
                else if (tn === $$1.RT || tn === $$1.RP) {
                    rtStartTagInBody(p, token);
                }
                else if (tn !== $$1.TH && tn !== $$1.TD && tn !== $$1.TR) {
                    genericStartTagInBody(p, token);
                }
                break;
            case 3:
                if (tn === $$1.DIV || tn === $$1.DIR || tn === $$1.NAV) {
                    addressStartTagInBody(p, token);
                }
                else if (tn === $$1.PRE) {
                    preStartTagInBody(p, token);
                }
                else if (tn === $$1.BIG) {
                    bStartTagInBody(p, token);
                }
                else if (tn === $$1.IMG || tn === $$1.WBR) {
                    areaStartTagInBody(p, token);
                }
                else if (tn === $$1.XMP) {
                    xmpStartTagInBody(p, token);
                }
                else if (tn === $$1.SVG) {
                    svgStartTagInBody(p, token);
                }
                else if (tn === $$1.RTC) {
                    rbStartTagInBody(p, token);
                }
                else if (tn !== $$1.COL) {
                    genericStartTagInBody(p, token);
                }
                break;
            case 4:
                if (tn === $$1.HTML) {
                    htmlStartTagInBody(p, token);
                }
                else if (tn === $$1.BASE || tn === $$1.LINK || tn === $$1.META) {
                    startTagInHead(p, token);
                }
                else if (tn === $$1.BODY) {
                    bodyStartTagInBody(p, token);
                }
                else if (tn === $$1.MAIN || tn === $$1.MENU) {
                    addressStartTagInBody(p, token);
                }
                else if (tn === $$1.FORM) {
                    formStartTagInBody(p, token);
                }
                else if (tn === $$1.CODE || tn === $$1.FONT) {
                    bStartTagInBody(p, token);
                }
                else if (tn === $$1.NOBR) {
                    nobrStartTagInBody(p, token);
                }
                else if (tn === $$1.AREA) {
                    areaStartTagInBody(p, token);
                }
                else if (tn === $$1.MATH) {
                    mathStartTagInBody(p, token);
                }
                else if (tn === $$1.MENU) {
                    menuStartTagInBody(p, token);
                }
                else if (tn !== $$1.HEAD) {
                    genericStartTagInBody(p, token);
                }
                break;
            case 5:
                if (tn === $$1.STYLE || tn === $$1.TITLE) {
                    startTagInHead(p, token);
                }
                else if (tn === $$1.ASIDE) {
                    addressStartTagInBody(p, token);
                }
                else if (tn === $$1.SMALL) {
                    bStartTagInBody(p, token);
                }
                else if (tn === $$1.TABLE) {
                    tableStartTagInBody(p, token);
                }
                else if (tn === $$1.EMBED) {
                    areaStartTagInBody(p, token);
                }
                else if (tn === $$1.INPUT) {
                    inputStartTagInBody(p, token);
                }
                else if (tn === $$1.PARAM || tn === $$1.TRACK) {
                    paramStartTagInBody(p, token);
                }
                else if (tn === $$1.IMAGE) {
                    imageStartTagInBody(p, token);
                }
                else if (tn !== $$1.FRAME && tn !== $$1.TBODY && tn !== $$1.TFOOT && tn !== $$1.THEAD) {
                    genericStartTagInBody(p, token);
                }
                break;
            case 6:
                if (tn === $$1.SCRIPT) {
                    startTagInHead(p, token);
                }
                else if (tn === $$1.CENTER ||
                    tn === $$1.FIGURE ||
                    tn === $$1.FOOTER ||
                    tn === $$1.HEADER ||
                    tn === $$1.HGROUP ||
                    tn === $$1.DIALOG) {
                    addressStartTagInBody(p, token);
                }
                else if (tn === $$1.BUTTON) {
                    buttonStartTagInBody(p, token);
                }
                else if (tn === $$1.STRIKE || tn === $$1.STRONG) {
                    bStartTagInBody(p, token);
                }
                else if (tn === $$1.APPLET || tn === $$1.OBJECT) {
                    appletStartTagInBody(p, token);
                }
                else if (tn === $$1.KEYGEN) {
                    areaStartTagInBody(p, token);
                }
                else if (tn === $$1.SOURCE) {
                    paramStartTagInBody(p, token);
                }
                else if (tn === $$1.IFRAME) {
                    iframeStartTagInBody(p, token);
                }
                else if (tn === $$1.SELECT) {
                    selectStartTagInBody(p, token);
                }
                else if (tn === $$1.OPTION) {
                    optgroupStartTagInBody(p, token);
                }
                else {
                    genericStartTagInBody(p, token);
                }
                break;
            case 7:
                if (tn === $$1.BGSOUND) {
                    startTagInHead(p, token);
                }
                else if (tn === $$1.DETAILS ||
                    tn === $$1.ADDRESS ||
                    tn === $$1.ARTICLE ||
                    tn === $$1.SECTION ||
                    tn === $$1.SUMMARY) {
                    addressStartTagInBody(p, token);
                }
                else if (tn === $$1.LISTING) {
                    preStartTagInBody(p, token);
                }
                else if (tn === $$1.MARQUEE) {
                    appletStartTagInBody(p, token);
                }
                else if (tn === $$1.NOEMBED) {
                    noembedStartTagInBody(p, token);
                }
                else if (tn !== $$1.CAPTION) {
                    genericStartTagInBody(p, token);
                }
                break;
            case 8:
                if (tn === $$1.BASEFONT) {
                    startTagInHead(p, token);
                }
                else if (tn === $$1.FRAMESET) {
                    framesetStartTagInBody(p, token);
                }
                else if (tn === $$1.FIELDSET) {
                    addressStartTagInBody(p, token);
                }
                else if (tn === $$1.TEXTAREA) {
                    textareaStartTagInBody(p, token);
                }
                else if (tn === $$1.TEMPLATE) {
                    startTagInHead(p, token);
                }
                else if (tn === $$1.NOSCRIPT) {
                    if (p.options.scriptingEnabled) {
                        noembedStartTagInBody(p, token);
                    }
                    else {
                        genericStartTagInBody(p, token);
                    }
                }
                else if (tn === $$1.OPTGROUP) {
                    optgroupStartTagInBody(p, token);
                }
                else if (tn !== $$1.COLGROUP) {
                    genericStartTagInBody(p, token);
                }
                break;
            case 9:
                if (tn === $$1.PLAINTEXT) {
                    plaintextStartTagInBody(p, token);
                }
                else {
                    genericStartTagInBody(p, token);
                }
                break;
            case 10:
                if (tn === $$1.BLOCKQUOTE || tn === $$1.FIGCAPTION) {
                    addressStartTagInBody(p, token);
                }
                else {
                    genericStartTagInBody(p, token);
                }
                break;
            default:
                genericStartTagInBody(p, token);
        }
    }
    function bodyEndTagInBody(p) {
        if (p.openElements.hasInScope($$1.BODY)) {
            p.insertionMode = AFTER_BODY_MODE;
        }
    }
    function htmlEndTagInBody(p, token) {
        if (p.openElements.hasInScope($$1.BODY)) {
            p.insertionMode = AFTER_BODY_MODE;
            p._processToken(token);
        }
    }
    function addressEndTagInBody(p, token) {
        var tn = token.tagName;
        if (p.openElements.hasInScope(tn)) {
            p.openElements.generateImpliedEndTags();
            p.openElements.popUntilTagNamePopped(tn);
        }
    }
    function formEndTagInBody(p) {
        var inTemplate = p.openElements.tmplCount > 0;
        var formElement = p.formElement;
        if (!inTemplate) {
            p.formElement = null;
        }
        if ((formElement || inTemplate) && p.openElements.hasInScope($$1.FORM)) {
            p.openElements.generateImpliedEndTags();
            if (inTemplate) {
                p.openElements.popUntilTagNamePopped($$1.FORM);
            }
            else {
                p.openElements.remove(formElement);
            }
        }
    }
    function pEndTagInBody(p) {
        if (!p.openElements.hasInButtonScope($$1.P)) {
            p._insertFakeElement($$1.P);
        }
        p._closePElement();
    }
    function liEndTagInBody(p) {
        if (p.openElements.hasInListItemScope($$1.LI)) {
            p.openElements.generateImpliedEndTagsWithExclusion($$1.LI);
            p.openElements.popUntilTagNamePopped($$1.LI);
        }
    }
    function ddEndTagInBody(p, token) {
        var tn = token.tagName;
        if (p.openElements.hasInScope(tn)) {
            p.openElements.generateImpliedEndTagsWithExclusion(tn);
            p.openElements.popUntilTagNamePopped(tn);
        }
    }
    function numberedHeaderEndTagInBody(p) {
        if (p.openElements.hasNumberedHeaderInScope()) {
            p.openElements.generateImpliedEndTags();
            p.openElements.popUntilNumberedHeaderPopped();
        }
    }
    function appletEndTagInBody(p, token) {
        var tn = token.tagName;
        if (p.openElements.hasInScope(tn)) {
            p.openElements.generateImpliedEndTags();
            p.openElements.popUntilTagNamePopped(tn);
            p.activeFormattingElements.clearToLastMarker();
        }
    }
    function brEndTagInBody(p) {
        p._reconstructActiveFormattingElements();
        p._insertFakeElement($$1.BR);
        p.openElements.pop();
        p.framesetOk = false;
    }
    function genericEndTagInBody(p, token) {
        var tn = token.tagName;
        for (var i = p.openElements.stackTop; i > 0; i--) {
            var element = p.openElements.items[i];
            if (p.treeAdapter.getTagName(element) === tn) {
                p.openElements.generateImpliedEndTagsWithExclusion(tn);
                p.openElements.popUntilElementPopped(element);
                break;
            }
            if (p._isSpecialElement(element)) {
                break;
            }
        }
    }
    //OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.
    //It's faster than using dictionary.
    function endTagInBody(p, token) {
        var tn = token.tagName;
        switch (tn.length) {
            case 1:
                if (tn === $$1.A || tn === $$1.B || tn === $$1.I || tn === $$1.S || tn === $$1.U) {
                    callAdoptionAgency(p, token);
                }
                else if (tn === $$1.P) {
                    pEndTagInBody(p, token);
                }
                else {
                    genericEndTagInBody(p, token);
                }
                break;
            case 2:
                if (tn === $$1.DL || tn === $$1.UL || tn === $$1.OL) {
                    addressEndTagInBody(p, token);
                }
                else if (tn === $$1.LI) {
                    liEndTagInBody(p, token);
                }
                else if (tn === $$1.DD || tn === $$1.DT) {
                    ddEndTagInBody(p, token);
                }
                else if (tn === $$1.H1 || tn === $$1.H2 || tn === $$1.H3 || tn === $$1.H4 || tn === $$1.H5 || tn === $$1.H6) {
                    numberedHeaderEndTagInBody(p, token);
                }
                else if (tn === $$1.BR) {
                    brEndTagInBody(p, token);
                }
                else if (tn === $$1.EM || tn === $$1.TT) {
                    callAdoptionAgency(p, token);
                }
                else {
                    genericEndTagInBody(p, token);
                }
                break;
            case 3:
                if (tn === $$1.BIG) {
                    callAdoptionAgency(p, token);
                }
                else if (tn === $$1.DIR || tn === $$1.DIV || tn === $$1.NAV || tn === $$1.PRE) {
                    addressEndTagInBody(p, token);
                }
                else {
                    genericEndTagInBody(p, token);
                }
                break;
            case 4:
                if (tn === $$1.BODY) {
                    bodyEndTagInBody(p, token);
                }
                else if (tn === $$1.HTML) {
                    htmlEndTagInBody(p, token);
                }
                else if (tn === $$1.FORM) {
                    formEndTagInBody(p, token);
                }
                else if (tn === $$1.CODE || tn === $$1.FONT || tn === $$1.NOBR) {
                    callAdoptionAgency(p, token);
                }
                else if (tn === $$1.MAIN || tn === $$1.MENU) {
                    addressEndTagInBody(p, token);
                }
                else {
                    genericEndTagInBody(p, token);
                }
                break;
            case 5:
                if (tn === $$1.ASIDE) {
                    addressEndTagInBody(p, token);
                }
                else if (tn === $$1.SMALL) {
                    callAdoptionAgency(p, token);
                }
                else {
                    genericEndTagInBody(p, token);
                }
                break;
            case 6:
                if (tn === $$1.CENTER ||
                    tn === $$1.FIGURE ||
                    tn === $$1.FOOTER ||
                    tn === $$1.HEADER ||
                    tn === $$1.HGROUP ||
                    tn === $$1.DIALOG) {
                    addressEndTagInBody(p, token);
                }
                else if (tn === $$1.APPLET || tn === $$1.OBJECT) {
                    appletEndTagInBody(p, token);
                }
                else if (tn === $$1.STRIKE || tn === $$1.STRONG) {
                    callAdoptionAgency(p, token);
                }
                else {
                    genericEndTagInBody(p, token);
                }
                break;
            case 7:
                if (tn === $$1.ADDRESS ||
                    tn === $$1.ARTICLE ||
                    tn === $$1.DETAILS ||
                    tn === $$1.SECTION ||
                    tn === $$1.SUMMARY ||
                    tn === $$1.LISTING) {
                    addressEndTagInBody(p, token);
                }
                else if (tn === $$1.MARQUEE) {
                    appletEndTagInBody(p, token);
                }
                else {
                    genericEndTagInBody(p, token);
                }
                break;
            case 8:
                if (tn === $$1.FIELDSET) {
                    addressEndTagInBody(p, token);
                }
                else if (tn === $$1.TEMPLATE) {
                    endTagInHead(p, token);
                }
                else {
                    genericEndTagInBody(p, token);
                }
                break;
            case 10:
                if (tn === $$1.BLOCKQUOTE || tn === $$1.FIGCAPTION) {
                    addressEndTagInBody(p, token);
                }
                else {
                    genericEndTagInBody(p, token);
                }
                break;
            default:
                genericEndTagInBody(p, token);
        }
    }
    function eofInBody(p, token) {
        if (p.tmplInsertionModeStackTop > -1) {
            eofInTemplate(p, token);
        }
        else {
            p.stopped = true;
        }
    }
    // The "text" insertion mode
    //------------------------------------------------------------------
    function endTagInText(p, token) {
        if (token.tagName === $$1.SCRIPT) {
            p.pendingScript = p.openElements.current;
        }
        p.openElements.pop();
        p.insertionMode = p.originalInsertionMode;
    }
    function eofInText(p, token) {
        p._err(errorCodes.eofInElementThatCanContainOnlyText);
        p.openElements.pop();
        p.insertionMode = p.originalInsertionMode;
        p._processToken(token);
    }
    // The "in table" insertion mode
    //------------------------------------------------------------------
    function characterInTable(p, token) {
        var curTn = p.openElements.currentTagName;
        if (curTn === $$1.TABLE || curTn === $$1.TBODY || curTn === $$1.TFOOT || curTn === $$1.THEAD || curTn === $$1.TR) {
            p.pendingCharacterTokens = [];
            p.hasNonWhitespacePendingCharacterToken = false;
            p.originalInsertionMode = p.insertionMode;
            p.insertionMode = IN_TABLE_TEXT_MODE;
            p._processToken(token);
        }
        else {
            tokenInTable(p, token);
        }
    }
    function captionStartTagInTable(p, token) {
        p.openElements.clearBackToTableContext();
        p.activeFormattingElements.insertMarker();
        p._insertElement(token, NS$1.HTML);
        p.insertionMode = IN_CAPTION_MODE;
    }
    function colgroupStartTagInTable(p, token) {
        p.openElements.clearBackToTableContext();
        p._insertElement(token, NS$1.HTML);
        p.insertionMode = IN_COLUMN_GROUP_MODE;
    }
    function colStartTagInTable(p, token) {
        p.openElements.clearBackToTableContext();
        p._insertFakeElement($$1.COLGROUP);
        p.insertionMode = IN_COLUMN_GROUP_MODE;
        p._processToken(token);
    }
    function tbodyStartTagInTable(p, token) {
        p.openElements.clearBackToTableContext();
        p._insertElement(token, NS$1.HTML);
        p.insertionMode = IN_TABLE_BODY_MODE;
    }
    function tdStartTagInTable(p, token) {
        p.openElements.clearBackToTableContext();
        p._insertFakeElement($$1.TBODY);
        p.insertionMode = IN_TABLE_BODY_MODE;
        p._processToken(token);
    }
    function tableStartTagInTable(p, token) {
        if (p.openElements.hasInTableScope($$1.TABLE)) {
            p.openElements.popUntilTagNamePopped($$1.TABLE);
            p._resetInsertionMode();
            p._processToken(token);
        }
    }
    function inputStartTagInTable(p, token) {
        var inputType = tokenizer.getTokenAttr(token, ATTRS.TYPE);
        if (inputType && inputType.toLowerCase() === HIDDEN_INPUT_TYPE) {
            p._appendElement(token, NS$1.HTML);
        }
        else {
            tokenInTable(p, token);
        }
        token.ackSelfClosing = true;
    }
    function formStartTagInTable(p, token) {
        if (!p.formElement && p.openElements.tmplCount === 0) {
            p._insertElement(token, NS$1.HTML);
            p.formElement = p.openElements.current;
            p.openElements.pop();
        }
    }
    function startTagInTable(p, token) {
        var tn = token.tagName;
        switch (tn.length) {
            case 2:
                if (tn === $$1.TD || tn === $$1.TH || tn === $$1.TR) {
                    tdStartTagInTable(p, token);
                }
                else {
                    tokenInTable(p, token);
                }
                break;
            case 3:
                if (tn === $$1.COL) {
                    colStartTagInTable(p, token);
                }
                else {
                    tokenInTable(p, token);
                }
                break;
            case 4:
                if (tn === $$1.FORM) {
                    formStartTagInTable(p, token);
                }
                else {
                    tokenInTable(p, token);
                }
                break;
            case 5:
                if (tn === $$1.TABLE) {
                    tableStartTagInTable(p, token);
                }
                else if (tn === $$1.STYLE) {
                    startTagInHead(p, token);
                }
                else if (tn === $$1.TBODY || tn === $$1.TFOOT || tn === $$1.THEAD) {
                    tbodyStartTagInTable(p, token);
                }
                else if (tn === $$1.INPUT) {
                    inputStartTagInTable(p, token);
                }
                else {
                    tokenInTable(p, token);
                }
                break;
            case 6:
                if (tn === $$1.SCRIPT) {
                    startTagInHead(p, token);
                }
                else {
                    tokenInTable(p, token);
                }
                break;
            case 7:
                if (tn === $$1.CAPTION) {
                    captionStartTagInTable(p, token);
                }
                else {
                    tokenInTable(p, token);
                }
                break;
            case 8:
                if (tn === $$1.COLGROUP) {
                    colgroupStartTagInTable(p, token);
                }
                else if (tn === $$1.TEMPLATE) {
                    startTagInHead(p, token);
                }
                else {
                    tokenInTable(p, token);
                }
                break;
            default:
                tokenInTable(p, token);
        }
    }
    function endTagInTable(p, token) {
        var tn = token.tagName;
        if (tn === $$1.TABLE) {
            if (p.openElements.hasInTableScope($$1.TABLE)) {
                p.openElements.popUntilTagNamePopped($$1.TABLE);
                p._resetInsertionMode();
            }
        }
        else if (tn === $$1.TEMPLATE) {
            endTagInHead(p, token);
        }
        else if (tn !== $$1.BODY &&
            tn !== $$1.CAPTION &&
            tn !== $$1.COL &&
            tn !== $$1.COLGROUP &&
            tn !== $$1.HTML &&
            tn !== $$1.TBODY &&
            tn !== $$1.TD &&
            tn !== $$1.TFOOT &&
            tn !== $$1.TH &&
            tn !== $$1.THEAD &&
            tn !== $$1.TR) {
            tokenInTable(p, token);
        }
    }
    function tokenInTable(p, token) {
        var savedFosterParentingState = p.fosterParentingEnabled;
        p.fosterParentingEnabled = true;
        p._processTokenInBodyMode(token);
        p.fosterParentingEnabled = savedFosterParentingState;
    }
    // The "in table text" insertion mode
    //------------------------------------------------------------------
    function whitespaceCharacterInTableText(p, token) {
        p.pendingCharacterTokens.push(token);
    }
    function characterInTableText(p, token) {
        p.pendingCharacterTokens.push(token);
        p.hasNonWhitespacePendingCharacterToken = true;
    }
    function tokenInTableText(p, token) {
        var i = 0;
        if (p.hasNonWhitespacePendingCharacterToken) {
            for (; i < p.pendingCharacterTokens.length; i++) {
                tokenInTable(p, p.pendingCharacterTokens[i]);
            }
        }
        else {
            for (; i < p.pendingCharacterTokens.length; i++) {
                p._insertCharacters(p.pendingCharacterTokens[i]);
            }
        }
        p.insertionMode = p.originalInsertionMode;
        p._processToken(token);
    }
    // The "in caption" insertion mode
    //------------------------------------------------------------------
    function startTagInCaption(p, token) {
        var tn = token.tagName;
        if (tn === $$1.CAPTION ||
            tn === $$1.COL ||
            tn === $$1.COLGROUP ||
            tn === $$1.TBODY ||
            tn === $$1.TD ||
            tn === $$1.TFOOT ||
            tn === $$1.TH ||
            tn === $$1.THEAD ||
            tn === $$1.TR) {
            if (p.openElements.hasInTableScope($$1.CAPTION)) {
                p.openElements.generateImpliedEndTags();
                p.openElements.popUntilTagNamePopped($$1.CAPTION);
                p.activeFormattingElements.clearToLastMarker();
                p.insertionMode = IN_TABLE_MODE;
                p._processToken(token);
            }
        }
        else {
            startTagInBody(p, token);
        }
    }
    function endTagInCaption(p, token) {
        var tn = token.tagName;
        if (tn === $$1.CAPTION || tn === $$1.TABLE) {
            if (p.openElements.hasInTableScope($$1.CAPTION)) {
                p.openElements.generateImpliedEndTags();
                p.openElements.popUntilTagNamePopped($$1.CAPTION);
                p.activeFormattingElements.clearToLastMarker();
                p.insertionMode = IN_TABLE_MODE;
                if (tn === $$1.TABLE) {
                    p._processToken(token);
                }
            }
        }
        else if (tn !== $$1.BODY &&
            tn !== $$1.COL &&
            tn !== $$1.COLGROUP &&
            tn !== $$1.HTML &&
            tn !== $$1.TBODY &&
            tn !== $$1.TD &&
            tn !== $$1.TFOOT &&
            tn !== $$1.TH &&
            tn !== $$1.THEAD &&
            tn !== $$1.TR) {
            endTagInBody(p, token);
        }
    }
    // The "in column group" insertion mode
    //------------------------------------------------------------------
    function startTagInColumnGroup(p, token) {
        var tn = token.tagName;
        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        }
        else if (tn === $$1.COL) {
            p._appendElement(token, NS$1.HTML);
            token.ackSelfClosing = true;
        }
        else if (tn === $$1.TEMPLATE) {
            startTagInHead(p, token);
        }
        else {
            tokenInColumnGroup(p, token);
        }
    }
    function endTagInColumnGroup(p, token) {
        var tn = token.tagName;
        if (tn === $$1.COLGROUP) {
            if (p.openElements.currentTagName === $$1.COLGROUP) {
                p.openElements.pop();
                p.insertionMode = IN_TABLE_MODE;
            }
        }
        else if (tn === $$1.TEMPLATE) {
            endTagInHead(p, token);
        }
        else if (tn !== $$1.COL) {
            tokenInColumnGroup(p, token);
        }
    }
    function tokenInColumnGroup(p, token) {
        if (p.openElements.currentTagName === $$1.COLGROUP) {
            p.openElements.pop();
            p.insertionMode = IN_TABLE_MODE;
            p._processToken(token);
        }
    }
    // The "in table body" insertion mode
    //------------------------------------------------------------------
    function startTagInTableBody(p, token) {
        var tn = token.tagName;
        if (tn === $$1.TR) {
            p.openElements.clearBackToTableBodyContext();
            p._insertElement(token, NS$1.HTML);
            p.insertionMode = IN_ROW_MODE;
        }
        else if (tn === $$1.TH || tn === $$1.TD) {
            p.openElements.clearBackToTableBodyContext();
            p._insertFakeElement($$1.TR);
            p.insertionMode = IN_ROW_MODE;
            p._processToken(token);
        }
        else if (tn === $$1.CAPTION ||
            tn === $$1.COL ||
            tn === $$1.COLGROUP ||
            tn === $$1.TBODY ||
            tn === $$1.TFOOT ||
            tn === $$1.THEAD) {
            if (p.openElements.hasTableBodyContextInTableScope()) {
                p.openElements.clearBackToTableBodyContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_MODE;
                p._processToken(token);
            }
        }
        else {
            startTagInTable(p, token);
        }
    }
    function endTagInTableBody(p, token) {
        var tn = token.tagName;
        if (tn === $$1.TBODY || tn === $$1.TFOOT || tn === $$1.THEAD) {
            if (p.openElements.hasInTableScope(tn)) {
                p.openElements.clearBackToTableBodyContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_MODE;
            }
        }
        else if (tn === $$1.TABLE) {
            if (p.openElements.hasTableBodyContextInTableScope()) {
                p.openElements.clearBackToTableBodyContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_MODE;
                p._processToken(token);
            }
        }
        else if ((tn !== $$1.BODY && tn !== $$1.CAPTION && tn !== $$1.COL && tn !== $$1.COLGROUP) ||
            (tn !== $$1.HTML && tn !== $$1.TD && tn !== $$1.TH && tn !== $$1.TR)) {
            endTagInTable(p, token);
        }
    }
    // The "in row" insertion mode
    //------------------------------------------------------------------
    function startTagInRow(p, token) {
        var tn = token.tagName;
        if (tn === $$1.TH || tn === $$1.TD) {
            p.openElements.clearBackToTableRowContext();
            p._insertElement(token, NS$1.HTML);
            p.insertionMode = IN_CELL_MODE;
            p.activeFormattingElements.insertMarker();
        }
        else if (tn === $$1.CAPTION ||
            tn === $$1.COL ||
            tn === $$1.COLGROUP ||
            tn === $$1.TBODY ||
            tn === $$1.TFOOT ||
            tn === $$1.THEAD ||
            tn === $$1.TR) {
            if (p.openElements.hasInTableScope($$1.TR)) {
                p.openElements.clearBackToTableRowContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_BODY_MODE;
                p._processToken(token);
            }
        }
        else {
            startTagInTable(p, token);
        }
    }
    function endTagInRow(p, token) {
        var tn = token.tagName;
        if (tn === $$1.TR) {
            if (p.openElements.hasInTableScope($$1.TR)) {
                p.openElements.clearBackToTableRowContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_BODY_MODE;
            }
        }
        else if (tn === $$1.TABLE) {
            if (p.openElements.hasInTableScope($$1.TR)) {
                p.openElements.clearBackToTableRowContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_BODY_MODE;
                p._processToken(token);
            }
        }
        else if (tn === $$1.TBODY || tn === $$1.TFOOT || tn === $$1.THEAD) {
            if (p.openElements.hasInTableScope(tn) || p.openElements.hasInTableScope($$1.TR)) {
                p.openElements.clearBackToTableRowContext();
                p.openElements.pop();
                p.insertionMode = IN_TABLE_BODY_MODE;
                p._processToken(token);
            }
        }
        else if ((tn !== $$1.BODY && tn !== $$1.CAPTION && tn !== $$1.COL && tn !== $$1.COLGROUP) ||
            (tn !== $$1.HTML && tn !== $$1.TD && tn !== $$1.TH)) {
            endTagInTable(p, token);
        }
    }
    // The "in cell" insertion mode
    //------------------------------------------------------------------
    function startTagInCell(p, token) {
        var tn = token.tagName;
        if (tn === $$1.CAPTION ||
            tn === $$1.COL ||
            tn === $$1.COLGROUP ||
            tn === $$1.TBODY ||
            tn === $$1.TD ||
            tn === $$1.TFOOT ||
            tn === $$1.TH ||
            tn === $$1.THEAD ||
            tn === $$1.TR) {
            if (p.openElements.hasInTableScope($$1.TD) || p.openElements.hasInTableScope($$1.TH)) {
                p._closeTableCell();
                p._processToken(token);
            }
        }
        else {
            startTagInBody(p, token);
        }
    }
    function endTagInCell(p, token) {
        var tn = token.tagName;
        if (tn === $$1.TD || tn === $$1.TH) {
            if (p.openElements.hasInTableScope(tn)) {
                p.openElements.generateImpliedEndTags();
                p.openElements.popUntilTagNamePopped(tn);
                p.activeFormattingElements.clearToLastMarker();
                p.insertionMode = IN_ROW_MODE;
            }
        }
        else if (tn === $$1.TABLE || tn === $$1.TBODY || tn === $$1.TFOOT || tn === $$1.THEAD || tn === $$1.TR) {
            if (p.openElements.hasInTableScope(tn)) {
                p._closeTableCell();
                p._processToken(token);
            }
        }
        else if (tn !== $$1.BODY && tn !== $$1.CAPTION && tn !== $$1.COL && tn !== $$1.COLGROUP && tn !== $$1.HTML) {
            endTagInBody(p, token);
        }
    }
    // The "in select" insertion mode
    //------------------------------------------------------------------
    function startTagInSelect(p, token) {
        var tn = token.tagName;
        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        }
        else if (tn === $$1.OPTION) {
            if (p.openElements.currentTagName === $$1.OPTION) {
                p.openElements.pop();
            }
            p._insertElement(token, NS$1.HTML);
        }
        else if (tn === $$1.OPTGROUP) {
            if (p.openElements.currentTagName === $$1.OPTION) {
                p.openElements.pop();
            }
            if (p.openElements.currentTagName === $$1.OPTGROUP) {
                p.openElements.pop();
            }
            p._insertElement(token, NS$1.HTML);
        }
        else if (tn === $$1.INPUT || tn === $$1.KEYGEN || tn === $$1.TEXTAREA || tn === $$1.SELECT) {
            if (p.openElements.hasInSelectScope($$1.SELECT)) {
                p.openElements.popUntilTagNamePopped($$1.SELECT);
                p._resetInsertionMode();
                if (tn !== $$1.SELECT) {
                    p._processToken(token);
                }
            }
        }
        else if (tn === $$1.SCRIPT || tn === $$1.TEMPLATE) {
            startTagInHead(p, token);
        }
    }
    function endTagInSelect(p, token) {
        var tn = token.tagName;
        if (tn === $$1.OPTGROUP) {
            var prevOpenElement = p.openElements.items[p.openElements.stackTop - 1];
            var prevOpenElementTn = prevOpenElement && p.treeAdapter.getTagName(prevOpenElement);
            if (p.openElements.currentTagName === $$1.OPTION && prevOpenElementTn === $$1.OPTGROUP) {
                p.openElements.pop();
            }
            if (p.openElements.currentTagName === $$1.OPTGROUP) {
                p.openElements.pop();
            }
        }
        else if (tn === $$1.OPTION) {
            if (p.openElements.currentTagName === $$1.OPTION) {
                p.openElements.pop();
            }
        }
        else if (tn === $$1.SELECT && p.openElements.hasInSelectScope($$1.SELECT)) {
            p.openElements.popUntilTagNamePopped($$1.SELECT);
            p._resetInsertionMode();
        }
        else if (tn === $$1.TEMPLATE) {
            endTagInHead(p, token);
        }
    }
    //12.2.5.4.17 The "in select in table" insertion mode
    //------------------------------------------------------------------
    function startTagInSelectInTable(p, token) {
        var tn = token.tagName;
        if (tn === $$1.CAPTION ||
            tn === $$1.TABLE ||
            tn === $$1.TBODY ||
            tn === $$1.TFOOT ||
            tn === $$1.THEAD ||
            tn === $$1.TR ||
            tn === $$1.TD ||
            tn === $$1.TH) {
            p.openElements.popUntilTagNamePopped($$1.SELECT);
            p._resetInsertionMode();
            p._processToken(token);
        }
        else {
            startTagInSelect(p, token);
        }
    }
    function endTagInSelectInTable(p, token) {
        var tn = token.tagName;
        if (tn === $$1.CAPTION ||
            tn === $$1.TABLE ||
            tn === $$1.TBODY ||
            tn === $$1.TFOOT ||
            tn === $$1.THEAD ||
            tn === $$1.TR ||
            tn === $$1.TD ||
            tn === $$1.TH) {
            if (p.openElements.hasInTableScope(tn)) {
                p.openElements.popUntilTagNamePopped($$1.SELECT);
                p._resetInsertionMode();
                p._processToken(token);
            }
        }
        else {
            endTagInSelect(p, token);
        }
    }
    // The "in template" insertion mode
    //------------------------------------------------------------------
    function startTagInTemplate(p, token) {
        var tn = token.tagName;
        if (tn === $$1.BASE ||
            tn === $$1.BASEFONT ||
            tn === $$1.BGSOUND ||
            tn === $$1.LINK ||
            tn === $$1.META ||
            tn === $$1.NOFRAMES ||
            tn === $$1.SCRIPT ||
            tn === $$1.STYLE ||
            tn === $$1.TEMPLATE ||
            tn === $$1.TITLE) {
            startTagInHead(p, token);
        }
        else {
            var newInsertionMode = TEMPLATE_INSERTION_MODE_SWITCH_MAP[tn] || IN_BODY_MODE;
            p._popTmplInsertionMode();
            p._pushTmplInsertionMode(newInsertionMode);
            p.insertionMode = newInsertionMode;
            p._processToken(token);
        }
    }
    function endTagInTemplate(p, token) {
        if (token.tagName === $$1.TEMPLATE) {
            endTagInHead(p, token);
        }
    }
    function eofInTemplate(p, token) {
        if (p.openElements.tmplCount > 0) {
            p.openElements.popUntilTagNamePopped($$1.TEMPLATE);
            p.activeFormattingElements.clearToLastMarker();
            p._popTmplInsertionMode();
            p._resetInsertionMode();
            p._processToken(token);
        }
        else {
            p.stopped = true;
        }
    }
    // The "after body" insertion mode
    //------------------------------------------------------------------
    function startTagAfterBody(p, token) {
        if (token.tagName === $$1.HTML) {
            startTagInBody(p, token);
        }
        else {
            tokenAfterBody(p, token);
        }
    }
    function endTagAfterBody(p, token) {
        if (token.tagName === $$1.HTML) {
            if (!p.fragmentContext) {
                p.insertionMode = AFTER_AFTER_BODY_MODE;
            }
        }
        else {
            tokenAfterBody(p, token);
        }
    }
    function tokenAfterBody(p, token) {
        p.insertionMode = IN_BODY_MODE;
        p._processToken(token);
    }
    // The "in frameset" insertion mode
    //------------------------------------------------------------------
    function startTagInFrameset(p, token) {
        var tn = token.tagName;
        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        }
        else if (tn === $$1.FRAMESET) {
            p._insertElement(token, NS$1.HTML);
        }
        else if (tn === $$1.FRAME) {
            p._appendElement(token, NS$1.HTML);
            token.ackSelfClosing = true;
        }
        else if (tn === $$1.NOFRAMES) {
            startTagInHead(p, token);
        }
    }
    function endTagInFrameset(p, token) {
        if (token.tagName === $$1.FRAMESET && !p.openElements.isRootHtmlElementCurrent()) {
            p.openElements.pop();
            if (!p.fragmentContext && p.openElements.currentTagName !== $$1.FRAMESET) {
                p.insertionMode = AFTER_FRAMESET_MODE;
            }
        }
    }
    // The "after frameset" insertion mode
    //------------------------------------------------------------------
    function startTagAfterFrameset(p, token) {
        var tn = token.tagName;
        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        }
        else if (tn === $$1.NOFRAMES) {
            startTagInHead(p, token);
        }
    }
    function endTagAfterFrameset(p, token) {
        if (token.tagName === $$1.HTML) {
            p.insertionMode = AFTER_AFTER_FRAMESET_MODE;
        }
    }
    // The "after after body" insertion mode
    //------------------------------------------------------------------
    function startTagAfterAfterBody(p, token) {
        if (token.tagName === $$1.HTML) {
            startTagInBody(p, token);
        }
        else {
            tokenAfterAfterBody(p, token);
        }
    }
    function tokenAfterAfterBody(p, token) {
        p.insertionMode = IN_BODY_MODE;
        p._processToken(token);
    }
    // The "after after frameset" insertion mode
    //------------------------------------------------------------------
    function startTagAfterAfterFrameset(p, token) {
        var tn = token.tagName;
        if (tn === $$1.HTML) {
            startTagInBody(p, token);
        }
        else if (tn === $$1.NOFRAMES) {
            startTagInHead(p, token);
        }
    }
    // The rules for parsing tokens in foreign content
    //------------------------------------------------------------------
    function nullCharacterInForeignContent(p, token) {
        token.chars = unicode.REPLACEMENT_CHARACTER;
        p._insertCharacters(token);
    }
    function characterInForeignContent(p, token) {
        p._insertCharacters(token);
        p.framesetOk = false;
    }
    function startTagInForeignContent(p, token) {
        if (foreignContent.causesExit(token) && !p.fragmentContext) {
            while (p.treeAdapter.getNamespaceURI(p.openElements.current) !== NS$1.HTML &&
                !p._isIntegrationPoint(p.openElements.current)) {
                p.openElements.pop();
            }
            p._processToken(token);
        }
        else {
            var current = p._getAdjustedCurrentElement();
            var currentNs = p.treeAdapter.getNamespaceURI(current);
            if (currentNs === NS$1.MATHML) {
                foreignContent.adjustTokenMathMLAttrs(token);
            }
            else if (currentNs === NS$1.SVG) {
                foreignContent.adjustTokenSVGTagName(token);
                foreignContent.adjustTokenSVGAttrs(token);
            }
            foreignContent.adjustTokenXMLAttrs(token);
            if (token.selfClosing) {
                p._appendElement(token, currentNs);
            }
            else {
                p._insertElement(token, currentNs);
            }
            token.ackSelfClosing = true;
        }
    }
    function endTagInForeignContent(p, token) {
        for (var i = p.openElements.stackTop; i > 0; i--) {
            var element = p.openElements.items[i];
            if (p.treeAdapter.getNamespaceURI(element) === NS$1.HTML) {
                p._processToken(token);
                break;
            }
            if (p.treeAdapter.getTagName(element).toLowerCase() === token.tagName) {
                p.openElements.popUntilElementPopped(element);
                break;
            }
        }
    }

    'use strict';
    //Aliases
    var $ = html.TAG_NAMES;
    var NS = html.NAMESPACES;
    //Default serializer options
    var DEFAULT_OPTIONS = {
        treeAdapter: _default
    };
    //Escaping regexes
    var AMP_REGEX = /&/g;
    var NBSP_REGEX = /\u00a0/g;
    var DOUBLE_QUOTE_REGEX = /"/g;
    var LT_REGEX = /</g;
    var GT_REGEX = />/g;
    //Serializer
    var Serializer = /** @class */ (function () {
        function Serializer(node, options) {
            this.options = mergeOptions(DEFAULT_OPTIONS, options);
            this.treeAdapter = this.options.treeAdapter;
            this.html = '';
            this.startNode = node;
        }
        //API
        Serializer.prototype.serialize = function () {
            this._serializeChildNodes(this.startNode);
            return this.html;
        };
        //Internals
        Serializer.prototype._serializeChildNodes = function (parentNode) {
            var childNodes = this.treeAdapter.getChildNodes(parentNode);
            if (childNodes) {
                for (var i = 0, cnLength = childNodes.length; i < cnLength; i++) {
                    var currentNode = childNodes[i];
                    if (this.treeAdapter.isElementNode(currentNode)) {
                        this._serializeElement(currentNode);
                    }
                    else if (this.treeAdapter.isTextNode(currentNode)) {
                        this._serializeTextNode(currentNode);
                    }
                    else if (this.treeAdapter.isCommentNode(currentNode)) {
                        this._serializeCommentNode(currentNode);
                    }
                    else if (this.treeAdapter.isDocumentTypeNode(currentNode)) {
                        this._serializeDocumentTypeNode(currentNode);
                    }
                }
            }
        };
        Serializer.prototype._serializeElement = function (node) {
            var tn = this.treeAdapter.getTagName(node);
            var ns = this.treeAdapter.getNamespaceURI(node);
            this.html += '<' + tn;
            this._serializeAttributes(node);
            this.html += '>';
            if (tn !== $.AREA &&
                tn !== $.BASE &&
                tn !== $.BASEFONT &&
                tn !== $.BGSOUND &&
                tn !== $.BR &&
                tn !== $.COL &&
                tn !== $.EMBED &&
                tn !== $.FRAME &&
                tn !== $.HR &&
                tn !== $.IMG &&
                tn !== $.INPUT &&
                tn !== $.KEYGEN &&
                tn !== $.LINK &&
                tn !== $.META &&
                tn !== $.PARAM &&
                tn !== $.SOURCE &&
                tn !== $.TRACK &&
                tn !== $.WBR) {
                var childNodesHolder = tn === $.TEMPLATE && ns === NS.HTML ? this.treeAdapter.getTemplateContent(node) : node;
                this._serializeChildNodes(childNodesHolder);
                this.html += '</' + tn + '>';
            }
        };
        Serializer.prototype._serializeAttributes = function (node) {
            var attrs = this.treeAdapter.getAttrList(node);
            for (var i = 0, attrsLength = attrs.length; i < attrsLength; i++) {
                var attr = attrs[i];
                var value = Serializer.escapeString(attr.value, true);
                this.html += ' ';
                if (!attr.namespace) {
                    this.html += attr.name;
                }
                else if (attr.namespace === NS.XML) {
                    this.html += 'xml:' + attr.name;
                }
                else if (attr.namespace === NS.XMLNS) {
                    if (attr.name !== 'xmlns') {
                        this.html += 'xmlns:';
                    }
                    this.html += attr.name;
                }
                else if (attr.namespace === NS.XLINK) {
                    this.html += 'xlink:' + attr.name;
                }
                else {
                    this.html += attr.prefix + ':' + attr.name;
                }
                this.html += '="' + value + '"';
            }
        };
        Serializer.prototype._serializeTextNode = function (node) {
            var content = this.treeAdapter.getTextNodeContent(node);
            var parent = this.treeAdapter.getParentNode(node);
            var parentTn = void 0;
            if (parent && this.treeAdapter.isElementNode(parent)) {
                parentTn = this.treeAdapter.getTagName(parent);
            }
            if (parentTn === $.STYLE ||
                parentTn === $.SCRIPT ||
                parentTn === $.XMP ||
                parentTn === $.IFRAME ||
                parentTn === $.NOEMBED ||
                parentTn === $.NOFRAMES ||
                parentTn === $.PLAINTEXT ||
                parentTn === $.NOSCRIPT) {
                this.html += content;
            }
            else {
                this.html += Serializer.escapeString(content, false);
            }
        };
        Serializer.prototype._serializeCommentNode = function (node) {
            this.html += '<!--' + this.treeAdapter.getCommentNodeContent(node) + '-->';
        };
        Serializer.prototype._serializeDocumentTypeNode = function (node) {
            var name = this.treeAdapter.getDocumentTypeNodeName(node);
            this.html += '<' + doctype.serializeContent(name, null, null) + '>';
        };
        return Serializer;
    }());
    // NOTE: used in tests and by rewriting stream
    Serializer.escapeString = function (str, attrMode) {
        str = str.replace(AMP_REGEX, '&amp;').replace(NBSP_REGEX, '&nbsp;');
        if (attrMode) {
            str = str.replace(DOUBLE_QUOTE_REGEX, '&quot;');
        }
        else {
            str = str.replace(LT_REGEX, '&lt;').replace(GT_REGEX, '&gt;');
        }
        return str;
    };
    var serializer = Serializer;

    'use strict';
    // Shorthands
    var parse$2 = function parse(html, options) {
        var parser$1 = new parser(options);
        return parser$1.parse(html);
    };
    var parseFragment = function parseFragment(fragmentContext, html, options) {
        if (typeof fragmentContext === 'string') {
            options = html;
            html = fragmentContext;
            fragmentContext = null;
        }
        var parser$1 = new parser(options);
        return parser$1.parseFragment(html, fragmentContext);
    };
    var serialize = function (node, options) {
        var serializer$1 = new serializer(node, options);
        return serializer$1.serialize();
    };
    var lib$1 = {
        parse: parse$2,
        parseFragment: parseFragment,
        serialize: serialize
    };

    // http://www.w3.org/TR/CSS21/grammar.html
    // https://github.com/visionmedia/css-parse/pull/49#issuecomment-30088027
    var commentre = /\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;
    var parse$1 = function (css, options) {
        options = options || {};
        /**
         * Positional.
         */
        var lineno = 1;
        var column = 1;
        /**
         * Update lineno and column based on `str`.
         */
        function updatePosition(str) {
            var lines = str.match(/\n/g);
            if (lines)
                lineno += lines.length;
            var i = str.lastIndexOf('\n');
            column = ~i ? str.length - i : column + str.length;
        }
        /**
         * Mark position and patch `node.position`.
         */
        function position() {
            var start = { line: lineno, column: column };
            return function (node) {
                node.position = new Position(start);
                whitespace();
                return node;
            };
        }
        /**
         * Store position information for a node
         */
        function Position(start) {
            this.start = start;
            this.end = { line: lineno, column: column };
            this.source = options.source;
        }
        /**
         * Non-enumerable source string
         */
        Position.prototype.content = css;
        /**
         * Error `msg`.
         */
        var errorsList = [];
        function error(msg) {
            var err = new Error(options.source + ':' + lineno + ':' + column + ': ' + msg);
            err.reason = msg;
            err.filename = options.source;
            err.line = lineno;
            err.column = column;
            err.source = css;
            if (options.silent) {
                errorsList.push(err);
            }
            else {
                throw err;
            }
        }
        /**
         * Parse stylesheet.
         */
        function stylesheet() {
            var rulesList = rules();
            return {
                type: 'stylesheet',
                stylesheet: {
                    source: options.source,
                    rules: rulesList,
                    parsingErrors: errorsList
                }
            };
        }
        /**
         * Opening brace.
         */
        function open() {
            return match(/^{\s*/);
        }
        /**
         * Closing brace.
         */
        function close() {
            return match(/^}/);
        }
        /**
         * Parse ruleset.
         */
        function rules() {
            var node;
            var rules = [];
            whitespace();
            comments(rules);
            while (css.length && css.charAt(0) != '}' && (node = atrule() || rule())) {
                if (node !== false) {
                    rules.push(node);
                    comments(rules);
                }
            }
            return rules;
        }
        /**
         * Match `re` and return captures.
         */
        function match(re) {
            var m = re.exec(css);
            if (!m)
                return;
            var str = m[0];
            updatePosition(str);
            css = css.slice(str.length);
            return m;
        }
        /**
         * Parse whitespace.
         */
        function whitespace() {
            match(/^\s*/);
        }
        /**
         * Parse comments;
         */
        function comments(rules) {
            var c;
            rules = rules || [];
            while (c = comment()) {
                if (c !== false) {
                    rules.push(c);
                }
            }
            return rules;
        }
        /**
         * Parse comment.
         */
        function comment() {
            var pos = position();
            if ('/' != css.charAt(0) || '*' != css.charAt(1))
                return;
            var i = 2;
            while ("" != css.charAt(i) && ('*' != css.charAt(i) || '/' != css.charAt(i + 1)))
                ++i;
            i += 2;
            if ("" === css.charAt(i - 1)) {
                return error('End of comment missing');
            }
            var str = css.slice(2, i - 2);
            column += 2;
            updatePosition(str);
            css = css.slice(i);
            column += 2;
            return pos({
                type: 'comment',
                comment: str
            });
        }
        /**
         * Parse selector.
         */
        function selector() {
            var m = match(/^([^{]+)/);
            if (!m)
                return;
            /* @fix Remove all comments from selectors
             * http://ostermiller.org/findcomment.html */
            return trim(m[0])
                .replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g, '')
                .replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g, function (m) {
                return m.replace(/,/g, '\u200C');
            })
                .split(/\s*(?![^(]*\)),\s*/)
                .map(function (s) {
                return s.replace(/\u200C/g, ',');
            });
        }
        /**
         * Parse declaration.
         */
        function declaration() {
            var pos = position();
            // prop
            var prop = match(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);
            if (!prop)
                return;
            prop = trim(prop[0]);
            // :
            if (!match(/^:\s*/))
                return error("property missing ':'");
            // val
            var val = match(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/);
            var ret = pos({
                type: 'declaration',
                property: prop.replace(commentre, ''),
                value: val ? trim(val[0]).replace(commentre, '') : ''
            });
            // ;
            match(/^[;\s]*/);
            return ret;
        }
        /**
         * Parse declarations.
         */
        function declarations() {
            var decls = [];
            if (!open())
                return error("missing '{'");
            comments(decls);
            // declarations
            var decl;
            while (decl = declaration()) {
                if (decl !== false) {
                    decls.push(decl);
                    comments(decls);
                }
            }
            if (!close())
                return error("missing '}'");
            return decls;
        }
        /**
         * Parse keyframe.
         */
        function keyframe() {
            var m;
            var vals = [];
            var pos = position();
            while (m = match(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/)) {
                vals.push(m[1]);
                match(/^,\s*/);
            }
            if (!vals.length)
                return;
            return pos({
                type: 'keyframe',
                values: vals,
                declarations: declarations()
            });
        }
        /**
         * Parse keyframes.
         */
        function atkeyframes() {
            var pos = position();
            var m = match(/^@([-\w]+)?keyframes\s*/);
            if (!m)
                return;
            var vendor = m[1];
            // identifier
            var m = match(/^([-\w]+)\s*/);
            if (!m)
                return error("@keyframes missing name");
            var name = m[1];
            if (!open())
                return error("@keyframes missing '{'");
            var frame;
            var frames = comments();
            while (frame = keyframe()) {
                frames.push(frame);
                frames = frames.concat(comments());
            }
            if (!close())
                return error("@keyframes missing '}'");
            return pos({
                type: 'keyframes',
                name: name,
                vendor: vendor,
                keyframes: frames
            });
        }
        /**
         * Parse supports.
         */
        function atsupports() {
            var pos = position();
            var m = match(/^@supports *([^{]+)/);
            if (!m)
                return;
            var supports = trim(m[1]);
            if (!open())
                return error("@supports missing '{'");
            var style = comments().concat(rules());
            if (!close())
                return error("@supports missing '}'");
            return pos({
                type: 'supports',
                supports: supports,
                rules: style
            });
        }
        /**
         * Parse host.
         */
        function athost() {
            var pos = position();
            var m = match(/^@host\s*/);
            if (!m)
                return;
            if (!open())
                return error("@host missing '{'");
            var style = comments().concat(rules());
            if (!close())
                return error("@host missing '}'");
            return pos({
                type: 'host',
                rules: style
            });
        }
        /**
         * Parse media.
         */
        function atmedia() {
            var pos = position();
            var m = match(/^@media *([^{]+)/);
            if (!m)
                return;
            var media = trim(m[1]);
            if (!open())
                return error("@media missing '{'");
            var style = comments().concat(rules());
            if (!close())
                return error("@media missing '}'");
            return pos({
                type: 'media',
                media: media,
                rules: style
            });
        }
        /**
         * Parse custom-media.
         */
        function atcustommedia() {
            var pos = position();
            var m = match(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);
            if (!m)
                return;
            return pos({
                type: 'custom-media',
                name: trim(m[1]),
                media: trim(m[2])
            });
        }
        /**
         * Parse paged media.
         */
        function atpage() {
            var pos = position();
            var m = match(/^@page */);
            if (!m)
                return;
            var sel = selector() || [];
            if (!open())
                return error("@page missing '{'");
            var decls = comments();
            // declarations
            var decl;
            while (decl = declaration()) {
                decls.push(decl);
                decls = decls.concat(comments());
            }
            if (!close())
                return error("@page missing '}'");
            return pos({
                type: 'page',
                selectors: sel,
                declarations: decls
            });
        }
        /**
         * Parse document.
         */
        function atdocument() {
            var pos = position();
            var m = match(/^@([-\w]+)?document *([^{]+)/);
            if (!m)
                return;
            var vendor = trim(m[1]);
            var doc = trim(m[2]);
            if (!open())
                return error("@document missing '{'");
            var style = comments().concat(rules());
            if (!close())
                return error("@document missing '}'");
            return pos({
                type: 'document',
                document: doc,
                vendor: vendor,
                rules: style
            });
        }
        /**
         * Parse font-face.
         */
        function atfontface() {
            var pos = position();
            var m = match(/^@font-face\s*/);
            if (!m)
                return;
            if (!open())
                return error("@font-face missing '{'");
            var decls = comments();
            // declarations
            var decl;
            while (decl = declaration()) {
                decls.push(decl);
                decls = decls.concat(comments());
            }
            if (!close())
                return error("@font-face missing '}'");
            return pos({
                type: 'font-face',
                declarations: decls
            });
        }
        /**
         * Parse import
         */
        var atimport = _compileAtrule('import');
        /**
         * Parse charset
         */
        var atcharset = _compileAtrule('charset');
        /**
         * Parse namespace
         */
        var atnamespace = _compileAtrule('namespace');
        /**
         * Parse non-block at-rules
         */
        function _compileAtrule(name) {
            var re = new RegExp('^@' + name + '\\s*([^;]+);');
            return function () {
                var pos = position();
                var m = match(re);
                if (!m)
                    return;
                var ret = { type: name };
                ret[name] = m[1].trim();
                return pos(ret);
            };
        }
        /**
         * Parse at rule.
         */
        function atrule() {
            if (css[0] != '@')
                return;
            return atkeyframes()
                || atmedia()
                || atcustommedia()
                || atsupports()
                || atimport()
                || atcharset()
                || atnamespace()
                || atdocument()
                || atpage()
                || athost()
                || atfontface();
        }
        /**
         * Parse rule.
         */
        function rule() {
            var pos = position();
            var sel = selector();
            if (!sel)
                return error('selector missing');
            comments();
            return pos({
                type: 'rule',
                selectors: sel,
                declarations: declarations()
            });
        }
        return addParent(stylesheet());
    };
    /**
     * Trim `str`.
     */
    function trim(str) {
        return str ? str.replace(/^\s+|\s+$/g, '') : '';
    }
    /**
     * Adds non-enumerable parent node reference to each node.
     */
    function addParent(obj, parent) {
        var isNode = obj && typeof obj.type === 'string';
        var childParent = isNode ? obj : parent;
        for (var k in obj) {
            var value = obj[k];
            if (Array.isArray(value)) {
                value.forEach(function (v) { addParent(v, childParent); });
            }
            else if (value && typeof value === 'object') {
                addParent(value, childParent);
            }
        }
        if (isNode) {
            Object.defineProperty(obj, 'parent', {
                configurable: true,
                writable: true,
                enumerable: false,
                value: parent || null
            });
        }
        return obj;
    }

    /**
     * Expose `Compiler`.
     */
    var compiler = Compiler$2;
    /**
     * Initialize a compiler.
     *
     * @param {Type} name
     * @return {Type}
     * @api public
     */
    function Compiler$2(opts) {
        this.options = opts || {};
    }
    /**
     * Emit `str`
     */
    Compiler$2.prototype.emit = function (str) {
        return str;
    };
    /**
     * Visit `node`.
     */
    Compiler$2.prototype.visit = function (node) {
        return this[node.type](node);
    };
    /**
     * Map visit over array of `nodes`, optionally using a `delim`
     */
    Compiler$2.prototype.mapVisit = function (nodes, delim) {
        var buf = '';
        delim = delim || '';
        for (var i = 0, length = nodes.length; i < length; i++) {
            buf += this.visit(nodes[i]);
            if (delim && i < length - 1)
                buf += this.emit(delim);
        }
        return buf;
    };

    var inherits_browser = createCommonjsModule(function (module) {
        if (typeof Object.create === 'function') {
            // implementation from standard node.js 'util' module
            module.exports = function inherits(ctor, superCtor) {
                if (superCtor) {
                    ctor.super_ = superCtor;
                    ctor.prototype = Object.create(superCtor.prototype, {
                        constructor: {
                            value: ctor,
                            enumerable: false,
                            writable: true,
                            configurable: true
                        }
                    });
                }
            };
        }
        else {
            // old school shim for old browsers
            module.exports = function inherits(ctor, superCtor) {
                if (superCtor) {
                    ctor.super_ = superCtor;
                    var TempCtor = function () { };
                    TempCtor.prototype = superCtor.prototype;
                    ctor.prototype = new TempCtor();
                    ctor.prototype.constructor = ctor;
                }
            };
        }
    });

    /**
     * Module dependencies.
     */
    /**
     * Expose compiler.
     */
    var compress = Compiler$1;
    /**
     * Initialize a new `Compiler`.
     */
    function Compiler$1(options) {
        compiler.call(this, options);
    }
    /**
     * Inherit from `Base.prototype`.
     */
    inherits_browser(Compiler$1, compiler);
    /**
     * Compile `node`.
     */
    Compiler$1.prototype.compile = function (node) {
        return node.stylesheet
            .rules.map(this.visit, this)
            .join('');
    };
    /**
     * Visit comment node.
     */
    Compiler$1.prototype.comment = function (node) {
        return this.emit('', node.position);
    };
    /**
     * Visit import node.
     */
    Compiler$1.prototype.import = function (node) {
        return this.emit('@import ' + node.import + ';', node.position);
    };
    /**
     * Visit media node.
     */
    Compiler$1.prototype.media = function (node) {
        return this.emit('@media ' + node.media, node.position)
            + this.emit('{')
            + this.mapVisit(node.rules)
            + this.emit('}');
    };
    /**
     * Visit document node.
     */
    Compiler$1.prototype.document = function (node) {
        var doc = '@' + (node.vendor || '') + 'document ' + node.document;
        return this.emit(doc, node.position)
            + this.emit('{')
            + this.mapVisit(node.rules)
            + this.emit('}');
    };
    /**
     * Visit charset node.
     */
    Compiler$1.prototype.charset = function (node) {
        return this.emit('@charset ' + node.charset + ';', node.position);
    };
    /**
     * Visit namespace node.
     */
    Compiler$1.prototype.namespace = function (node) {
        return this.emit('@namespace ' + node.namespace + ';', node.position);
    };
    /**
     * Visit supports node.
     */
    Compiler$1.prototype.supports = function (node) {
        return this.emit('@supports ' + node.supports, node.position)
            + this.emit('{')
            + this.mapVisit(node.rules)
            + this.emit('}');
    };
    /**
     * Visit keyframes node.
     */
    Compiler$1.prototype.keyframes = function (node) {
        return this.emit('@'
            + (node.vendor || '')
            + 'keyframes '
            + node.name, node.position)
            + this.emit('{')
            + this.mapVisit(node.keyframes)
            + this.emit('}');
    };
    /**
     * Visit keyframe node.
     */
    Compiler$1.prototype.keyframe = function (node) {
        var decls = node.declarations;
        return this.emit(node.values.join(','), node.position)
            + this.emit('{')
            + this.mapVisit(decls)
            + this.emit('}');
    };
    /**
     * Visit page node.
     */
    Compiler$1.prototype.page = function (node) {
        var sel = node.selectors.length
            ? node.selectors.join(', ')
            : '';
        return this.emit('@page ' + sel, node.position)
            + this.emit('{')
            + this.mapVisit(node.declarations)
            + this.emit('}');
    };
    /**
     * Visit font-face node.
     */
    Compiler$1.prototype['font-face'] = function (node) {
        return this.emit('@font-face', node.position)
            + this.emit('{')
            + this.mapVisit(node.declarations)
            + this.emit('}');
    };
    /**
     * Visit host node.
     */
    Compiler$1.prototype.host = function (node) {
        return this.emit('@host', node.position)
            + this.emit('{')
            + this.mapVisit(node.rules)
            + this.emit('}');
    };
    /**
     * Visit custom-media node.
     */
    Compiler$1.prototype['custom-media'] = function (node) {
        return this.emit('@custom-media ' + node.name + ' ' + node.media + ';', node.position);
    };
    /**
     * Visit rule node.
     */
    Compiler$1.prototype.rule = function (node) {
        var decls = node.declarations;
        if (!decls.length)
            return '';
        return this.emit(node.selectors.join(','), node.position)
            + this.emit('{')
            + this.mapVisit(decls)
            + this.emit('}');
    };
    /**
     * Visit declaration node.
     */
    Compiler$1.prototype.declaration = function (node) {
        return this.emit(node.property + ':' + node.value, node.position) + this.emit(';');
    };

    /**
     * Module dependencies.
     */
    /**
     * Expose compiler.
     */
    var identity = Compiler;
    /**
     * Initialize a new `Compiler`.
     */
    function Compiler(options) {
        options = options || {};
        compiler.call(this, options);
        this.indentation = options.indent;
    }
    /**
     * Inherit from `Base.prototype`.
     */
    inherits_browser(Compiler, compiler);
    /**
     * Compile `node`.
     */
    Compiler.prototype.compile = function (node) {
        return this.stylesheet(node);
    };
    /**
     * Visit stylesheet node.
     */
    Compiler.prototype.stylesheet = function (node) {
        return this.mapVisit(node.stylesheet.rules, '\n\n');
    };
    /**
     * Visit comment node.
     */
    Compiler.prototype.comment = function (node) {
        return this.emit(this.indent() + '/*' + node.comment + '*/', node.position);
    };
    /**
     * Visit import node.
     */
    Compiler.prototype.import = function (node) {
        return this.emit('@import ' + node.import + ';', node.position);
    };
    /**
     * Visit media node.
     */
    Compiler.prototype.media = function (node) {
        return this.emit('@media ' + node.media, node.position)
            + this.emit(' {\n'
                + this.indent(1))
            + this.mapVisit(node.rules, '\n\n')
            + this.emit(this.indent(-1)
                + '\n}');
    };
    /**
     * Visit document node.
     */
    Compiler.prototype.document = function (node) {
        var doc = '@' + (node.vendor || '') + 'document ' + node.document;
        return this.emit(doc, node.position)
            + this.emit(' '
                + ' {\n'
                + this.indent(1))
            + this.mapVisit(node.rules, '\n\n')
            + this.emit(this.indent(-1)
                + '\n}');
    };
    /**
     * Visit charset node.
     */
    Compiler.prototype.charset = function (node) {
        return this.emit('@charset ' + node.charset + ';', node.position);
    };
    /**
     * Visit namespace node.
     */
    Compiler.prototype.namespace = function (node) {
        return this.emit('@namespace ' + node.namespace + ';', node.position);
    };
    /**
     * Visit supports node.
     */
    Compiler.prototype.supports = function (node) {
        return this.emit('@supports ' + node.supports, node.position)
            + this.emit(' {\n'
                + this.indent(1))
            + this.mapVisit(node.rules, '\n\n')
            + this.emit(this.indent(-1)
                + '\n}');
    };
    /**
     * Visit keyframes node.
     */
    Compiler.prototype.keyframes = function (node) {
        return this.emit('@' + (node.vendor || '') + 'keyframes ' + node.name, node.position)
            + this.emit(' {\n'
                + this.indent(1))
            + this.mapVisit(node.keyframes, '\n')
            + this.emit(this.indent(-1)
                + '}');
    };
    /**
     * Visit keyframe node.
     */
    Compiler.prototype.keyframe = function (node) {
        var decls = node.declarations;
        return this.emit(this.indent())
            + this.emit(node.values.join(', '), node.position)
            + this.emit(' {\n'
                + this.indent(1))
            + this.mapVisit(decls, '\n')
            + this.emit(this.indent(-1)
                + '\n'
                + this.indent() + '}\n');
    };
    /**
     * Visit page node.
     */
    Compiler.prototype.page = function (node) {
        var sel = node.selectors.length
            ? node.selectors.join(', ') + ' '
            : '';
        return this.emit('@page ' + sel, node.position)
            + this.emit('{\n')
            + this.emit(this.indent(1))
            + this.mapVisit(node.declarations, '\n')
            + this.emit(this.indent(-1))
            + this.emit('\n}');
    };
    /**
     * Visit font-face node.
     */
    Compiler.prototype['font-face'] = function (node) {
        return this.emit('@font-face ', node.position)
            + this.emit('{\n')
            + this.emit(this.indent(1))
            + this.mapVisit(node.declarations, '\n')
            + this.emit(this.indent(-1))
            + this.emit('\n}');
    };
    /**
     * Visit host node.
     */
    Compiler.prototype.host = function (node) {
        return this.emit('@host', node.position)
            + this.emit(' {\n'
                + this.indent(1))
            + this.mapVisit(node.rules, '\n\n')
            + this.emit(this.indent(-1)
                + '\n}');
    };
    /**
     * Visit custom-media node.
     */
    Compiler.prototype['custom-media'] = function (node) {
        return this.emit('@custom-media ' + node.name + ' ' + node.media + ';', node.position);
    };
    /**
     * Visit rule node.
     */
    Compiler.prototype.rule = function (node) {
        var indent = this.indent();
        var decls = node.declarations;
        if (!decls.length)
            return '';
        return this.emit(node.selectors.map(function (s) { return indent + s; }).join(',\n'), node.position)
            + this.emit(' {\n')
            + this.emit(this.indent(1))
            + this.mapVisit(decls, '\n')
            + this.emit(this.indent(-1))
            + this.emit('\n' + this.indent() + '}');
    };
    /**
     * Visit declaration node.
     */
    Compiler.prototype.declaration = function (node) {
        return this.emit(this.indent())
            + this.emit(node.property + ': ' + node.value, node.position)
            + this.emit(';');
    };
    /**
     * Increase, decrease or return current indentation.
     */
    Compiler.prototype.indent = function (level) {
        this.level = this.level || 1;
        if (null != level) {
            this.level += level;
            return '';
        }
        return Array(this.level).join(this.indentation || '  ');
    };

    /* -*- Mode: js; js-indent-level: 2; -*- */
    /*
     * Copyright 2011 Mozilla Foundation and contributors
     * Licensed under the New BSD license. See LICENSE or:
     * http://opensource.org/licenses/BSD-3-Clause
     */
    var intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');
    /**
     * Encode an integer in the range of 0 to 63 to a single base 64 digit.
     */
    var encode$1 = function (number) {
        if (0 <= number && number < intToCharMap.length) {
            return intToCharMap[number];
        }
        throw new TypeError("Must be between 0 and 63: " + number);
    };
    /**
     * Decode a single base 64 character code digit to an integer. Returns -1 on
     * failure.
     */
    var decode$1 = function (charCode) {
        var bigA = 65; // 'A'
        var bigZ = 90; // 'Z'
        var littleA = 97; // 'a'
        var littleZ = 122; // 'z'
        var zero = 48; // '0'
        var nine = 57; // '9'
        var plus = 43; // '+'
        var slash = 47; // '/'
        var littleOffset = 26;
        var numberOffset = 52;
        // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ
        if (bigA <= charCode && charCode <= bigZ) {
            return (charCode - bigA);
        }
        // 26 - 51: abcdefghijklmnopqrstuvwxyz
        if (littleA <= charCode && charCode <= littleZ) {
            return (charCode - littleA + littleOffset);
        }
        // 52 - 61: 0123456789
        if (zero <= charCode && charCode <= nine) {
            return (charCode - zero + numberOffset);
        }
        // 62: +
        if (charCode == plus) {
            return 62;
        }
        // 63: /
        if (charCode == slash) {
            return 63;
        }
        // Invalid base64 digit.
        return -1;
    };
    var base64 = {
        encode: encode$1,
        decode: decode$1
    };

    /* -*- Mode: js; js-indent-level: 2; -*- */
    /*
     * Copyright 2011 Mozilla Foundation and contributors
     * Licensed under the New BSD license. See LICENSE or:
     * http://opensource.org/licenses/BSD-3-Clause
     *
     * Based on the Base 64 VLQ implementation in Closure Compiler:
     * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java
     *
     * Copyright 2011 The Closure Compiler Authors. All rights reserved.
     * Redistribution and use in source and binary forms, with or without
     * modification, are permitted provided that the following conditions are
     * met:
     *
     *  * Redistributions of source code must retain the above copyright
     *    notice, this list of conditions and the following disclaimer.
     *  * Redistributions in binary form must reproduce the above
     *    copyright notice, this list of conditions and the following
     *    disclaimer in the documentation and/or other materials provided
     *    with the distribution.
     *  * Neither the name of Google Inc. nor the names of its
     *    contributors may be used to endorse or promote products derived
     *    from this software without specific prior written permission.
     *
     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
     * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
     * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
     * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
     * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
     * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
     * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
     * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
     * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
     * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
     * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     */
    // A single base 64 digit can contain 6 bits of data. For the base 64 variable
    // length quantities we use in the source map spec, the first bit is the sign,
    // the next four bits are the actual value, and the 6th bit is the
    // continuation bit. The continuation bit tells us whether there are more
    // digits in this value following this digit.
    //
    //   Continuation
    //   |    Sign
    //   |    |
    //   V    V
    //   101011
    var VLQ_BASE_SHIFT = 5;
    // binary: 100000
    var VLQ_BASE = 1 << VLQ_BASE_SHIFT;
    // binary: 011111
    var VLQ_BASE_MASK = VLQ_BASE - 1;
    // binary: 100000
    var VLQ_CONTINUATION_BIT = VLQ_BASE;
    /**
     * Converts from a two-complement value to a value where the sign bit is
     * placed in the least significant bit.  For example, as decimals:
     *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)
     *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)
     */
    function toVLQSigned(aValue) {
        return aValue < 0
            ? ((-aValue) << 1) + 1
            : (aValue << 1) + 0;
    }
    /**
     * Converts to a two-complement value from a value where the sign bit is
     * placed in the least significant bit.  For example, as decimals:
     *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1
     *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2
     */
    function fromVLQSigned(aValue) {
        var isNegative = (aValue & 1) === 1;
        var shifted = aValue >> 1;
        return isNegative
            ? -shifted
            : shifted;
    }
    /**
     * Returns the base 64 VLQ encoded value.
     */
    var encode = function base64VLQ_encode(aValue) {
        var encoded = "";
        var digit;
        var vlq = toVLQSigned(aValue);
        do {
            digit = vlq & VLQ_BASE_MASK;
            vlq >>>= VLQ_BASE_SHIFT;
            if (vlq > 0) {
                // There are still more digits in this value, so we must make sure the
                // continuation bit is marked.
                digit |= VLQ_CONTINUATION_BIT;
            }
            encoded += base64.encode(digit);
        } while (vlq > 0);
        return encoded;
    };
    /**
     * Decodes the next base 64 VLQ value from the given string and returns the
     * value and the rest of the string via the out parameter.
     */
    var decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {
        var strLen = aStr.length;
        var result = 0;
        var shift = 0;
        var continuation, digit;
        do {
            if (aIndex >= strLen) {
                throw new Error("Expected more digits in base 64 VLQ value.");
            }
            digit = base64.decode(aStr.charCodeAt(aIndex++));
            if (digit === -1) {
                throw new Error("Invalid base64 digit: " + aStr.charAt(aIndex - 1));
            }
            continuation = !!(digit & VLQ_CONTINUATION_BIT);
            digit &= VLQ_BASE_MASK;
            result = result + (digit << shift);
            shift += VLQ_BASE_SHIFT;
        } while (continuation);
        aOutParam.value = fromVLQSigned(result);
        aOutParam.rest = aIndex;
    };
    var base64Vlq = {
        encode: encode,
        decode: decode
    };

    var util$1 = createCommonjsModule(function (module, exports) {
        /* -*- Mode: js; js-indent-level: 2; -*- */
        /*
         * Copyright 2011 Mozilla Foundation and contributors
         * Licensed under the New BSD license. See LICENSE or:
         * http://opensource.org/licenses/BSD-3-Clause
         */
        /**
         * This is a helper function for getting values from parameter/options
         * objects.
         *
         * @param args The object we are extracting values from
         * @param name The name of the property we are getting.
         * @param defaultValue An optional value to return if the property is missing
         * from the object. If this is not specified and the property is missing, an
         * error will be thrown.
         */
        function getArg(aArgs, aName, aDefaultValue) {
            if (aName in aArgs) {
                return aArgs[aName];
            }
            else if (arguments.length === 3) {
                return aDefaultValue;
            }
            else {
                throw new Error('"' + aName + '" is a required argument.');
            }
        }
        exports.getArg = getArg;
        var urlRegexp = /^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/;
        var dataUrlRegexp = /^data:.+\,.+$/;
        function urlParse(aUrl) {
            var match = aUrl.match(urlRegexp);
            if (!match) {
                return null;
            }
            return {
                scheme: match[1],
                auth: match[2],
                host: match[3],
                port: match[4],
                path: match[5]
            };
        }
        exports.urlParse = urlParse;
        function urlGenerate(aParsedUrl) {
            var url = '';
            if (aParsedUrl.scheme) {
                url += aParsedUrl.scheme + ':';
            }
            url += '//';
            if (aParsedUrl.auth) {
                url += aParsedUrl.auth + '@';
            }
            if (aParsedUrl.host) {
                url += aParsedUrl.host;
            }
            if (aParsedUrl.port) {
                url += ":" + aParsedUrl.port;
            }
            if (aParsedUrl.path) {
                url += aParsedUrl.path;
            }
            return url;
        }
        exports.urlGenerate = urlGenerate;
        /**
         * Normalizes a path, or the path portion of a URL:
         *
         * - Replaces consecutive slashes with one slash.
         * - Removes unnecessary '.' parts.
         * - Removes unnecessary '<dir>/..' parts.
         *
         * Based on code in the Node.js 'path' core module.
         *
         * @param aPath The path or url to normalize.
         */
        function normalize(aPath) {
            var path = aPath;
            var url = urlParse(aPath);
            if (url) {
                if (!url.path) {
                    return aPath;
                }
                path = url.path;
            }
            var isAbsolute = exports.isAbsolute(path);
            var parts = path.split(/\/+/);
            for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {
                part = parts[i];
                if (part === '.') {
                    parts.splice(i, 1);
                }
                else if (part === '..') {
                    up++;
                }
                else if (up > 0) {
                    if (part === '') {
                        // The first part is blank if the path is absolute. Trying to go
                        // above the root is a no-op. Therefore we can remove all '..' parts
                        // directly after the root.
                        parts.splice(i + 1, up);
                        up = 0;
                    }
                    else {
                        parts.splice(i, 2);
                        up--;
                    }
                }
            }
            path = parts.join('/');
            if (path === '') {
                path = isAbsolute ? '/' : '.';
            }
            if (url) {
                url.path = path;
                return urlGenerate(url);
            }
            return path;
        }
        exports.normalize = normalize;
        /**
         * Joins two paths/URLs.
         *
         * @param aRoot The root path or URL.
         * @param aPath The path or URL to be joined with the root.
         *
         * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a
         *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended
         *   first.
         * - Otherwise aPath is a path. If aRoot is a URL, then its path portion
         *   is updated with the result and aRoot is returned. Otherwise the result
         *   is returned.
         *   - If aPath is absolute, the result is aPath.
         *   - Otherwise the two paths are joined with a slash.
         * - Joining for example 'http://' and 'www.example.com' is also supported.
         */
        function join(aRoot, aPath) {
            if (aRoot === "") {
                aRoot = ".";
            }
            if (aPath === "") {
                aPath = ".";
            }
            var aPathUrl = urlParse(aPath);
            var aRootUrl = urlParse(aRoot);
            if (aRootUrl) {
                aRoot = aRootUrl.path || '/';
            }
            // `join(foo, '//www.example.org')`
            if (aPathUrl && !aPathUrl.scheme) {
                if (aRootUrl) {
                    aPathUrl.scheme = aRootUrl.scheme;
                }
                return urlGenerate(aPathUrl);
            }
            if (aPathUrl || aPath.match(dataUrlRegexp)) {
                return aPath;
            }
            // `join('http://', 'www.example.com')`
            if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {
                aRootUrl.host = aPath;
                return urlGenerate(aRootUrl);
            }
            var joined = aPath.charAt(0) === '/'
                ? aPath
                : normalize(aRoot.replace(/\/+$/, '') + '/' + aPath);
            if (aRootUrl) {
                aRootUrl.path = joined;
                return urlGenerate(aRootUrl);
            }
            return joined;
        }
        exports.join = join;
        exports.isAbsolute = function (aPath) {
            return aPath.charAt(0) === '/' || urlRegexp.test(aPath);
        };
        /**
         * Make a path relative to a URL or another path.
         *
         * @param aRoot The root path or URL.
         * @param aPath The path or URL to be made relative to aRoot.
         */
        function relative(aRoot, aPath) {
            if (aRoot === "") {
                aRoot = ".";
            }
            aRoot = aRoot.replace(/\/$/, '');
            // It is possible for the path to be above the root. In this case, simply
            // checking whether the root is a prefix of the path won't work. Instead, we
            // need to remove components from the root one by one, until either we find
            // a prefix that fits, or we run out of components to remove.
            var level = 0;
            while (aPath.indexOf(aRoot + '/') !== 0) {
                var index = aRoot.lastIndexOf("/");
                if (index < 0) {
                    return aPath;
                }
                // If the only part of the root that is left is the scheme (i.e. http://,
                // file:///, etc.), one or more slashes (/), or simply nothing at all, we
                // have exhausted all components, so the path is not relative to the root.
                aRoot = aRoot.slice(0, index);
                if (aRoot.match(/^([^\/]+:\/)?\/*$/)) {
                    return aPath;
                }
                ++level;
            }
            // Make sure we add a "../" for each component we removed from the root.
            return Array(level + 1).join("../") + aPath.substr(aRoot.length + 1);
        }
        exports.relative = relative;
        var supportsNullProto = (function () {
            var obj = Object.create(null);
            return !('__proto__' in obj);
        }());
        function identity(s) {
            return s;
        }
        /**
         * Because behavior goes wacky when you set `__proto__` on objects, we
         * have to prefix all the strings in our set with an arbitrary character.
         *
         * See https://github.com/mozilla/source-map/pull/31 and
         * https://github.com/mozilla/source-map/issues/30
         *
         * @param String aStr
         */
        function toSetString(aStr) {
            if (isProtoString(aStr)) {
                return '$' + aStr;
            }
            return aStr;
        }
        exports.toSetString = supportsNullProto ? identity : toSetString;
        function fromSetString(aStr) {
            if (isProtoString(aStr)) {
                return aStr.slice(1);
            }
            return aStr;
        }
        exports.fromSetString = supportsNullProto ? identity : fromSetString;
        function isProtoString(s) {
            if (!s) {
                return false;
            }
            var length = s.length;
            if (length < 9 /* "__proto__".length */) {
                return false;
            }
            if (s.charCodeAt(length - 1) !== 95 /* '_' */ ||
                s.charCodeAt(length - 2) !== 95 /* '_' */ ||
                s.charCodeAt(length - 3) !== 111 /* 'o' */ ||
                s.charCodeAt(length - 4) !== 116 /* 't' */ ||
                s.charCodeAt(length - 5) !== 111 /* 'o' */ ||
                s.charCodeAt(length - 6) !== 114 /* 'r' */ ||
                s.charCodeAt(length - 7) !== 112 /* 'p' */ ||
                s.charCodeAt(length - 8) !== 95 /* '_' */ ||
                s.charCodeAt(length - 9) !== 95 /* '_' */) {
                return false;
            }
            for (var i = length - 10; i >= 0; i--) {
                if (s.charCodeAt(i) !== 36 /* '$' */) {
                    return false;
                }
            }
            return true;
        }
        /**
         * Comparator between two mappings where the original positions are compared.
         *
         * Optionally pass in `true` as `onlyCompareGenerated` to consider two
         * mappings with the same original source/line/column, but different generated
         * line and column the same. Useful when searching for a mapping with a
         * stubbed out mapping.
         */
        function compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {
            var cmp = strcmp(mappingA.source, mappingB.source);
            if (cmp !== 0) {
                return cmp;
            }
            cmp = mappingA.originalLine - mappingB.originalLine;
            if (cmp !== 0) {
                return cmp;
            }
            cmp = mappingA.originalColumn - mappingB.originalColumn;
            if (cmp !== 0 || onlyCompareOriginal) {
                return cmp;
            }
            cmp = mappingA.generatedColumn - mappingB.generatedColumn;
            if (cmp !== 0) {
                return cmp;
            }
            cmp = mappingA.generatedLine - mappingB.generatedLine;
            if (cmp !== 0) {
                return cmp;
            }
            return strcmp(mappingA.name, mappingB.name);
        }
        exports.compareByOriginalPositions = compareByOriginalPositions;
        /**
         * Comparator between two mappings with deflated source and name indices where
         * the generated positions are compared.
         *
         * Optionally pass in `true` as `onlyCompareGenerated` to consider two
         * mappings with the same generated line and column, but different
         * source/name/original line and column the same. Useful when searching for a
         * mapping with a stubbed out mapping.
         */
        function compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {
            var cmp = mappingA.generatedLine - mappingB.generatedLine;
            if (cmp !== 0) {
                return cmp;
            }
            cmp = mappingA.generatedColumn - mappingB.generatedColumn;
            if (cmp !== 0 || onlyCompareGenerated) {
                return cmp;
            }
            cmp = strcmp(mappingA.source, mappingB.source);
            if (cmp !== 0) {
                return cmp;
            }
            cmp = mappingA.originalLine - mappingB.originalLine;
            if (cmp !== 0) {
                return cmp;
            }
            cmp = mappingA.originalColumn - mappingB.originalColumn;
            if (cmp !== 0) {
                return cmp;
            }
            return strcmp(mappingA.name, mappingB.name);
        }
        exports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;
        function strcmp(aStr1, aStr2) {
            if (aStr1 === aStr2) {
                return 0;
            }
            if (aStr1 === null) {
                return 1; // aStr2 !== null
            }
            if (aStr2 === null) {
                return -1; // aStr1 !== null
            }
            if (aStr1 > aStr2) {
                return 1;
            }
            return -1;
        }
        /**
         * Comparator between two mappings with inflated source and name strings where
         * the generated positions are compared.
         */
        function compareByGeneratedPositionsInflated(mappingA, mappingB) {
            var cmp = mappingA.generatedLine - mappingB.generatedLine;
            if (cmp !== 0) {
                return cmp;
            }
            cmp = mappingA.generatedColumn - mappingB.generatedColumn;
            if (cmp !== 0) {
                return cmp;
            }
            cmp = strcmp(mappingA.source, mappingB.source);
            if (cmp !== 0) {
                return cmp;
            }
            cmp = mappingA.originalLine - mappingB.originalLine;
            if (cmp !== 0) {
                return cmp;
            }
            cmp = mappingA.originalColumn - mappingB.originalColumn;
            if (cmp !== 0) {
                return cmp;
            }
            return strcmp(mappingA.name, mappingB.name);
        }
        exports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;
        /**
         * Strip any JSON XSSI avoidance prefix from the string (as documented
         * in the source maps specification), and then parse the string as
         * JSON.
         */
        function parseSourceMapInput(str) {
            return JSON.parse(str.replace(/^\)]}'[^\n]*\n/, ''));
        }
        exports.parseSourceMapInput = parseSourceMapInput;
        /**
         * Compute the URL of a source given the the source root, the source's
         * URL, and the source map's URL.
         */
        function computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {
            sourceURL = sourceURL || '';
            if (sourceRoot) {
                // This follows what Chrome does.
                if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {
                    sourceRoot += '/';
                }
                // The spec says:
                //   Line 4: An optional source root, useful for relocating source
                //   files on a server or removing repeated values in the
                //   sources entry.  This value is prepended to the individual
                //   entries in the source field.
                sourceURL = sourceRoot + sourceURL;
            }
            // Historically, SourceMapConsumer did not take the sourceMapURL as
            // a parameter.  This mode is still somewhat supported, which is why
            // this code block is conditional.  However, it's preferable to pass
            // the source map URL to SourceMapConsumer, so that this function
            // can implement the source URL resolution algorithm as outlined in
            // the spec.  This block is basically the equivalent of:
            //    new URL(sourceURL, sourceMapURL).toString()
            // ... except it avoids using URL, which wasn't available in the
            // older releases of node still supported by this library.
            //
            // The spec says:
            //   If the sources are not absolute URLs after prepending of the
            //   sourceRoot, the sources are resolved relative to the
            //   SourceMap (like resolving script src in a html document).
            if (sourceMapURL) {
                var parsed = urlParse(sourceMapURL);
                if (!parsed) {
                    throw new Error("sourceMapURL could not be parsed");
                }
                if (parsed.path) {
                    // Strip the last path component, but keep the "/".
                    var index = parsed.path.lastIndexOf('/');
                    if (index >= 0) {
                        parsed.path = parsed.path.substring(0, index + 1);
                    }
                }
                sourceURL = join(urlGenerate(parsed), sourceURL);
            }
            return normalize(sourceURL);
        }
        exports.computeSourceURL = computeSourceURL;
    });
    var util_1$1 = util$1.getArg;
    var util_2$1 = util$1.urlParse;
    var util_3 = util$1.urlGenerate;
    var util_4 = util$1.normalize;
    var util_5 = util$1.join;
    var util_6 = util$1.isAbsolute;
    var util_7 = util$1.relative;
    var util_8 = util$1.toSetString;
    var util_9 = util$1.fromSetString;
    var util_10 = util$1.compareByOriginalPositions;
    var util_11 = util$1.compareByGeneratedPositionsDeflated;
    var util_12 = util$1.compareByGeneratedPositionsInflated;
    var util_13 = util$1.parseSourceMapInput;
    var util_14 = util$1.computeSourceURL;

    /* -*- Mode: js; js-indent-level: 2; -*- */
    /*
     * Copyright 2011 Mozilla Foundation and contributors
     * Licensed under the New BSD license. See LICENSE or:
     * http://opensource.org/licenses/BSD-3-Clause
     */
    var has = Object.prototype.hasOwnProperty;
    var hasNativeMap = typeof Map !== "undefined";
    /**
     * A data structure which is a combination of an array and a set. Adding a new
     * member is O(1), testing for membership is O(1), and finding the index of an
     * element is O(1). Removing elements from the set is not supported. Only
     * strings are supported for membership.
     */
    function ArraySet$2() {
        this._array = [];
        this._set = hasNativeMap ? new Map() : Object.create(null);
    }
    /**
     * Static method for creating ArraySet instances from an existing array.
     */
    ArraySet$2.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {
        var set = new ArraySet$2();
        for (var i = 0, len = aArray.length; i < len; i++) {
            set.add(aArray[i], aAllowDuplicates);
        }
        return set;
    };
    /**
     * Return how many unique items are in this ArraySet. If duplicates have been
     * added, than those do not count towards the size.
     *
     * @returns Number
     */
    ArraySet$2.prototype.size = function ArraySet_size() {
        return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;
    };
    /**
     * Add the given string to this set.
     *
     * @param String aStr
     */
    ArraySet$2.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {
        var sStr = hasNativeMap ? aStr : util$1.toSetString(aStr);
        var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);
        var idx = this._array.length;
        if (!isDuplicate || aAllowDuplicates) {
            this._array.push(aStr);
        }
        if (!isDuplicate) {
            if (hasNativeMap) {
                this._set.set(aStr, idx);
            }
            else {
                this._set[sStr] = idx;
            }
        }
    };
    /**
     * Is the given string a member of this set?
     *
     * @param String aStr
     */
    ArraySet$2.prototype.has = function ArraySet_has(aStr) {
        if (hasNativeMap) {
            return this._set.has(aStr);
        }
        else {
            var sStr = util$1.toSetString(aStr);
            return has.call(this._set, sStr);
        }
    };
    /**
     * What is the index of the given string in the array?
     *
     * @param String aStr
     */
    ArraySet$2.prototype.indexOf = function ArraySet_indexOf(aStr) {
        if (hasNativeMap) {
            var idx = this._set.get(aStr);
            if (idx >= 0) {
                return idx;
            }
        }
        else {
            var sStr = util$1.toSetString(aStr);
            if (has.call(this._set, sStr)) {
                return this._set[sStr];
            }
        }
        throw new Error('"' + aStr + '" is not in the set.');
    };
    /**
     * What is the element at the given index?
     *
     * @param Number aIdx
     */
    ArraySet$2.prototype.at = function ArraySet_at(aIdx) {
        if (aIdx >= 0 && aIdx < this._array.length) {
            return this._array[aIdx];
        }
        throw new Error('No element indexed by ' + aIdx);
    };
    /**
     * Returns the array representation of this set (which has the proper indices
     * indicated by indexOf). Note that this is a copy of the internal array used
     * for storing the members so that no one can mess with internal state.
     */
    ArraySet$2.prototype.toArray = function ArraySet_toArray() {
        return this._array.slice();
    };
    var ArraySet_1 = ArraySet$2;
    var arraySet = {
        ArraySet: ArraySet_1
    };

    /* -*- Mode: js; js-indent-level: 2; -*- */
    /*
     * Copyright 2014 Mozilla Foundation and contributors
     * Licensed under the New BSD license. See LICENSE or:
     * http://opensource.org/licenses/BSD-3-Clause
     */
    /**
     * Determine whether mappingB is after mappingA with respect to generated
     * position.
     */
    function generatedPositionAfter(mappingA, mappingB) {
        // Optimized for most common case
        var lineA = mappingA.generatedLine;
        var lineB = mappingB.generatedLine;
        var columnA = mappingA.generatedColumn;
        var columnB = mappingB.generatedColumn;
        return lineB > lineA || lineB == lineA && columnB >= columnA ||
            util$1.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;
    }
    /**
     * A data structure to provide a sorted view of accumulated mappings in a
     * performance conscious manner. It trades a neglibable overhead in general
     * case for a large speedup in case of mappings being added in order.
     */
    function MappingList$1() {
        this._array = [];
        this._sorted = true;
        // Serves as infimum
        this._last = { generatedLine: -1, generatedColumn: 0 };
    }
    /**
     * Iterate through internal items. This method takes the same arguments that
     * `Array.prototype.forEach` takes.
     *
     * NOTE: The order of the mappings is NOT guaranteed.
     */
    MappingList$1.prototype.unsortedForEach =
        function MappingList_forEach(aCallback, aThisArg) {
            this._array.forEach(aCallback, aThisArg);
        };
    /**
     * Add the given source mapping.
     *
     * @param Object aMapping
     */
    MappingList$1.prototype.add = function MappingList_add(aMapping) {
        if (generatedPositionAfter(this._last, aMapping)) {
            this._last = aMapping;
            this._array.push(aMapping);
        }
        else {
            this._sorted = false;
            this._array.push(aMapping);
        }
    };
    /**
     * Returns the flat, sorted array of mappings. The mappings are sorted by
     * generated position.
     *
     * WARNING: This method returns internal data without copying, for
     * performance. The return value must NOT be mutated, and should be treated as
     * an immutable borrow. If you want to take ownership, you must make your own
     * copy.
     */
    MappingList$1.prototype.toArray = function MappingList_toArray() {
        if (!this._sorted) {
            this._array.sort(util$1.compareByGeneratedPositionsInflated);
            this._sorted = true;
        }
        return this._array;
    };
    var MappingList_1 = MappingList$1;
    var mappingList = {
        MappingList: MappingList_1
    };

    /* -*- Mode: js; js-indent-level: 2; -*- */
    /*
     * Copyright 2011 Mozilla Foundation and contributors
     * Licensed under the New BSD license. See LICENSE or:
     * http://opensource.org/licenses/BSD-3-Clause
     */
    var ArraySet$1 = arraySet.ArraySet;
    var MappingList = mappingList.MappingList;
    /**
     * An instance of the SourceMapGenerator represents a source map which is
     * being built incrementally. You may pass an object with the following
     * properties:
     *
     *   - file: The filename of the generated source.
     *   - sourceRoot: A root for all relative URLs in this source map.
     */
    function SourceMapGenerator$2(aArgs) {
        if (!aArgs) {
            aArgs = {};
        }
        this._file = util$1.getArg(aArgs, 'file', null);
        this._sourceRoot = util$1.getArg(aArgs, 'sourceRoot', null);
        this._skipValidation = util$1.getArg(aArgs, 'skipValidation', false);
        this._sources = new ArraySet$1();
        this._names = new ArraySet$1();
        this._mappings = new MappingList();
        this._sourcesContents = null;
    }
    SourceMapGenerator$2.prototype._version = 3;
    /**
     * Creates a new SourceMapGenerator based on a SourceMapConsumer
     *
     * @param aSourceMapConsumer The SourceMap.
     */
    SourceMapGenerator$2.fromSourceMap =
        function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {
            var sourceRoot = aSourceMapConsumer.sourceRoot;
            var generator = new SourceMapGenerator$2({
                file: aSourceMapConsumer.file,
                sourceRoot: sourceRoot
            });
            aSourceMapConsumer.eachMapping(function (mapping) {
                var newMapping = {
                    generated: {
                        line: mapping.generatedLine,
                        column: mapping.generatedColumn
                    }
                };
                if (mapping.source != null) {
                    newMapping.source = mapping.source;
                    if (sourceRoot != null) {
                        newMapping.source = util$1.relative(sourceRoot, newMapping.source);
                    }
                    newMapping.original = {
                        line: mapping.originalLine,
                        column: mapping.originalColumn
                    };
                    if (mapping.name != null) {
                        newMapping.name = mapping.name;
                    }
                }
                generator.addMapping(newMapping);
            });
            aSourceMapConsumer.sources.forEach(function (sourceFile) {
                var sourceRelative = sourceFile;
                if (sourceRoot !== null) {
                    sourceRelative = util$1.relative(sourceRoot, sourceFile);
                }
                if (!generator._sources.has(sourceRelative)) {
                    generator._sources.add(sourceRelative);
                }
                var content = aSourceMapConsumer.sourceContentFor(sourceFile);
                if (content != null) {
                    generator.setSourceContent(sourceFile, content);
                }
            });
            return generator;
        };
    /**
     * Add a single mapping from original source line and column to the generated
     * source's line and column for this source map being created. The mapping
     * object should have the following properties:
     *
     *   - generated: An object with the generated line and column positions.
     *   - original: An object with the original line and column positions.
     *   - source: The original source file (relative to the sourceRoot).
     *   - name: An optional original token name for this mapping.
     */
    SourceMapGenerator$2.prototype.addMapping =
        function SourceMapGenerator_addMapping(aArgs) {
            var generated = util$1.getArg(aArgs, 'generated');
            var original = util$1.getArg(aArgs, 'original', null);
            var source = util$1.getArg(aArgs, 'source', null);
            var name = util$1.getArg(aArgs, 'name', null);
            if (!this._skipValidation) {
                this._validateMapping(generated, original, source, name);
            }
            if (source != null) {
                source = String(source);
                if (!this._sources.has(source)) {
                    this._sources.add(source);
                }
            }
            if (name != null) {
                name = String(name);
                if (!this._names.has(name)) {
                    this._names.add(name);
                }
            }
            this._mappings.add({
                generatedLine: generated.line,
                generatedColumn: generated.column,
                originalLine: original != null && original.line,
                originalColumn: original != null && original.column,
                source: source,
                name: name
            });
        };
    /**
     * Set the source content for a source file.
     */
    SourceMapGenerator$2.prototype.setSourceContent =
        function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {
            var source = aSourceFile;
            if (this._sourceRoot != null) {
                source = util$1.relative(this._sourceRoot, source);
            }
            if (aSourceContent != null) {
                // Add the source content to the _sourcesContents map.
                // Create a new _sourcesContents map if the property is null.
                if (!this._sourcesContents) {
                    this._sourcesContents = Object.create(null);
                }
                this._sourcesContents[util$1.toSetString(source)] = aSourceContent;
            }
            else if (this._sourcesContents) {
                // Remove the source file from the _sourcesContents map.
                // If the _sourcesContents map is empty, set the property to null.
                delete this._sourcesContents[util$1.toSetString(source)];
                if (Object.keys(this._sourcesContents).length === 0) {
                    this._sourcesContents = null;
                }
            }
        };
    /**
     * Applies the mappings of a sub-source-map for a specific source file to the
     * source map being generated. Each mapping to the supplied source file is
     * rewritten using the supplied source map. Note: The resolution for the
     * resulting mappings is the minimium of this map and the supplied map.
     *
     * @param aSourceMapConsumer The source map to be applied.
     * @param aSourceFile Optional. The filename of the source file.
     *        If omitted, SourceMapConsumer's file property will be used.
     * @param aSourceMapPath Optional. The dirname of the path to the source map
     *        to be applied. If relative, it is relative to the SourceMapConsumer.
     *        This parameter is needed when the two source maps aren't in the same
     *        directory, and the source map to be applied contains relative source
     *        paths. If so, those relative source paths need to be rewritten
     *        relative to the SourceMapGenerator.
     */
    SourceMapGenerator$2.prototype.applySourceMap =
        function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {
            var sourceFile = aSourceFile;
            // If aSourceFile is omitted, we will use the file property of the SourceMap
            if (aSourceFile == null) {
                if (aSourceMapConsumer.file == null) {
                    throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +
                        'or the source map\'s "file" property. Both were omitted.');
                }
                sourceFile = aSourceMapConsumer.file;
            }
            var sourceRoot = this._sourceRoot;
            // Make "sourceFile" relative if an absolute Url is passed.
            if (sourceRoot != null) {
                sourceFile = util$1.relative(sourceRoot, sourceFile);
            }
            // Applying the SourceMap can add and remove items from the sources and
            // the names array.
            var newSources = new ArraySet$1();
            var newNames = new ArraySet$1();
            // Find mappings for the "sourceFile"
            this._mappings.unsortedForEach(function (mapping) {
                if (mapping.source === sourceFile && mapping.originalLine != null) {
                    // Check if it can be mapped by the source map, then update the mapping.
                    var original = aSourceMapConsumer.originalPositionFor({
                        line: mapping.originalLine,
                        column: mapping.originalColumn
                    });
                    if (original.source != null) {
                        // Copy mapping
                        mapping.source = original.source;
                        if (aSourceMapPath != null) {
                            mapping.source = util$1.join(aSourceMapPath, mapping.source);
                        }
                        if (sourceRoot != null) {
                            mapping.source = util$1.relative(sourceRoot, mapping.source);
                        }
                        mapping.originalLine = original.line;
                        mapping.originalColumn = original.column;
                        if (original.name != null) {
                            mapping.name = original.name;
                        }
                    }
                }
                var source = mapping.source;
                if (source != null && !newSources.has(source)) {
                    newSources.add(source);
                }
                var name = mapping.name;
                if (name != null && !newNames.has(name)) {
                    newNames.add(name);
                }
            }, this);
            this._sources = newSources;
            this._names = newNames;
            // Copy sourcesContents of applied map.
            aSourceMapConsumer.sources.forEach(function (sourceFile) {
                var content = aSourceMapConsumer.sourceContentFor(sourceFile);
                if (content != null) {
                    if (aSourceMapPath != null) {
                        sourceFile = util$1.join(aSourceMapPath, sourceFile);
                    }
                    if (sourceRoot != null) {
                        sourceFile = util$1.relative(sourceRoot, sourceFile);
                    }
                    this.setSourceContent(sourceFile, content);
                }
            }, this);
        };
    /**
     * A mapping can have one of the three levels of data:
     *
     *   1. Just the generated position.
     *   2. The Generated position, original position, and original source.
     *   3. Generated and original position, original source, as well as a name
     *      token.
     *
     * To maintain consistency, we validate that any new mapping being added falls
     * in to one of these categories.
     */
    SourceMapGenerator$2.prototype._validateMapping =
        function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource, aName) {
            // When aOriginal is truthy but has empty values for .line and .column,
            // it is most likely a programmer error. In this case we throw a very
            // specific error message to try to guide them the right way.
            // For example: https://github.com/Polymer/polymer-bundler/pull/519
            if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {
                throw new Error('original.line and original.column are not numbers -- you probably meant to omit ' +
                    'the original mapping entirely and only map the generated position. If so, pass ' +
                    'null for the original mapping instead of an object with empty or null values.');
            }
            if (aGenerated && 'line' in aGenerated && 'column' in aGenerated
                && aGenerated.line > 0 && aGenerated.column >= 0
                && !aOriginal && !aSource && !aName) {
                // Case 1.
                return;
            }
            else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated
                && aOriginal && 'line' in aOriginal && 'column' in aOriginal
                && aGenerated.line > 0 && aGenerated.column >= 0
                && aOriginal.line > 0 && aOriginal.column >= 0
                && aSource) {
                // Cases 2 and 3.
                return;
            }
            else {
                throw new Error('Invalid mapping: ' + JSON.stringify({
                    generated: aGenerated,
                    source: aSource,
                    original: aOriginal,
                    name: aName
                }));
            }
        };
    /**
     * Serialize the accumulated mappings in to the stream of base 64 VLQs
     * specified by the source map format.
     */
    SourceMapGenerator$2.prototype._serializeMappings =
        function SourceMapGenerator_serializeMappings() {
            var previousGeneratedColumn = 0;
            var previousGeneratedLine = 1;
            var previousOriginalColumn = 0;
            var previousOriginalLine = 0;
            var previousName = 0;
            var previousSource = 0;
            var result = '';
            var next;
            var mapping;
            var nameIdx;
            var sourceIdx;
            var mappings = this._mappings.toArray();
            for (var i = 0, len = mappings.length; i < len; i++) {
                mapping = mappings[i];
                next = '';
                if (mapping.generatedLine !== previousGeneratedLine) {
                    previousGeneratedColumn = 0;
                    while (mapping.generatedLine !== previousGeneratedLine) {
                        next += ';';
                        previousGeneratedLine++;
                    }
                }
                else {
                    if (i > 0) {
                        if (!util$1.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {
                            continue;
                        }
                        next += ',';
                    }
                }
                next += base64Vlq.encode(mapping.generatedColumn
                    - previousGeneratedColumn);
                previousGeneratedColumn = mapping.generatedColumn;
                if (mapping.source != null) {
                    sourceIdx = this._sources.indexOf(mapping.source);
                    next += base64Vlq.encode(sourceIdx - previousSource);
                    previousSource = sourceIdx;
                    // lines are stored 0-based in SourceMap spec version 3
                    next += base64Vlq.encode(mapping.originalLine - 1
                        - previousOriginalLine);
                    previousOriginalLine = mapping.originalLine - 1;
                    next += base64Vlq.encode(mapping.originalColumn
                        - previousOriginalColumn);
                    previousOriginalColumn = mapping.originalColumn;
                    if (mapping.name != null) {
                        nameIdx = this._names.indexOf(mapping.name);
                        next += base64Vlq.encode(nameIdx - previousName);
                        previousName = nameIdx;
                    }
                }
                result += next;
            }
            return result;
        };
    SourceMapGenerator$2.prototype._generateSourcesContent =
        function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {
            return aSources.map(function (source) {
                if (!this._sourcesContents) {
                    return null;
                }
                if (aSourceRoot != null) {
                    source = util$1.relative(aSourceRoot, source);
                }
                var key = util$1.toSetString(source);
                return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)
                    ? this._sourcesContents[key]
                    : null;
            }, this);
        };
    /**
     * Externalize the source map.
     */
    SourceMapGenerator$2.prototype.toJSON =
        function SourceMapGenerator_toJSON() {
            var map = {
                version: this._version,
                sources: this._sources.toArray(),
                names: this._names.toArray(),
                mappings: this._serializeMappings()
            };
            if (this._file != null) {
                map.file = this._file;
            }
            if (this._sourceRoot != null) {
                map.sourceRoot = this._sourceRoot;
            }
            if (this._sourcesContents) {
                map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);
            }
            return map;
        };
    /**
     * Render the source map being generated to a string.
     */
    SourceMapGenerator$2.prototype.toString =
        function SourceMapGenerator_toString() {
            return JSON.stringify(this.toJSON());
        };
    var SourceMapGenerator_1 = SourceMapGenerator$2;
    var sourceMapGenerator = {
        SourceMapGenerator: SourceMapGenerator_1
    };

    var binarySearch = createCommonjsModule(function (module, exports) {
        /* -*- Mode: js; js-indent-level: 2; -*- */
        /*
         * Copyright 2011 Mozilla Foundation and contributors
         * Licensed under the New BSD license. See LICENSE or:
         * http://opensource.org/licenses/BSD-3-Clause
         */
        exports.GREATEST_LOWER_BOUND = 1;
        exports.LEAST_UPPER_BOUND = 2;
        /**
         * Recursive implementation of binary search.
         *
         * @param aLow Indices here and lower do not contain the needle.
         * @param aHigh Indices here and higher do not contain the needle.
         * @param aNeedle The element being searched for.
         * @param aHaystack The non-empty array being searched.
         * @param aCompare Function which takes two elements and returns -1, 0, or 1.
         * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or
         *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the
         *     closest element that is smaller than or greater than the one we are
         *     searching for, respectively, if the exact element cannot be found.
         */
        function recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {
            // This function terminates when one of the following is true:
            //
            //   1. We find the exact element we are looking for.
            //
            //   2. We did not find the exact element, but we can return the index of
            //      the next-closest element.
            //
            //   3. We did not find the exact element, and there is no next-closest
            //      element than the one we are searching for, so we return -1.
            var mid = Math.floor((aHigh - aLow) / 2) + aLow;
            var cmp = aCompare(aNeedle, aHaystack[mid], true);
            if (cmp === 0) {
                // Found the element we are looking for.
                return mid;
            }
            else if (cmp > 0) {
                // Our needle is greater than aHaystack[mid].
                if (aHigh - mid > 1) {
                    // The element is in the upper half.
                    return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);
                }
                // The exact needle element was not found in this haystack. Determine if
                // we are in termination case (3) or (2) and return the appropriate thing.
                if (aBias == exports.LEAST_UPPER_BOUND) {
                    return aHigh < aHaystack.length ? aHigh : -1;
                }
                else {
                    return mid;
                }
            }
            else {
                // Our needle is less than aHaystack[mid].
                if (mid - aLow > 1) {
                    // The element is in the lower half.
                    return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);
                }
                // we are in termination case (3) or (2) and return the appropriate thing.
                if (aBias == exports.LEAST_UPPER_BOUND) {
                    return mid;
                }
                else {
                    return aLow < 0 ? -1 : aLow;
                }
            }
        }
        /**
         * This is an implementation of binary search which will always try and return
         * the index of the closest element if there is no exact hit. This is because
         * mappings between original and generated line/col pairs are single points,
         * and there is an implicit region between each of them, so a miss just means
         * that you aren't on the very start of a region.
         *
         * @param aNeedle The element you are looking for.
         * @param aHaystack The array that is being searched.
         * @param aCompare A function which takes the needle and an element in the
         *     array and returns -1, 0, or 1 depending on whether the needle is less
         *     than, equal to, or greater than the element, respectively.
         * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or
         *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the
         *     closest element that is smaller than or greater than the one we are
         *     searching for, respectively, if the exact element cannot be found.
         *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.
         */
        exports.search = function search(aNeedle, aHaystack, aCompare, aBias) {
            if (aHaystack.length === 0) {
                return -1;
            }
            var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack, aCompare, aBias || exports.GREATEST_LOWER_BOUND);
            if (index < 0) {
                return -1;
            }
            // We have found either the exact element, or the next-closest element than
            // the one we are searching for. However, there may be more than one such
            // element. Make sure we always return the smallest of these.
            while (index - 1 >= 0) {
                if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {
                    break;
                }
                --index;
            }
            return index;
        };
    });
    var binarySearch_1 = binarySearch.GREATEST_LOWER_BOUND;
    var binarySearch_2 = binarySearch.LEAST_UPPER_BOUND;
    var binarySearch_3 = binarySearch.search;

    /* -*- Mode: js; js-indent-level: 2; -*- */
    /*
     * Copyright 2011 Mozilla Foundation and contributors
     * Licensed under the New BSD license. See LICENSE or:
     * http://opensource.org/licenses/BSD-3-Clause
     */
    // It turns out that some (most?) JavaScript engines don't self-host
    // `Array.prototype.sort`. This makes sense because C++ will likely remain
    // faster than JS when doing raw CPU-intensive sorting. However, when using a
    // custom comparator function, calling back and forth between the VM's C++ and
    // JIT'd JS is rather slow *and* loses JIT type information, resulting in
    // worse generated code for the comparator function than would be optimal. In
    // fact, when sorting with a comparator, these costs outweigh the benefits of
    // sorting in C++. By using our own JS-implemented Quick Sort (below), we get
    // a ~3500ms mean speed-up in `bench/bench.html`.
    /**
     * Swap the elements indexed by `x` and `y` in the array `ary`.
     *
     * @param {Array} ary
     *        The array.
     * @param {Number} x
     *        The index of the first item.
     * @param {Number} y
     *        The index of the second item.
     */
    function swap(ary, x, y) {
        var temp = ary[x];
        ary[x] = ary[y];
        ary[y] = temp;
    }
    /**
     * Returns a random integer within the range `low .. high` inclusive.
     *
     * @param {Number} low
     *        The lower bound on the range.
     * @param {Number} high
     *        The upper bound on the range.
     */
    function randomIntInRange(low, high) {
        return Math.round(low + (Math.random() * (high - low)));
    }
    /**
     * The Quick Sort algorithm.
     *
     * @param {Array} ary
     *        An array to sort.
     * @param {function} comparator
     *        Function to use to compare two items.
     * @param {Number} p
     *        Start index of the array
     * @param {Number} r
     *        End index of the array
     */
    function doQuickSort(ary, comparator, p, r) {
        // If our lower bound is less than our upper bound, we (1) partition the
        // array into two pieces and (2) recurse on each half. If it is not, this is
        // the empty array and our base case.
        if (p < r) {
            // (1) Partitioning.
            //
            // The partitioning chooses a pivot between `p` and `r` and moves all
            // elements that are less than or equal to the pivot to the before it, and
            // all the elements that are greater than it after it. The effect is that
            // once partition is done, the pivot is in the exact place it will be when
            // the array is put in sorted order, and it will not need to be moved
            // again. This runs in O(n) time.
            // Always choose a random pivot so that an input array which is reverse
            // sorted does not cause O(n^2) running time.
            var pivotIndex = randomIntInRange(p, r);
            var i = p - 1;
            swap(ary, pivotIndex, r);
            var pivot = ary[r];
            // Immediately after `j` is incremented in this loop, the following hold
            // true:
            //
            //   * Every element in `ary[p .. i]` is less than or equal to the pivot.
            //
            //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.
            for (var j = p; j < r; j++) {
                if (comparator(ary[j], pivot) <= 0) {
                    i += 1;
                    swap(ary, i, j);
                }
            }
            swap(ary, i + 1, j);
            var q = i + 1;
            // (2) Recurse on each half.
            doQuickSort(ary, comparator, p, q - 1);
            doQuickSort(ary, comparator, q + 1, r);
        }
    }
    /**
     * Sort the given array in-place with the given comparator function.
     *
     * @param {Array} ary
     *        An array to sort.
     * @param {function} comparator
     *        Function to use to compare two items.
     */
    var quickSort_1 = function (ary, comparator) {
        doQuickSort(ary, comparator, 0, ary.length - 1);
    };
    var quickSort$1 = {
        quickSort: quickSort_1
    };

    /* -*- Mode: js; js-indent-level: 2; -*- */
    /*
     * Copyright 2011 Mozilla Foundation and contributors
     * Licensed under the New BSD license. See LICENSE or:
     * http://opensource.org/licenses/BSD-3-Clause
     */
    var ArraySet = arraySet.ArraySet;
    var quickSort = quickSort$1.quickSort;
    function SourceMapConsumer$1(aSourceMap, aSourceMapURL) {
        var sourceMap = aSourceMap;
        if (typeof aSourceMap === 'string') {
            sourceMap = util$1.parseSourceMapInput(aSourceMap);
        }
        return sourceMap.sections != null
            ? new IndexedSourceMapConsumer(sourceMap, aSourceMapURL)
            : new BasicSourceMapConsumer(sourceMap, aSourceMapURL);
    }
    SourceMapConsumer$1.fromSourceMap = function (aSourceMap, aSourceMapURL) {
        return BasicSourceMapConsumer.fromSourceMap(aSourceMap, aSourceMapURL);
    };
    /**
     * The version of the source mapping spec that we are consuming.
     */
    SourceMapConsumer$1.prototype._version = 3;
    // `__generatedMappings` and `__originalMappings` are arrays that hold the
    // parsed mapping coordinates from the source map's "mappings" attribute. They
    // are lazily instantiated, accessed via the `_generatedMappings` and
    // `_originalMappings` getters respectively, and we only parse the mappings
    // and create these arrays once queried for a source location. We jump through
    // these hoops because there can be many thousands of mappings, and parsing
    // them is expensive, so we only want to do it if we must.
    //
    // Each object in the arrays is of the form:
    //
    //     {
    //       generatedLine: The line number in the generated code,
    //       generatedColumn: The column number in the generated code,
    //       source: The path to the original source file that generated this
    //               chunk of code,
    //       originalLine: The line number in the original source that
    //                     corresponds to this chunk of generated code,
    //       originalColumn: The column number in the original source that
    //                       corresponds to this chunk of generated code,
    //       name: The name of the original symbol which generated this chunk of
    //             code.
    //     }
    //
    // All properties except for `generatedLine` and `generatedColumn` can be
    // `null`.
    //
    // `_generatedMappings` is ordered by the generated positions.
    //
    // `_originalMappings` is ordered by the original positions.
    SourceMapConsumer$1.prototype.__generatedMappings = null;
    Object.defineProperty(SourceMapConsumer$1.prototype, '_generatedMappings', {
        configurable: true,
        enumerable: true,
        get: function () {
            if (!this.__generatedMappings) {
                this._parseMappings(this._mappings, this.sourceRoot);
            }
            return this.__generatedMappings;
        }
    });
    SourceMapConsumer$1.prototype.__originalMappings = null;
    Object.defineProperty(SourceMapConsumer$1.prototype, '_originalMappings', {
        configurable: true,
        enumerable: true,
        get: function () {
            if (!this.__originalMappings) {
                this._parseMappings(this._mappings, this.sourceRoot);
            }
            return this.__originalMappings;
        }
    });
    SourceMapConsumer$1.prototype._charIsMappingSeparator =
        function SourceMapConsumer_charIsMappingSeparator(aStr, index) {
            var c = aStr.charAt(index);
            return c === ";" || c === ",";
        };
    /**
     * Parse the mappings in a string in to a data structure which we can easily
     * query (the ordered arrays in the `this.__generatedMappings` and
     * `this.__originalMappings` properties).
     */
    SourceMapConsumer$1.prototype._parseMappings =
        function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {
            throw new Error("Subclasses must implement _parseMappings");
        };
    SourceMapConsumer$1.GENERATED_ORDER = 1;
    SourceMapConsumer$1.ORIGINAL_ORDER = 2;
    SourceMapConsumer$1.GREATEST_LOWER_BOUND = 1;
    SourceMapConsumer$1.LEAST_UPPER_BOUND = 2;
    /**
     * Iterate over each mapping between an original source/line/column and a
     * generated line/column in this source map.
     *
     * @param Function aCallback
     *        The function that is called with each mapping.
     * @param Object aContext
     *        Optional. If specified, this object will be the value of `this` every
     *        time that `aCallback` is called.
     * @param aOrder
     *        Either `SourceMapConsumer.GENERATED_ORDER` or
     *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to
     *        iterate over the mappings sorted by the generated file's line/column
     *        order or the original's source/line/column order, respectively. Defaults to
     *        `SourceMapConsumer.GENERATED_ORDER`.
     */
    SourceMapConsumer$1.prototype.eachMapping =
        function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {
            var context = aContext || null;
            var order = aOrder || SourceMapConsumer$1.GENERATED_ORDER;
            var mappings;
            switch (order) {
                case SourceMapConsumer$1.GENERATED_ORDER:
                    mappings = this._generatedMappings;
                    break;
                case SourceMapConsumer$1.ORIGINAL_ORDER:
                    mappings = this._originalMappings;
                    break;
                default:
                    throw new Error("Unknown order of iteration.");
            }
            var sourceRoot = this.sourceRoot;
            mappings.map(function (mapping) {
                var source = mapping.source === null ? null : this._sources.at(mapping.source);
                source = util$1.computeSourceURL(sourceRoot, source, this._sourceMapURL);
                return {
                    source: source,
                    generatedLine: mapping.generatedLine,
                    generatedColumn: mapping.generatedColumn,
                    originalLine: mapping.originalLine,
                    originalColumn: mapping.originalColumn,
                    name: mapping.name === null ? null : this._names.at(mapping.name)
                };
            }, this).forEach(aCallback, context);
        };
    /**
     * Returns all generated line and column information for the original source,
     * line, and column provided. If no column is provided, returns all mappings
     * corresponding to a either the line we are searching for or the next
     * closest line that has any mappings. Otherwise, returns all mappings
     * corresponding to the given line and either the column we are searching for
     * or the next closest column that has any offsets.
     *
     * The only argument is an object with the following properties:
     *
     *   - source: The filename of the original source.
     *   - line: The line number in the original source.  The line number is 1-based.
     *   - column: Optional. the column number in the original source.
     *    The column number is 0-based.
     *
     * and an array of objects is returned, each with the following properties:
     *
     *   - line: The line number in the generated source, or null.  The
     *    line number is 1-based.
     *   - column: The column number in the generated source, or null.
     *    The column number is 0-based.
     */
    SourceMapConsumer$1.prototype.allGeneratedPositionsFor =
        function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {
            var line = util$1.getArg(aArgs, 'line');
            // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping
            // returns the index of the closest mapping less than the needle. By
            // setting needle.originalColumn to 0, we thus find the last mapping for
            // the given line, provided such a mapping exists.
            var needle = {
                source: util$1.getArg(aArgs, 'source'),
                originalLine: line,
                originalColumn: util$1.getArg(aArgs, 'column', 0)
            };
            needle.source = this._findSourceIndex(needle.source);
            if (needle.source < 0) {
                return [];
            }
            var mappings = [];
            var index = this._findMapping(needle, this._originalMappings, "originalLine", "originalColumn", util$1.compareByOriginalPositions, binarySearch.LEAST_UPPER_BOUND);
            if (index >= 0) {
                var mapping = this._originalMappings[index];
                if (aArgs.column === undefined) {
                    var originalLine = mapping.originalLine;
                    // Iterate until either we run out of mappings, or we run into
                    // a mapping for a different line than the one we found. Since
                    // mappings are sorted, this is guaranteed to find all mappings for
                    // the line we found.
                    while (mapping && mapping.originalLine === originalLine) {
                        mappings.push({
                            line: util$1.getArg(mapping, 'generatedLine', null),
                            column: util$1.getArg(mapping, 'generatedColumn', null),
                            lastColumn: util$1.getArg(mapping, 'lastGeneratedColumn', null)
                        });
                        mapping = this._originalMappings[++index];
                    }
                }
                else {
                    var originalColumn = mapping.originalColumn;
                    // Iterate until either we run out of mappings, or we run into
                    // a mapping for a different line than the one we were searching for.
                    // Since mappings are sorted, this is guaranteed to find all mappings for
                    // the line we are searching for.
                    while (mapping &&
                        mapping.originalLine === line &&
                        mapping.originalColumn == originalColumn) {
                        mappings.push({
                            line: util$1.getArg(mapping, 'generatedLine', null),
                            column: util$1.getArg(mapping, 'generatedColumn', null),
                            lastColumn: util$1.getArg(mapping, 'lastGeneratedColumn', null)
                        });
                        mapping = this._originalMappings[++index];
                    }
                }
            }
            return mappings;
        };
    var SourceMapConsumer_1 = SourceMapConsumer$1;
    /**
     * A BasicSourceMapConsumer instance represents a parsed source map which we can
     * query for information about the original file positions by giving it a file
     * position in the generated source.
     *
     * The first parameter is the raw source map (either as a JSON string, or
     * already parsed to an object). According to the spec, source maps have the
     * following attributes:
     *
     *   - version: Which version of the source map spec this map is following.
     *   - sources: An array of URLs to the original source files.
     *   - names: An array of identifiers which can be referrenced by individual mappings.
     *   - sourceRoot: Optional. The URL root from which all sources are relative.
     *   - sourcesContent: Optional. An array of contents of the original source files.
     *   - mappings: A string of base64 VLQs which contain the actual mappings.
     *   - file: Optional. The generated file this source map is associated with.
     *
     * Here is an example source map, taken from the source map spec[0]:
     *
     *     {
     *       version : 3,
     *       file: "out.js",
     *       sourceRoot : "",
     *       sources: ["foo.js", "bar.js"],
     *       names: ["src", "maps", "are", "fun"],
     *       mappings: "AA,AB;;ABCDE;"
     *     }
     *
     * The second parameter, if given, is a string whose value is the URL
     * at which the source map was found.  This URL is used to compute the
     * sources array.
     *
     * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#
     */
    function BasicSourceMapConsumer(aSourceMap, aSourceMapURL) {
        var sourceMap = aSourceMap;
        if (typeof aSourceMap === 'string') {
            sourceMap = util$1.parseSourceMapInput(aSourceMap);
        }
        var version = util$1.getArg(sourceMap, 'version');
        var sources = util$1.getArg(sourceMap, 'sources');
        // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which
        // requires the array) to play nice here.
        var names = util$1.getArg(sourceMap, 'names', []);
        var sourceRoot = util$1.getArg(sourceMap, 'sourceRoot', null);
        var sourcesContent = util$1.getArg(sourceMap, 'sourcesContent', null);
        var mappings = util$1.getArg(sourceMap, 'mappings');
        var file = util$1.getArg(sourceMap, 'file', null);
        // Once again, Sass deviates from the spec and supplies the version as a
        // string rather than a number, so we use loose equality checking here.
        if (version != this._version) {
            throw new Error('Unsupported version: ' + version);
        }
        if (sourceRoot) {
            sourceRoot = util$1.normalize(sourceRoot);
        }
        sources = sources
            .map(String)
            // Some source maps produce relative source paths like "./foo.js" instead of
            // "foo.js".  Normalize these first so that future comparisons will succeed.
            // See bugzil.la/1090768.
            .map(util$1.normalize)
            // Always ensure that absolute sources are internally stored relative to
            // the source root, if the source root is absolute. Not doing this would
            // be particularly problematic when the source root is a prefix of the
            // source (valid, but why??). See github issue #199 and bugzil.la/1188982.
            .map(function (source) {
            return sourceRoot && util$1.isAbsolute(sourceRoot) && util$1.isAbsolute(source)
                ? util$1.relative(sourceRoot, source)
                : source;
        });
        // Pass `true` below to allow duplicate names and sources. While source maps
        // are intended to be compressed and deduplicated, the TypeScript compiler
        // sometimes generates source maps with duplicates in them. See Github issue
        // #72 and bugzil.la/889492.
        this._names = ArraySet.fromArray(names.map(String), true);
        this._sources = ArraySet.fromArray(sources, true);
        this._absoluteSources = this._sources.toArray().map(function (s) {
            return util$1.computeSourceURL(sourceRoot, s, aSourceMapURL);
        });
        this.sourceRoot = sourceRoot;
        this.sourcesContent = sourcesContent;
        this._mappings = mappings;
        this._sourceMapURL = aSourceMapURL;
        this.file = file;
    }
    BasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer$1.prototype);
    BasicSourceMapConsumer.prototype.consumer = SourceMapConsumer$1;
    /**
     * Utility function to find the index of a source.  Returns -1 if not
     * found.
     */
    BasicSourceMapConsumer.prototype._findSourceIndex = function (aSource) {
        var relativeSource = aSource;
        if (this.sourceRoot != null) {
            relativeSource = util$1.relative(this.sourceRoot, relativeSource);
        }
        if (this._sources.has(relativeSource)) {
            return this._sources.indexOf(relativeSource);
        }
        // Maybe aSource is an absolute URL as returned by |sources|.  In
        // this case we can't simply undo the transform.
        var i;
        for (i = 0; i < this._absoluteSources.length; ++i) {
            if (this._absoluteSources[i] == aSource) {
                return i;
            }
        }
        return -1;
    };
    /**
     * Create a BasicSourceMapConsumer from a SourceMapGenerator.
     *
     * @param SourceMapGenerator aSourceMap
     *        The source map that will be consumed.
     * @param String aSourceMapURL
     *        The URL at which the source map can be found (optional)
     * @returns BasicSourceMapConsumer
     */
    BasicSourceMapConsumer.fromSourceMap =
        function SourceMapConsumer_fromSourceMap(aSourceMap, aSourceMapURL) {
            var smc = Object.create(BasicSourceMapConsumer.prototype);
            var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);
            var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);
            smc.sourceRoot = aSourceMap._sourceRoot;
            smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(), smc.sourceRoot);
            smc.file = aSourceMap._file;
            smc._sourceMapURL = aSourceMapURL;
            smc._absoluteSources = smc._sources.toArray().map(function (s) {
                return util$1.computeSourceURL(smc.sourceRoot, s, aSourceMapURL);
            });
            // Because we are modifying the entries (by converting string sources and
            // names to indices into the sources and names ArraySets), we have to make
            // a copy of the entry or else bad things happen. Shared mutable state
            // strikes again! See github issue #191.
            var generatedMappings = aSourceMap._mappings.toArray().slice();
            var destGeneratedMappings = smc.__generatedMappings = [];
            var destOriginalMappings = smc.__originalMappings = [];
            for (var i = 0, length = generatedMappings.length; i < length; i++) {
                var srcMapping = generatedMappings[i];
                var destMapping = new Mapping;
                destMapping.generatedLine = srcMapping.generatedLine;
                destMapping.generatedColumn = srcMapping.generatedColumn;
                if (srcMapping.source) {
                    destMapping.source = sources.indexOf(srcMapping.source);
                    destMapping.originalLine = srcMapping.originalLine;
                    destMapping.originalColumn = srcMapping.originalColumn;
                    if (srcMapping.name) {
                        destMapping.name = names.indexOf(srcMapping.name);
                    }
                    destOriginalMappings.push(destMapping);
                }
                destGeneratedMappings.push(destMapping);
            }
            quickSort(smc.__originalMappings, util$1.compareByOriginalPositions);
            return smc;
        };
    /**
     * The version of the source mapping spec that we are consuming.
     */
    BasicSourceMapConsumer.prototype._version = 3;
    /**
     * The list of original sources.
     */
    Object.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {
        get: function () {
            return this._absoluteSources.slice();
        }
    });
    /**
     * Provide the JIT with a nice shape / hidden class.
     */
    function Mapping() {
        this.generatedLine = 0;
        this.generatedColumn = 0;
        this.source = null;
        this.originalLine = null;
        this.originalColumn = null;
        this.name = null;
    }
    /**
     * Parse the mappings in a string in to a data structure which we can easily
     * query (the ordered arrays in the `this.__generatedMappings` and
     * `this.__originalMappings` properties).
     */
    BasicSourceMapConsumer.prototype._parseMappings =
        function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {
            var generatedLine = 1;
            var previousGeneratedColumn = 0;
            var previousOriginalLine = 0;
            var previousOriginalColumn = 0;
            var previousSource = 0;
            var previousName = 0;
            var length = aStr.length;
            var index = 0;
            var cachedSegments = {};
            var temp = {};
            var originalMappings = [];
            var generatedMappings = [];
            var mapping, str, segment, end, value;
            while (index < length) {
                if (aStr.charAt(index) === ';') {
                    generatedLine++;
                    index++;
                    previousGeneratedColumn = 0;
                }
                else if (aStr.charAt(index) === ',') {
                    index++;
                }
                else {
                    mapping = new Mapping();
                    mapping.generatedLine = generatedLine;
                    // Because each offset is encoded relative to the previous one,
                    // many segments often have the same encoding. We can exploit this
                    // fact by caching the parsed variable length fields of each segment,
                    // allowing us to avoid a second parse if we encounter the same
                    // segment again.
                    for (end = index; end < length; end++) {
                        if (this._charIsMappingSeparator(aStr, end)) {
                            break;
                        }
                    }
                    str = aStr.slice(index, end);
                    segment = cachedSegments[str];
                    if (segment) {
                        index += str.length;
                    }
                    else {
                        segment = [];
                        while (index < end) {
                            base64Vlq.decode(aStr, index, temp);
                            value = temp.value;
                            index = temp.rest;
                            segment.push(value);
                        }
                        if (segment.length === 2) {
                            throw new Error('Found a source, but no line and column');
                        }
                        if (segment.length === 3) {
                            throw new Error('Found a source and line, but no column');
                        }
                        cachedSegments[str] = segment;
                    }
                    // Generated column.
                    mapping.generatedColumn = previousGeneratedColumn + segment[0];
                    previousGeneratedColumn = mapping.generatedColumn;
                    if (segment.length > 1) {
                        // Original source.
                        mapping.source = previousSource + segment[1];
                        previousSource += segment[1];
                        // Original line.
                        mapping.originalLine = previousOriginalLine + segment[2];
                        previousOriginalLine = mapping.originalLine;
                        // Lines are stored 0-based
                        mapping.originalLine += 1;
                        // Original column.
                        mapping.originalColumn = previousOriginalColumn + segment[3];
                        previousOriginalColumn = mapping.originalColumn;
                        if (segment.length > 4) {
                            // Original name.
                            mapping.name = previousName + segment[4];
                            previousName += segment[4];
                        }
                    }
                    generatedMappings.push(mapping);
                    if (typeof mapping.originalLine === 'number') {
                        originalMappings.push(mapping);
                    }
                }
            }
            quickSort(generatedMappings, util$1.compareByGeneratedPositionsDeflated);
            this.__generatedMappings = generatedMappings;
            quickSort(originalMappings, util$1.compareByOriginalPositions);
            this.__originalMappings = originalMappings;
        };
    /**
     * Find the mapping that best matches the hypothetical "needle" mapping that
     * we are searching for in the given "haystack" of mappings.
     */
    BasicSourceMapConsumer.prototype._findMapping =
        function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName, aColumnName, aComparator, aBias) {
            // To return the position we are searching for, we must first find the
            // mapping for the given position and then return the opposite position it
            // points to. Because the mappings are sorted, we can use binary search to
            // find the best mapping.
            if (aNeedle[aLineName] <= 0) {
                throw new TypeError('Line must be greater than or equal to 1, got '
                    + aNeedle[aLineName]);
            }
            if (aNeedle[aColumnName] < 0) {
                throw new TypeError('Column must be greater than or equal to 0, got '
                    + aNeedle[aColumnName]);
            }
            return binarySearch.search(aNeedle, aMappings, aComparator, aBias);
        };
    /**
     * Compute the last column for each generated mapping. The last column is
     * inclusive.
     */
    BasicSourceMapConsumer.prototype.computeColumnSpans =
        function SourceMapConsumer_computeColumnSpans() {
            for (var index = 0; index < this._generatedMappings.length; ++index) {
                var mapping = this._generatedMappings[index];
                // Mappings do not contain a field for the last generated columnt. We
                // can come up with an optimistic estimate, however, by assuming that
                // mappings are contiguous (i.e. given two consecutive mappings, the
                // first mapping ends where the second one starts).
                if (index + 1 < this._generatedMappings.length) {
                    var nextMapping = this._generatedMappings[index + 1];
                    if (mapping.generatedLine === nextMapping.generatedLine) {
                        mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;
                        continue;
                    }
                }
                // The last mapping for each line spans the entire line.
                mapping.lastGeneratedColumn = Infinity;
            }
        };
    /**
     * Returns the original source, line, and column information for the generated
     * source's line and column positions provided. The only argument is an object
     * with the following properties:
     *
     *   - line: The line number in the generated source.  The line number
     *     is 1-based.
     *   - column: The column number in the generated source.  The column
     *     number is 0-based.
     *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or
     *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the
     *     closest element that is smaller than or greater than the one we are
     *     searching for, respectively, if the exact element cannot be found.
     *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.
     *
     * and an object is returned with the following properties:
     *
     *   - source: The original source file, or null.
     *   - line: The line number in the original source, or null.  The
     *     line number is 1-based.
     *   - column: The column number in the original source, or null.  The
     *     column number is 0-based.
     *   - name: The original identifier, or null.
     */
    BasicSourceMapConsumer.prototype.originalPositionFor =
        function SourceMapConsumer_originalPositionFor(aArgs) {
            var needle = {
                generatedLine: util$1.getArg(aArgs, 'line'),
                generatedColumn: util$1.getArg(aArgs, 'column')
            };
            var index = this._findMapping(needle, this._generatedMappings, "generatedLine", "generatedColumn", util$1.compareByGeneratedPositionsDeflated, util$1.getArg(aArgs, 'bias', SourceMapConsumer$1.GREATEST_LOWER_BOUND));
            if (index >= 0) {
                var mapping = this._generatedMappings[index];
                if (mapping.generatedLine === needle.generatedLine) {
                    var source = util$1.getArg(mapping, 'source', null);
                    if (source !== null) {
                        source = this._sources.at(source);
                        source = util$1.computeSourceURL(this.sourceRoot, source, this._sourceMapURL);
                    }
                    var name = util$1.getArg(mapping, 'name', null);
                    if (name !== null) {
                        name = this._names.at(name);
                    }
                    return {
                        source: source,
                        line: util$1.getArg(mapping, 'originalLine', null),
                        column: util$1.getArg(mapping, 'originalColumn', null),
                        name: name
                    };
                }
            }
            return {
                source: null,
                line: null,
                column: null,
                name: null
            };
        };
    /**
     * Return true if we have the source content for every source in the source
     * map, false otherwise.
     */
    BasicSourceMapConsumer.prototype.hasContentsOfAllSources =
        function BasicSourceMapConsumer_hasContentsOfAllSources() {
            if (!this.sourcesContent) {
                return false;
            }
            return this.sourcesContent.length >= this._sources.size() &&
                !this.sourcesContent.some(function (sc) { return sc == null; });
        };
    /**
     * Returns the original source content. The only argument is the url of the
     * original source file. Returns null if no original source content is
     * available.
     */
    BasicSourceMapConsumer.prototype.sourceContentFor =
        function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {
            if (!this.sourcesContent) {
                return null;
            }
            var index = this._findSourceIndex(aSource);
            if (index >= 0) {
                return this.sourcesContent[index];
            }
            var relativeSource = aSource;
            if (this.sourceRoot != null) {
                relativeSource = util$1.relative(this.sourceRoot, relativeSource);
            }
            var url;
            if (this.sourceRoot != null
                && (url = util$1.urlParse(this.sourceRoot))) {
                // XXX: file:// URIs and absolute paths lead to unexpected behavior for
                // many users. We can help them out when they expect file:// URIs to
                // behave like it would if they were running a local HTTP server. See
                // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.
                var fileUriAbsPath = relativeSource.replace(/^file:\/\//, "");
                if (url.scheme == "file"
                    && this._sources.has(fileUriAbsPath)) {
                    return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)];
                }
                if ((!url.path || url.path == "/")
                    && this._sources.has("/" + relativeSource)) {
                    return this.sourcesContent[this._sources.indexOf("/" + relativeSource)];
                }
            }
            // This function is used recursively from
            // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we
            // don't want to throw if we can't find the source - we just want to
            // return null, so we provide a flag to exit gracefully.
            if (nullOnMissing) {
                return null;
            }
            else {
                throw new Error('"' + relativeSource + '" is not in the SourceMap.');
            }
        };
    /**
     * Returns the generated line and column information for the original source,
     * line, and column positions provided. The only argument is an object with
     * the following properties:
     *
     *   - source: The filename of the original source.
     *   - line: The line number in the original source.  The line number
     *     is 1-based.
     *   - column: The column number in the original source.  The column
     *     number is 0-based.
     *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or
     *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the
     *     closest element that is smaller than or greater than the one we are
     *     searching for, respectively, if the exact element cannot be found.
     *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.
     *
     * and an object is returned with the following properties:
     *
     *   - line: The line number in the generated source, or null.  The
     *     line number is 1-based.
     *   - column: The column number in the generated source, or null.
     *     The column number is 0-based.
     */
    BasicSourceMapConsumer.prototype.generatedPositionFor =
        function SourceMapConsumer_generatedPositionFor(aArgs) {
            var source = util$1.getArg(aArgs, 'source');
            source = this._findSourceIndex(source);
            if (source < 0) {
                return {
                    line: null,
                    column: null,
                    lastColumn: null
                };
            }
            var needle = {
                source: source,
                originalLine: util$1.getArg(aArgs, 'line'),
                originalColumn: util$1.getArg(aArgs, 'column')
            };
            var index = this._findMapping(needle, this._originalMappings, "originalLine", "originalColumn", util$1.compareByOriginalPositions, util$1.getArg(aArgs, 'bias', SourceMapConsumer$1.GREATEST_LOWER_BOUND));
            if (index >= 0) {
                var mapping = this._originalMappings[index];
                if (mapping.source === needle.source) {
                    return {
                        line: util$1.getArg(mapping, 'generatedLine', null),
                        column: util$1.getArg(mapping, 'generatedColumn', null),
                        lastColumn: util$1.getArg(mapping, 'lastGeneratedColumn', null)
                    };
                }
            }
            return {
                line: null,
                column: null,
                lastColumn: null
            };
        };
    var BasicSourceMapConsumer_1 = BasicSourceMapConsumer;
    /**
     * An IndexedSourceMapConsumer instance represents a parsed source map which
     * we can query for information. It differs from BasicSourceMapConsumer in
     * that it takes "indexed" source maps (i.e. ones with a "sections" field) as
     * input.
     *
     * The first parameter is a raw source map (either as a JSON string, or already
     * parsed to an object). According to the spec for indexed source maps, they
     * have the following attributes:
     *
     *   - version: Which version of the source map spec this map is following.
     *   - file: Optional. The generated file this source map is associated with.
     *   - sections: A list of section definitions.
     *
     * Each value under the "sections" field has two fields:
     *   - offset: The offset into the original specified at which this section
     *       begins to apply, defined as an object with a "line" and "column"
     *       field.
     *   - map: A source map definition. This source map could also be indexed,
     *       but doesn't have to be.
     *
     * Instead of the "map" field, it's also possible to have a "url" field
     * specifying a URL to retrieve a source map from, but that's currently
     * unsupported.
     *
     * Here's an example source map, taken from the source map spec[0], but
     * modified to omit a section which uses the "url" field.
     *
     *  {
     *    version : 3,
     *    file: "app.js",
     *    sections: [{
     *      offset: {line:100, column:10},
     *      map: {
     *        version : 3,
     *        file: "section.js",
     *        sources: ["foo.js", "bar.js"],
     *        names: ["src", "maps", "are", "fun"],
     *        mappings: "AAAA,E;;ABCDE;"
     *      }
     *    }],
     *  }
     *
     * The second parameter, if given, is a string whose value is the URL
     * at which the source map was found.  This URL is used to compute the
     * sources array.
     *
     * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt
     */
    function IndexedSourceMapConsumer(aSourceMap, aSourceMapURL) {
        var sourceMap = aSourceMap;
        if (typeof aSourceMap === 'string') {
            sourceMap = util$1.parseSourceMapInput(aSourceMap);
        }
        var version = util$1.getArg(sourceMap, 'version');
        var sections = util$1.getArg(sourceMap, 'sections');
        if (version != this._version) {
            throw new Error('Unsupported version: ' + version);
        }
        this._sources = new ArraySet();
        this._names = new ArraySet();
        var lastOffset = {
            line: -1,
            column: 0
        };
        this._sections = sections.map(function (s) {
            if (s.url) {
                // The url field will require support for asynchronicity.
                // See https://github.com/mozilla/source-map/issues/16
                throw new Error('Support for url field in sections not implemented.');
            }
            var offset = util$1.getArg(s, 'offset');
            var offsetLine = util$1.getArg(offset, 'line');
            var offsetColumn = util$1.getArg(offset, 'column');
            if (offsetLine < lastOffset.line ||
                (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {
                throw new Error('Section offsets must be ordered and non-overlapping.');
            }
            lastOffset = offset;
            return {
                generatedOffset: {
                    // The offset fields are 0-based, but we use 1-based indices when
                    // encoding/decoding from VLQ.
                    generatedLine: offsetLine + 1,
                    generatedColumn: offsetColumn + 1
                },
                consumer: new SourceMapConsumer$1(util$1.getArg(s, 'map'), aSourceMapURL)
            };
        });
    }
    IndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer$1.prototype);
    IndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer$1;
    /**
     * The version of the source mapping spec that we are consuming.
     */
    IndexedSourceMapConsumer.prototype._version = 3;
    /**
     * The list of original sources.
     */
    Object.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {
        get: function () {
            var sources = [];
            for (var i = 0; i < this._sections.length; i++) {
                for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {
                    sources.push(this._sections[i].consumer.sources[j]);
                }
            }
            return sources;
        }
    });
    /**
     * Returns the original source, line, and column information for the generated
     * source's line and column positions provided. The only argument is an object
     * with the following properties:
     *
     *   - line: The line number in the generated source.  The line number
     *     is 1-based.
     *   - column: The column number in the generated source.  The column
     *     number is 0-based.
     *
     * and an object is returned with the following properties:
     *
     *   - source: The original source file, or null.
     *   - line: The line number in the original source, or null.  The
     *     line number is 1-based.
     *   - column: The column number in the original source, or null.  The
     *     column number is 0-based.
     *   - name: The original identifier, or null.
     */
    IndexedSourceMapConsumer.prototype.originalPositionFor =
        function IndexedSourceMapConsumer_originalPositionFor(aArgs) {
            var needle = {
                generatedLine: util$1.getArg(aArgs, 'line'),
                generatedColumn: util$1.getArg(aArgs, 'column')
            };
            // Find the section containing the generated position we're trying to map
            // to an original position.
            var sectionIndex = binarySearch.search(needle, this._sections, function (needle, section) {
                var cmp = needle.generatedLine - section.generatedOffset.generatedLine;
                if (cmp) {
                    return cmp;
                }
                return (needle.generatedColumn -
                    section.generatedOffset.generatedColumn);
            });
            var section = this._sections[sectionIndex];
            if (!section) {
                return {
                    source: null,
                    line: null,
                    column: null,
                    name: null
                };
            }
            return section.consumer.originalPositionFor({
                line: needle.generatedLine -
                    (section.generatedOffset.generatedLine - 1),
                column: needle.generatedColumn -
                    (section.generatedOffset.generatedLine === needle.generatedLine
                        ? section.generatedOffset.generatedColumn - 1
                        : 0),
                bias: aArgs.bias
            });
        };
    /**
     * Return true if we have the source content for every source in the source
     * map, false otherwise.
     */
    IndexedSourceMapConsumer.prototype.hasContentsOfAllSources =
        function IndexedSourceMapConsumer_hasContentsOfAllSources() {
            return this._sections.every(function (s) {
                return s.consumer.hasContentsOfAllSources();
            });
        };
    /**
     * Returns the original source content. The only argument is the url of the
     * original source file. Returns null if no original source content is
     * available.
     */
    IndexedSourceMapConsumer.prototype.sourceContentFor =
        function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {
            for (var i = 0; i < this._sections.length; i++) {
                var section = this._sections[i];
                var content = section.consumer.sourceContentFor(aSource, true);
                if (content) {
                    return content;
                }
            }
            if (nullOnMissing) {
                return null;
            }
            else {
                throw new Error('"' + aSource + '" is not in the SourceMap.');
            }
        };
    /**
     * Returns the generated line and column information for the original source,
     * line, and column positions provided. The only argument is an object with
     * the following properties:
     *
     *   - source: The filename of the original source.
     *   - line: The line number in the original source.  The line number
     *     is 1-based.
     *   - column: The column number in the original source.  The column
     *     number is 0-based.
     *
     * and an object is returned with the following properties:
     *
     *   - line: The line number in the generated source, or null.  The
     *     line number is 1-based.
     *   - column: The column number in the generated source, or null.
     *     The column number is 0-based.
     */
    IndexedSourceMapConsumer.prototype.generatedPositionFor =
        function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {
            for (var i = 0; i < this._sections.length; i++) {
                var section = this._sections[i];
                // Only consider this section if the requested source is in the list of
                // sources of the consumer.
                if (section.consumer._findSourceIndex(util$1.getArg(aArgs, 'source')) === -1) {
                    continue;
                }
                var generatedPosition = section.consumer.generatedPositionFor(aArgs);
                if (generatedPosition) {
                    var ret = {
                        line: generatedPosition.line +
                            (section.generatedOffset.generatedLine - 1),
                        column: generatedPosition.column +
                            (section.generatedOffset.generatedLine === generatedPosition.line
                                ? section.generatedOffset.generatedColumn - 1
                                : 0)
                    };
                    return ret;
                }
            }
            return {
                line: null,
                column: null
            };
        };
    /**
     * Parse the mappings in a string in to a data structure which we can easily
     * query (the ordered arrays in the `this.__generatedMappings` and
     * `this.__originalMappings` properties).
     */
    IndexedSourceMapConsumer.prototype._parseMappings =
        function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {
            this.__generatedMappings = [];
            this.__originalMappings = [];
            for (var i = 0; i < this._sections.length; i++) {
                var section = this._sections[i];
                var sectionMappings = section.consumer._generatedMappings;
                for (var j = 0; j < sectionMappings.length; j++) {
                    var mapping = sectionMappings[j];
                    var source = section.consumer._sources.at(mapping.source);
                    source = util$1.computeSourceURL(section.consumer.sourceRoot, source, this._sourceMapURL);
                    this._sources.add(source);
                    source = this._sources.indexOf(source);
                    var name = null;
                    if (mapping.name) {
                        name = section.consumer._names.at(mapping.name);
                        this._names.add(name);
                        name = this._names.indexOf(name);
                    }
                    // The mappings coming from the consumer for the section have
                    // generated positions relative to the start of the section, so we
                    // need to offset them to be relative to the start of the concatenated
                    // generated file.
                    var adjustedMapping = {
                        source: source,
                        generatedLine: mapping.generatedLine +
                            (section.generatedOffset.generatedLine - 1),
                        generatedColumn: mapping.generatedColumn +
                            (section.generatedOffset.generatedLine === mapping.generatedLine
                                ? section.generatedOffset.generatedColumn - 1
                                : 0),
                        originalLine: mapping.originalLine,
                        originalColumn: mapping.originalColumn,
                        name: name
                    };
                    this.__generatedMappings.push(adjustedMapping);
                    if (typeof adjustedMapping.originalLine === 'number') {
                        this.__originalMappings.push(adjustedMapping);
                    }
                }
            }
            quickSort(this.__generatedMappings, util$1.compareByGeneratedPositionsDeflated);
            quickSort(this.__originalMappings, util$1.compareByOriginalPositions);
        };
    var IndexedSourceMapConsumer_1 = IndexedSourceMapConsumer;
    var sourceMapConsumer = {
        SourceMapConsumer: SourceMapConsumer_1,
        BasicSourceMapConsumer: BasicSourceMapConsumer_1,
        IndexedSourceMapConsumer: IndexedSourceMapConsumer_1
    };

    /* -*- Mode: js; js-indent-level: 2; -*- */
    /*
     * Copyright 2011 Mozilla Foundation and contributors
     * Licensed under the New BSD license. See LICENSE or:
     * http://opensource.org/licenses/BSD-3-Clause
     */
    var SourceMapGenerator$1 = sourceMapGenerator.SourceMapGenerator;
    // Matches a Windows-style `\r\n` newline or a `\n` newline used by all other
    // operating systems these days (capturing the result).
    var REGEX_NEWLINE = /(\r?\n)/;
    // Newline character code for charCodeAt() comparisons
    var NEWLINE_CODE = 10;
    // Private symbol for identifying `SourceNode`s when multiple versions of
    // the source-map library are loaded. This MUST NOT CHANGE across
    // versions!
    var isSourceNode = "$$$isSourceNode$$$";
    /**
     * SourceNodes provide a way to abstract over interpolating/concatenating
     * snippets of generated JavaScript source code while maintaining the line and
     * column information associated with the original source code.
     *
     * @param aLine The original line number.
     * @param aColumn The original column number.
     * @param aSource The original source's filename.
     * @param aChunks Optional. An array of strings which are snippets of
     *        generated JS, or other SourceNodes.
     * @param aName The original identifier.
     */
    function SourceNode$1(aLine, aColumn, aSource, aChunks, aName) {
        this.children = [];
        this.sourceContents = {};
        this.line = aLine == null ? null : aLine;
        this.column = aColumn == null ? null : aColumn;
        this.source = aSource == null ? null : aSource;
        this.name = aName == null ? null : aName;
        this[isSourceNode] = true;
        if (aChunks != null)
            this.add(aChunks);
    }
    /**
     * Creates a SourceNode from generated code and a SourceMapConsumer.
     *
     * @param aGeneratedCode The generated code
     * @param aSourceMapConsumer The SourceMap for the generated code
     * @param aRelativePath Optional. The path that relative sources in the
     *        SourceMapConsumer should be relative to.
     */
    SourceNode$1.fromStringWithSourceMap =
        function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {
            // The SourceNode we want to fill with the generated code
            // and the SourceMap
            var node = new SourceNode$1();
            // All even indices of this array are one line of the generated code,
            // while all odd indices are the newlines between two adjacent lines
            // (since `REGEX_NEWLINE` captures its match).
            // Processed fragments are accessed by calling `shiftNextLine`.
            var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);
            var remainingLinesIndex = 0;
            var shiftNextLine = function () {
                var lineContents = getNextLine();
                // The last line of a file might not have a newline.
                var newLine = getNextLine() || "";
                return lineContents + newLine;
                function getNextLine() {
                    return remainingLinesIndex < remainingLines.length ?
                        remainingLines[remainingLinesIndex++] : undefined;
                }
            };
            // We need to remember the position of "remainingLines"
            var lastGeneratedLine = 1, lastGeneratedColumn = 0;
            // The generate SourceNodes we need a code range.
            // To extract it current and last mapping is used.
            // Here we store the last mapping.
            var lastMapping = null;
            aSourceMapConsumer.eachMapping(function (mapping) {
                if (lastMapping !== null) {
                    // We add the code from "lastMapping" to "mapping":
                    // First check if there is a new line in between.
                    if (lastGeneratedLine < mapping.generatedLine) {
                        // Associate first line with "lastMapping"
                        addMappingWithCode(lastMapping, shiftNextLine());
                        lastGeneratedLine++;
                        lastGeneratedColumn = 0;
                        // The remaining code is added without mapping
                    }
                    else {
                        // There is no new line in between.
                        // Associate the code between "lastGeneratedColumn" and
                        // "mapping.generatedColumn" with "lastMapping"
                        var nextLine = remainingLines[remainingLinesIndex] || '';
                        var code = nextLine.substr(0, mapping.generatedColumn -
                            lastGeneratedColumn);
                        remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn -
                            lastGeneratedColumn);
                        lastGeneratedColumn = mapping.generatedColumn;
                        addMappingWithCode(lastMapping, code);
                        // No more remaining code, continue
                        lastMapping = mapping;
                        return;
                    }
                }
                // We add the generated code until the first mapping
                // to the SourceNode without any mapping.
                // Each line is added as separate string.
                while (lastGeneratedLine < mapping.generatedLine) {
                    node.add(shiftNextLine());
                    lastGeneratedLine++;
                }
                if (lastGeneratedColumn < mapping.generatedColumn) {
                    var nextLine = remainingLines[remainingLinesIndex] || '';
                    node.add(nextLine.substr(0, mapping.generatedColumn));
                    remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);
                    lastGeneratedColumn = mapping.generatedColumn;
                }
                lastMapping = mapping;
            }, this);
            // We have processed all mappings.
            if (remainingLinesIndex < remainingLines.length) {
                if (lastMapping) {
                    // Associate the remaining code in the current line with "lastMapping"
                    addMappingWithCode(lastMapping, shiftNextLine());
                }
                // and add the remaining lines without any mapping
                node.add(remainingLines.splice(remainingLinesIndex).join(""));
            }
            // Copy sourcesContent into SourceNode
            aSourceMapConsumer.sources.forEach(function (sourceFile) {
                var content = aSourceMapConsumer.sourceContentFor(sourceFile);
                if (content != null) {
                    if (aRelativePath != null) {
                        sourceFile = util$1.join(aRelativePath, sourceFile);
                    }
                    node.setSourceContent(sourceFile, content);
                }
            });
            return node;
            function addMappingWithCode(mapping, code) {
                if (mapping === null || mapping.source === undefined) {
                    node.add(code);
                }
                else {
                    var source = aRelativePath
                        ? util$1.join(aRelativePath, mapping.source)
                        : mapping.source;
                    node.add(new SourceNode$1(mapping.originalLine, mapping.originalColumn, source, code, mapping.name));
                }
            }
        };
    /**
     * Add a chunk of generated JS to this source node.
     *
     * @param aChunk A string snippet of generated JS code, another instance of
     *        SourceNode, or an array where each member is one of those things.
     */
    SourceNode$1.prototype.add = function SourceNode_add(aChunk) {
        if (Array.isArray(aChunk)) {
            aChunk.forEach(function (chunk) {
                this.add(chunk);
            }, this);
        }
        else if (aChunk[isSourceNode] || typeof aChunk === "string") {
            if (aChunk) {
                this.children.push(aChunk);
            }
        }
        else {
            throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk);
        }
        return this;
    };
    /**
     * Add a chunk of generated JS to the beginning of this source node.
     *
     * @param aChunk A string snippet of generated JS code, another instance of
     *        SourceNode, or an array where each member is one of those things.
     */
    SourceNode$1.prototype.prepend = function SourceNode_prepend(aChunk) {
        if (Array.isArray(aChunk)) {
            for (var i = aChunk.length - 1; i >= 0; i--) {
                this.prepend(aChunk[i]);
            }
        }
        else if (aChunk[isSourceNode] || typeof aChunk === "string") {
            this.children.unshift(aChunk);
        }
        else {
            throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk);
        }
        return this;
    };
    /**
     * Walk over the tree of JS snippets in this node and its children. The
     * walking function is called once for each snippet of JS and is passed that
     * snippet and the its original associated source's line/column location.
     *
     * @param aFn The traversal function.
     */
    SourceNode$1.prototype.walk = function SourceNode_walk(aFn) {
        var chunk;
        for (var i = 0, len = this.children.length; i < len; i++) {
            chunk = this.children[i];
            if (chunk[isSourceNode]) {
                chunk.walk(aFn);
            }
            else {
                if (chunk !== '') {
                    aFn(chunk, { source: this.source,
                        line: this.line,
                        column: this.column,
                        name: this.name });
                }
            }
        }
    };
    /**
     * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between
     * each of `this.children`.
     *
     * @param aSep The separator.
     */
    SourceNode$1.prototype.join = function SourceNode_join(aSep) {
        var newChildren;
        var i;
        var len = this.children.length;
        if (len > 0) {
            newChildren = [];
            for (i = 0; i < len - 1; i++) {
                newChildren.push(this.children[i]);
                newChildren.push(aSep);
            }
            newChildren.push(this.children[i]);
            this.children = newChildren;
        }
        return this;
    };
    /**
     * Call String.prototype.replace on the very right-most source snippet. Useful
     * for trimming whitespace from the end of a source node, etc.
     *
     * @param aPattern The pattern to replace.
     * @param aReplacement The thing to replace the pattern with.
     */
    SourceNode$1.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {
        var lastChild = this.children[this.children.length - 1];
        if (lastChild[isSourceNode]) {
            lastChild.replaceRight(aPattern, aReplacement);
        }
        else if (typeof lastChild === 'string') {
            this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);
        }
        else {
            this.children.push(''.replace(aPattern, aReplacement));
        }
        return this;
    };
    /**
     * Set the source content for a source file. This will be added to the SourceMapGenerator
     * in the sourcesContent field.
     *
     * @param aSourceFile The filename of the source file
     * @param aSourceContent The content of the source file
     */
    SourceNode$1.prototype.setSourceContent =
        function SourceNode_setSourceContent(aSourceFile, aSourceContent) {
            this.sourceContents[util$1.toSetString(aSourceFile)] = aSourceContent;
        };
    /**
     * Walk over the tree of SourceNodes. The walking function is called for each
     * source file content and is passed the filename and source content.
     *
     * @param aFn The traversal function.
     */
    SourceNode$1.prototype.walkSourceContents =
        function SourceNode_walkSourceContents(aFn) {
            for (var i = 0, len = this.children.length; i < len; i++) {
                if (this.children[i][isSourceNode]) {
                    this.children[i].walkSourceContents(aFn);
                }
            }
            var sources = Object.keys(this.sourceContents);
            for (var i = 0, len = sources.length; i < len; i++) {
                aFn(util$1.fromSetString(sources[i]), this.sourceContents[sources[i]]);
            }
        };
    /**
     * Return the string representation of this source node. Walks over the tree
     * and concatenates all the various snippets together to one string.
     */
    SourceNode$1.prototype.toString = function SourceNode_toString() {
        var str = "";
        this.walk(function (chunk) {
            str += chunk;
        });
        return str;
    };
    /**
     * Returns the string representation of this source node along with a source
     * map.
     */
    SourceNode$1.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {
        var generated = {
            code: "",
            line: 1,
            column: 0
        };
        var map = new SourceMapGenerator$1(aArgs);
        var sourceMappingActive = false;
        var lastOriginalSource = null;
        var lastOriginalLine = null;
        var lastOriginalColumn = null;
        var lastOriginalName = null;
        this.walk(function (chunk, original) {
            generated.code += chunk;
            if (original.source !== null
                && original.line !== null
                && original.column !== null) {
                if (lastOriginalSource !== original.source
                    || lastOriginalLine !== original.line
                    || lastOriginalColumn !== original.column
                    || lastOriginalName !== original.name) {
                    map.addMapping({
                        source: original.source,
                        original: {
                            line: original.line,
                            column: original.column
                        },
                        generated: {
                            line: generated.line,
                            column: generated.column
                        },
                        name: original.name
                    });
                }
                lastOriginalSource = original.source;
                lastOriginalLine = original.line;
                lastOriginalColumn = original.column;
                lastOriginalName = original.name;
                sourceMappingActive = true;
            }
            else if (sourceMappingActive) {
                map.addMapping({
                    generated: {
                        line: generated.line,
                        column: generated.column
                    }
                });
                lastOriginalSource = null;
                sourceMappingActive = false;
            }
            for (var idx = 0, length = chunk.length; idx < length; idx++) {
                if (chunk.charCodeAt(idx) === NEWLINE_CODE) {
                    generated.line++;
                    generated.column = 0;
                    // Mappings end at eol
                    if (idx + 1 === length) {
                        lastOriginalSource = null;
                        sourceMappingActive = false;
                    }
                    else if (sourceMappingActive) {
                        map.addMapping({
                            source: original.source,
                            original: {
                                line: original.line,
                                column: original.column
                            },
                            generated: {
                                line: generated.line,
                                column: generated.column
                            },
                            name: original.name
                        });
                    }
                }
                else {
                    generated.column++;
                }
            }
        });
        this.walkSourceContents(function (sourceFile, sourceContent) {
            map.setSourceContent(sourceFile, sourceContent);
        });
        return { code: generated.code, map: map };
    };
    var SourceNode_1 = SourceNode$1;
    var sourceNode = {
        SourceNode: SourceNode_1
    };

    /*
     * Copyright 2009-2011 Mozilla Foundation and contributors
     * Licensed under the New BSD license. See LICENSE.txt or:
     * http://opensource.org/licenses/BSD-3-Clause
     */
    var SourceMapGenerator = sourceMapGenerator.SourceMapGenerator;
    var SourceMapConsumer = sourceMapConsumer.SourceMapConsumer;
    var SourceNode = sourceNode.SourceNode;
    var sourceMap = {
        SourceMapGenerator: SourceMapGenerator,
        SourceMapConsumer: SourceMapConsumer,
        SourceNode: SourceNode
    };

    var sourceMapSupport = createCommonjsModule(function (module, exports) {
        /**
         * Module dependencies.
         */
        var SourceMap = sourceMap.SourceMapGenerator;
        var SourceMapConsumer = sourceMap.SourceMapConsumer;
        /**
         * Expose `mixin()`.
         */
        module.exports = mixin;
        /**
         * Ensure Windows-style paths are formatted properly
         */
        var makeFriendlyPath = function (aPath) {
            return path__default['default'].sep === "\\" ? aPath.replace(/\\/g, "/").replace(/^[a-z]:\/?/i, "/") : aPath;
        };
        /**
         * Mixin source map support into `compiler`.
         *
         * @param {Compiler} compiler
         * @api public
         */
        function mixin(compiler) {
            compiler._comment = compiler.comment;
            compiler.map = new SourceMap();
            compiler.position = { line: 1, column: 1 };
            compiler.files = {};
            for (var k in exports)
                compiler[k] = exports[k];
        }
        /**
         * Update position.
         *
         * @param {String} str
         * @api private
         */
        exports.updatePosition = function (str) {
            var lines = str.match(/\n/g);
            if (lines)
                this.position.line += lines.length;
            var i = str.lastIndexOf('\n');
            this.position.column = ~i ? str.length - i : this.position.column + str.length;
        };
        /**
         * Emit `str`.
         *
         * @param {String} str
         * @param {Object} [pos]
         * @return {String}
         * @api private
         */
        exports.emit = function (str, pos) {
            if (pos) {
                var sourceFile = makeFriendlyPath(pos.source || 'source.css');
                this.map.addMapping({
                    source: sourceFile,
                    generated: {
                        line: this.position.line,
                        column: Math.max(this.position.column - 1, 0)
                    },
                    original: {
                        line: pos.start.line,
                        column: pos.start.column - 1
                    }
                });
                this.addFile(sourceFile, pos);
            }
            this.updatePosition(str);
            return str;
        };
        /**
         * Adds a file to the source map output if it has not already been added
         * @param {String} file
         * @param {Object} pos
         */
        exports.addFile = function (file, pos) {
            if (typeof pos.content !== 'string')
                return;
            if (Object.prototype.hasOwnProperty.call(this.files, file))
                return;
            this.files[file] = pos.content;
        };
        /**
         * Applies any original source maps to the output and embeds the source file
         * contents in the source map.
         */
        exports.applySourceMaps = function () {
            Object.keys(this.files).forEach(function (file) {
                var content = this.files[file];
                this.map.setSourceContent(file, content);
                if (this.options.inputSourcemaps !== false) {
                    var originalMap = sourceMapResolve__default['default'].resolveSync(content, file, fs__default['default'].readFileSync);
                    if (originalMap) {
                        var map = new SourceMapConsumer(originalMap.map);
                        var relativeTo = originalMap.sourcesRelativeTo;
                        this.map.applySourceMap(map, file, makeFriendlyPath(path__default['default'].dirname(relativeTo)));
                    }
                }
            }, this);
        };
        /**
         * Process comments, drops sourceMap comments.
         * @param {Object} node
         */
        exports.comment = function (node) {
            if (/^# sourceMappingURL=/.test(node.comment))
                return this.emit('', node.position);
            else
                return this._comment(node);
        };
    });
    var sourceMapSupport_1 = sourceMapSupport.updatePosition;
    var sourceMapSupport_2 = sourceMapSupport.emit;
    var sourceMapSupport_3 = sourceMapSupport.addFile;
    var sourceMapSupport_4 = sourceMapSupport.applySourceMaps;
    var sourceMapSupport_5 = sourceMapSupport.comment;

    /**
     * Module dependencies.
     */
    /**
     * Stringfy the given AST `node`.
     *
     * Options:
     *
     *  - `compress` space-optimized output
     *  - `sourcemap` return an object with `.code` and `.map`
     *
     * @param {Object} node
     * @param {Object} [options]
     * @return {String}
     * @api public
     */
    var stringify$1 = function (node, options) {
        options = options || {};
        var compiler = options.compress
            ? new compress(options)
            : new identity(options);
        // source maps
        if (options.sourcemap) {
            var sourcemaps = sourceMapSupport;
            sourcemaps(compiler);
            var code = compiler.compile(node);
            compiler.applySourceMaps();
            var map = options.sourcemap === 'generator'
                ? compiler.map
                : compiler.map.toJSON();
            return { code: code, map: map };
        }
        var code = compiler.compile(node);
        return code;
    };

    var parse = parse$1;
    var stringify = stringify$1;
    var css = {
        parse: parse,
        stringify: stringify
    };

    'use strict';
    var colorName = {
        "aliceblue": [240, 248, 255],
        "antiquewhite": [250, 235, 215],
        "aqua": [0, 255, 255],
        "aquamarine": [127, 255, 212],
        "azure": [240, 255, 255],
        "beige": [245, 245, 220],
        "bisque": [255, 228, 196],
        "black": [0, 0, 0],
        "blanchedalmond": [255, 235, 205],
        "blue": [0, 0, 255],
        "blueviolet": [138, 43, 226],
        "brown": [165, 42, 42],
        "burlywood": [222, 184, 135],
        "cadetblue": [95, 158, 160],
        "chartreuse": [127, 255, 0],
        "chocolate": [210, 105, 30],
        "coral": [255, 127, 80],
        "cornflowerblue": [100, 149, 237],
        "cornsilk": [255, 248, 220],
        "crimson": [220, 20, 60],
        "cyan": [0, 255, 255],
        "darkblue": [0, 0, 139],
        "darkcyan": [0, 139, 139],
        "darkgoldenrod": [184, 134, 11],
        "darkgray": [169, 169, 169],
        "darkgreen": [0, 100, 0],
        "darkgrey": [169, 169, 169],
        "darkkhaki": [189, 183, 107],
        "darkmagenta": [139, 0, 139],
        "darkolivegreen": [85, 107, 47],
        "darkorange": [255, 140, 0],
        "darkorchid": [153, 50, 204],
        "darkred": [139, 0, 0],
        "darksalmon": [233, 150, 122],
        "darkseagreen": [143, 188, 143],
        "darkslateblue": [72, 61, 139],
        "darkslategray": [47, 79, 79],
        "darkslategrey": [47, 79, 79],
        "darkturquoise": [0, 206, 209],
        "darkviolet": [148, 0, 211],
        "deeppink": [255, 20, 147],
        "deepskyblue": [0, 191, 255],
        "dimgray": [105, 105, 105],
        "dimgrey": [105, 105, 105],
        "dodgerblue": [30, 144, 255],
        "firebrick": [178, 34, 34],
        "floralwhite": [255, 250, 240],
        "forestgreen": [34, 139, 34],
        "fuchsia": [255, 0, 255],
        "gainsboro": [220, 220, 220],
        "ghostwhite": [248, 248, 255],
        "gold": [255, 215, 0],
        "goldenrod": [218, 165, 32],
        "gray": [128, 128, 128],
        "green": [0, 128, 0],
        "greenyellow": [173, 255, 47],
        "grey": [128, 128, 128],
        "honeydew": [240, 255, 240],
        "hotpink": [255, 105, 180],
        "indianred": [205, 92, 92],
        "indigo": [75, 0, 130],
        "ivory": [255, 255, 240],
        "khaki": [240, 230, 140],
        "lavender": [230, 230, 250],
        "lavenderblush": [255, 240, 245],
        "lawngreen": [124, 252, 0],
        "lemonchiffon": [255, 250, 205],
        "lightblue": [173, 216, 230],
        "lightcoral": [240, 128, 128],
        "lightcyan": [224, 255, 255],
        "lightgoldenrodyellow": [250, 250, 210],
        "lightgray": [211, 211, 211],
        "lightgreen": [144, 238, 144],
        "lightgrey": [211, 211, 211],
        "lightpink": [255, 182, 193],
        "lightsalmon": [255, 160, 122],
        "lightseagreen": [32, 178, 170],
        "lightskyblue": [135, 206, 250],
        "lightslategray": [119, 136, 153],
        "lightslategrey": [119, 136, 153],
        "lightsteelblue": [176, 196, 222],
        "lightyellow": [255, 255, 224],
        "lime": [0, 255, 0],
        "limegreen": [50, 205, 50],
        "linen": [250, 240, 230],
        "magenta": [255, 0, 255],
        "maroon": [128, 0, 0],
        "mediumaquamarine": [102, 205, 170],
        "mediumblue": [0, 0, 205],
        "mediumorchid": [186, 85, 211],
        "mediumpurple": [147, 112, 219],
        "mediumseagreen": [60, 179, 113],
        "mediumslateblue": [123, 104, 238],
        "mediumspringgreen": [0, 250, 154],
        "mediumturquoise": [72, 209, 204],
        "mediumvioletred": [199, 21, 133],
        "midnightblue": [25, 25, 112],
        "mintcream": [245, 255, 250],
        "mistyrose": [255, 228, 225],
        "moccasin": [255, 228, 181],
        "navajowhite": [255, 222, 173],
        "navy": [0, 0, 128],
        "oldlace": [253, 245, 230],
        "olive": [128, 128, 0],
        "olivedrab": [107, 142, 35],
        "orange": [255, 165, 0],
        "orangered": [255, 69, 0],
        "orchid": [218, 112, 214],
        "palegoldenrod": [238, 232, 170],
        "palegreen": [152, 251, 152],
        "paleturquoise": [175, 238, 238],
        "palevioletred": [219, 112, 147],
        "papayawhip": [255, 239, 213],
        "peachpuff": [255, 218, 185],
        "peru": [205, 133, 63],
        "pink": [255, 192, 203],
        "plum": [221, 160, 221],
        "powderblue": [176, 224, 230],
        "purple": [128, 0, 128],
        "rebeccapurple": [102, 51, 153],
        "red": [255, 0, 0],
        "rosybrown": [188, 143, 143],
        "royalblue": [65, 105, 225],
        "saddlebrown": [139, 69, 19],
        "salmon": [250, 128, 114],
        "sandybrown": [244, 164, 96],
        "seagreen": [46, 139, 87],
        "seashell": [255, 245, 238],
        "sienna": [160, 82, 45],
        "silver": [192, 192, 192],
        "skyblue": [135, 206, 235],
        "slateblue": [106, 90, 205],
        "slategray": [112, 128, 144],
        "slategrey": [112, 128, 144],
        "snow": [255, 250, 250],
        "springgreen": [0, 255, 127],
        "steelblue": [70, 130, 180],
        "tan": [210, 180, 140],
        "teal": [0, 128, 128],
        "thistle": [216, 191, 216],
        "tomato": [255, 99, 71],
        "turquoise": [64, 224, 208],
        "violet": [238, 130, 238],
        "wheat": [245, 222, 179],
        "white": [255, 255, 255],
        "whitesmoke": [245, 245, 245],
        "yellow": [255, 255, 0],
        "yellowgreen": [154, 205, 50]
    };

    var e_1$1, _a$1, e_2$1, _b$1;
    /* MIT license */
    /* eslint-disable no-mixed-operators */
    // NOTE: conversions should only return primitive values (i.e. arrays, or
    //       values that give correct `typeof` results).
    //       do not use box values types (i.e. Number(), String(), etc.)
    var reverseKeywords = {};
    try {
        for (var _c$1 = __values(Object.keys(colorName)), _d$1 = _c$1.next(); !_d$1.done; _d$1 = _c$1.next()) {
            var key = _d$1.value;
            reverseKeywords[colorName[key]] = key;
        }
    }
    catch (e_1_1) { e_1$1 = { error: e_1_1 }; }
    finally {
        try {
            if (_d$1 && !_d$1.done && (_a$1 = _c$1.return)) _a$1.call(_c$1);
        }
        finally { if (e_1$1) throw e_1$1.error; }
    }
    var convert$1 = {
        rgb: { channels: 3, labels: 'rgb' },
        hsl: { channels: 3, labels: 'hsl' },
        hsv: { channels: 3, labels: 'hsv' },
        hwb: { channels: 3, labels: 'hwb' },
        cmyk: { channels: 4, labels: 'cmyk' },
        xyz: { channels: 3, labels: 'xyz' },
        lab: { channels: 3, labels: 'lab' },
        lch: { channels: 3, labels: 'lch' },
        hex: { channels: 1, labels: ['hex'] },
        keyword: { channels: 1, labels: ['keyword'] },
        ansi16: { channels: 1, labels: ['ansi16'] },
        ansi256: { channels: 1, labels: ['ansi256'] },
        hcg: { channels: 3, labels: ['h', 'c', 'g'] },
        apple: { channels: 3, labels: ['r16', 'g16', 'b16'] },
        gray: { channels: 1, labels: ['gray'] }
    };
    var conversions = convert$1;
    try {
        // Hide .channels and .labels properties
        for (var _e$1 = __values(Object.keys(convert$1)), _f$1 = _e$1.next(); !_f$1.done; _f$1 = _e$1.next()) {
            var model$1 = _f$1.value;
            if (!('channels' in convert$1[model$1])) {
                throw new Error('missing channels property: ' + model$1);
            }
            if (!('labels' in convert$1[model$1])) {
                throw new Error('missing channel labels property: ' + model$1);
            }
            if (convert$1[model$1].labels.length !== convert$1[model$1].channels) {
                throw new Error('channel and label counts mismatch: ' + model$1);
            }
            var _g = convert$1[model$1], channels = _g.channels, labels = _g.labels;
            delete convert$1[model$1].channels;
            delete convert$1[model$1].labels;
            Object.defineProperty(convert$1[model$1], 'channels', { value: channels });
            Object.defineProperty(convert$1[model$1], 'labels', { value: labels });
        }
    }
    catch (e_2_1) { e_2$1 = { error: e_2_1 }; }
    finally {
        try {
            if (_f$1 && !_f$1.done && (_b$1 = _e$1.return)) _b$1.call(_e$1);
        }
        finally { if (e_2$1) throw e_2$1.error; }
    }
    convert$1.rgb.hsl = function (rgb) {
        var r = rgb[0] / 255;
        var g = rgb[1] / 255;
        var b = rgb[2] / 255;
        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);
        var delta = max - min;
        var h;
        var s;
        if (max === min) {
            h = 0;
        }
        else if (r === max) {
            h = (g - b) / delta;
        }
        else if (g === max) {
            h = 2 + (b - r) / delta;
        }
        else if (b === max) {
            h = 4 + (r - g) / delta;
        }
        h = Math.min(h * 60, 360);
        if (h < 0) {
            h += 360;
        }
        var l = (min + max) / 2;
        if (max === min) {
            s = 0;
        }
        else if (l <= 0.5) {
            s = delta / (max + min);
        }
        else {
            s = delta / (2 - max - min);
        }
        return [h, s * 100, l * 100];
    };
    convert$1.rgb.hsv = function (rgb) {
        var rdif;
        var gdif;
        var bdif;
        var h;
        var s;
        var r = rgb[0] / 255;
        var g = rgb[1] / 255;
        var b = rgb[2] / 255;
        var v = Math.max(r, g, b);
        var diff = v - Math.min(r, g, b);
        var diffc = function (c) {
            return (v - c) / 6 / diff + 1 / 2;
        };
        if (diff === 0) {
            h = 0;
            s = 0;
        }
        else {
            s = diff / v;
            rdif = diffc(r);
            gdif = diffc(g);
            bdif = diffc(b);
            if (r === v) {
                h = bdif - gdif;
            }
            else if (g === v) {
                h = (1 / 3) + rdif - bdif;
            }
            else if (b === v) {
                h = (2 / 3) + gdif - rdif;
            }
            if (h < 0) {
                h += 1;
            }
            else if (h > 1) {
                h -= 1;
            }
        }
        return [
            h * 360,
            s * 100,
            v * 100
        ];
    };
    convert$1.rgb.hwb = function (rgb) {
        var r = rgb[0];
        var g = rgb[1];
        var b = rgb[2];
        var h = convert$1.rgb.hsl(rgb)[0];
        var w = 1 / 255 * Math.min(r, Math.min(g, b));
        b = 1 - 1 / 255 * Math.max(r, Math.max(g, b));
        return [h, w * 100, b * 100];
    };
    convert$1.rgb.cmyk = function (rgb) {
        var r = rgb[0] / 255;
        var g = rgb[1] / 255;
        var b = rgb[2] / 255;
        var k = Math.min(1 - r, 1 - g, 1 - b);
        var c = (1 - r - k) / (1 - k) || 0;
        var m = (1 - g - k) / (1 - k) || 0;
        var y = (1 - b - k) / (1 - k) || 0;
        return [c * 100, m * 100, y * 100, k * 100];
    };
    function comparativeDistance(x, y) {
        /*
            See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance
        */
        return ((Math.pow((x[0] - y[0]), 2)) +
            (Math.pow((x[1] - y[1]), 2)) +
            (Math.pow((x[2] - y[2]), 2)));
    }
    convert$1.rgb.keyword = function (rgb) {
        var e_3, _a;
        var reversed = reverseKeywords[rgb];
        if (reversed) {
            return reversed;
        }
        var currentClosestDistance = Infinity;
        var currentClosestKeyword;
        try {
            for (var _b = __values(Object.keys(colorName)), _c = _b.next(); !_c.done; _c = _b.next()) {
                var keyword = _c.value;
                var value = colorName[keyword];
                // Compute comparative distance
                var distance = comparativeDistance(rgb, value);
                // Check if its less, if so set as closest
                if (distance < currentClosestDistance) {
                    currentClosestDistance = distance;
                    currentClosestKeyword = keyword;
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_3) throw e_3.error; }
        }
        return currentClosestKeyword;
    };
    convert$1.keyword.rgb = function (keyword) {
        return colorName[keyword];
    };
    convert$1.rgb.xyz = function (rgb) {
        var r = rgb[0] / 255;
        var g = rgb[1] / 255;
        var b = rgb[2] / 255;
        // Assume sRGB
        r = r > 0.04045 ? (Math.pow(((r + 0.055) / 1.055), 2.4)) : (r / 12.92);
        g = g > 0.04045 ? (Math.pow(((g + 0.055) / 1.055), 2.4)) : (g / 12.92);
        b = b > 0.04045 ? (Math.pow(((b + 0.055) / 1.055), 2.4)) : (b / 12.92);
        var x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);
        var y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);
        var z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);
        return [x * 100, y * 100, z * 100];
    };
    convert$1.rgb.lab = function (rgb) {
        var xyz = convert$1.rgb.xyz(rgb);
        var x = xyz[0];
        var y = xyz[1];
        var z = xyz[2];
        x /= 95.047;
        y /= 100;
        z /= 108.883;
        x = x > 0.008856 ? (Math.pow(x, (1 / 3))) : (7.787 * x) + (16 / 116);
        y = y > 0.008856 ? (Math.pow(y, (1 / 3))) : (7.787 * y) + (16 / 116);
        z = z > 0.008856 ? (Math.pow(z, (1 / 3))) : (7.787 * z) + (16 / 116);
        var l = (116 * y) - 16;
        var a = 500 * (x - y);
        var b = 200 * (y - z);
        return [l, a, b];
    };
    convert$1.hsl.rgb = function (hsl) {
        var h = hsl[0] / 360;
        var s = hsl[1] / 100;
        var l = hsl[2] / 100;
        var t2;
        var t3;
        var val;
        if (s === 0) {
            val = l * 255;
            return [val, val, val];
        }
        if (l < 0.5) {
            t2 = l * (1 + s);
        }
        else {
            t2 = l + s - l * s;
        }
        var t1 = 2 * l - t2;
        var rgb = [0, 0, 0];
        for (var i = 0; i < 3; i++) {
            t3 = h + 1 / 3 * -(i - 1);
            if (t3 < 0) {
                t3++;
            }
            if (t3 > 1) {
                t3--;
            }
            if (6 * t3 < 1) {
                val = t1 + (t2 - t1) * 6 * t3;
            }
            else if (2 * t3 < 1) {
                val = t2;
            }
            else if (3 * t3 < 2) {
                val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;
            }
            else {
                val = t1;
            }
            rgb[i] = val * 255;
        }
        return rgb;
    };
    convert$1.hsl.hsv = function (hsl) {
        var h = hsl[0];
        var s = hsl[1] / 100;
        var l = hsl[2] / 100;
        var smin = s;
        var lmin = Math.max(l, 0.01);
        l *= 2;
        s *= (l <= 1) ? l : 2 - l;
        smin *= lmin <= 1 ? lmin : 2 - lmin;
        var v = (l + s) / 2;
        var sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);
        return [h, sv * 100, v * 100];
    };
    convert$1.hsv.rgb = function (hsv) {
        var h = hsv[0] / 60;
        var s = hsv[1] / 100;
        var v = hsv[2] / 100;
        var hi = Math.floor(h) % 6;
        var f = h - Math.floor(h);
        var p = 255 * v * (1 - s);
        var q = 255 * v * (1 - (s * f));
        var t = 255 * v * (1 - (s * (1 - f)));
        v *= 255;
        switch (hi) {
            case 0:
                return [v, t, p];
            case 1:
                return [q, v, p];
            case 2:
                return [p, v, t];
            case 3:
                return [p, q, v];
            case 4:
                return [t, p, v];
            case 5:
                return [v, p, q];
        }
    };
    convert$1.hsv.hsl = function (hsv) {
        var h = hsv[0];
        var s = hsv[1] / 100;
        var v = hsv[2] / 100;
        var vmin = Math.max(v, 0.01);
        var sl;
        var l;
        l = (2 - s) * v;
        var lmin = (2 - s) * vmin;
        sl = s * vmin;
        sl /= (lmin <= 1) ? lmin : 2 - lmin;
        sl = sl || 0;
        l /= 2;
        return [h, sl * 100, l * 100];
    };
    // http://dev.w3.org/csswg/css-color/#hwb-to-rgb
    convert$1.hwb.rgb = function (hwb) {
        var h = hwb[0] / 360;
        var wh = hwb[1] / 100;
        var bl = hwb[2] / 100;
        var ratio = wh + bl;
        var f;
        // Wh + bl cant be > 1
        if (ratio > 1) {
            wh /= ratio;
            bl /= ratio;
        }
        var i = Math.floor(6 * h);
        var v = 1 - bl;
        f = 6 * h - i;
        if ((i & 0x01) !== 0) {
            f = 1 - f;
        }
        var n = wh + f * (v - wh); // Linear interpolation
        var r;
        var g;
        var b;
        /* eslint-disable max-statements-per-line,no-multi-spaces */
        switch (i) {
            default:
            case 6:
            case 0:
                r = v;
                g = n;
                b = wh;
                break;
            case 1:
                r = n;
                g = v;
                b = wh;
                break;
            case 2:
                r = wh;
                g = v;
                b = n;
                break;
            case 3:
                r = wh;
                g = n;
                b = v;
                break;
            case 4:
                r = n;
                g = wh;
                b = v;
                break;
            case 5:
                r = v;
                g = wh;
                b = n;
                break;
        }
        /* eslint-enable max-statements-per-line,no-multi-spaces */
        return [r * 255, g * 255, b * 255];
    };
    convert$1.cmyk.rgb = function (cmyk) {
        var c = cmyk[0] / 100;
        var m = cmyk[1] / 100;
        var y = cmyk[2] / 100;
        var k = cmyk[3] / 100;
        var r = 1 - Math.min(1, c * (1 - k) + k);
        var g = 1 - Math.min(1, m * (1 - k) + k);
        var b = 1 - Math.min(1, y * (1 - k) + k);
        return [r * 255, g * 255, b * 255];
    };
    convert$1.xyz.rgb = function (xyz) {
        var x = xyz[0] / 100;
        var y = xyz[1] / 100;
        var z = xyz[2] / 100;
        var r;
        var g;
        var b;
        r = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);
        g = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);
        b = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);
        // Assume sRGB
        r = r > 0.0031308
            ? ((1.055 * (Math.pow(r, (1.0 / 2.4)))) - 0.055)
            : r * 12.92;
        g = g > 0.0031308
            ? ((1.055 * (Math.pow(g, (1.0 / 2.4)))) - 0.055)
            : g * 12.92;
        b = b > 0.0031308
            ? ((1.055 * (Math.pow(b, (1.0 / 2.4)))) - 0.055)
            : b * 12.92;
        r = Math.min(Math.max(0, r), 1);
        g = Math.min(Math.max(0, g), 1);
        b = Math.min(Math.max(0, b), 1);
        return [r * 255, g * 255, b * 255];
    };
    convert$1.xyz.lab = function (xyz) {
        var x = xyz[0];
        var y = xyz[1];
        var z = xyz[2];
        x /= 95.047;
        y /= 100;
        z /= 108.883;
        x = x > 0.008856 ? (Math.pow(x, (1 / 3))) : (7.787 * x) + (16 / 116);
        y = y > 0.008856 ? (Math.pow(y, (1 / 3))) : (7.787 * y) + (16 / 116);
        z = z > 0.008856 ? (Math.pow(z, (1 / 3))) : (7.787 * z) + (16 / 116);
        var l = (116 * y) - 16;
        var a = 500 * (x - y);
        var b = 200 * (y - z);
        return [l, a, b];
    };
    convert$1.lab.xyz = function (lab) {
        var l = lab[0];
        var a = lab[1];
        var b = lab[2];
        var x;
        var y;
        var z;
        y = (l + 16) / 116;
        x = a / 500 + y;
        z = y - b / 200;
        var y2 = Math.pow(y, 3);
        var x2 = Math.pow(x, 3);
        var z2 = Math.pow(z, 3);
        y = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;
        x = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;
        z = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;
        x *= 95.047;
        y *= 100;
        z *= 108.883;
        return [x, y, z];
    };
    convert$1.lab.lch = function (lab) {
        var l = lab[0];
        var a = lab[1];
        var b = lab[2];
        var h;
        var hr = Math.atan2(b, a);
        h = hr * 360 / 2 / Math.PI;
        if (h < 0) {
            h += 360;
        }
        var c = Math.sqrt(a * a + b * b);
        return [l, c, h];
    };
    convert$1.lch.lab = function (lch) {
        var l = lch[0];
        var c = lch[1];
        var h = lch[2];
        var hr = h / 360 * 2 * Math.PI;
        var a = c * Math.cos(hr);
        var b = c * Math.sin(hr);
        return [l, a, b];
    };
    convert$1.rgb.ansi16 = function (args, saturation) {
        if (saturation === void 0) { saturation = null; }
        var _a = __read(args, 3), r = _a[0], g = _a[1], b = _a[2];
        var value = saturation === null ? convert$1.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization
        value = Math.round(value / 50);
        if (value === 0) {
            return 30;
        }
        var ansi = 30
            + ((Math.round(b / 255) << 2)
                | (Math.round(g / 255) << 1)
                | Math.round(r / 255));
        if (value === 2) {
            ansi += 60;
        }
        return ansi;
    };
    convert$1.hsv.ansi16 = function (args) {
        // Optimization here; we already know the value and don't need to get
        // it converted for us.
        return convert$1.rgb.ansi16(convert$1.hsv.rgb(args), args[2]);
    };
    convert$1.rgb.ansi256 = function (args) {
        var r = args[0];
        var g = args[1];
        var b = args[2];
        // We use the extended greyscale palette here, with the exception of
        // black and white. normal palette only has 4 greyscale shades.
        if (r === g && g === b) {
            if (r < 8) {
                return 16;
            }
            if (r > 248) {
                return 231;
            }
            return Math.round(((r - 8) / 247) * 24) + 232;
        }
        var ansi = 16
            + (36 * Math.round(r / 255 * 5))
            + (6 * Math.round(g / 255 * 5))
            + Math.round(b / 255 * 5);
        return ansi;
    };
    convert$1.ansi16.rgb = function (args) {
        var color = args % 10;
        // Handle greyscale
        if (color === 0 || color === 7) {
            if (args > 50) {
                color += 3.5;
            }
            color = color / 10.5 * 255;
            return [color, color, color];
        }
        var mult = (~~(args > 50) + 1) * 0.5;
        var r = ((color & 1) * mult) * 255;
        var g = (((color >> 1) & 1) * mult) * 255;
        var b = (((color >> 2) & 1) * mult) * 255;
        return [r, g, b];
    };
    convert$1.ansi256.rgb = function (args) {
        // Handle greyscale
        if (args >= 232) {
            var c = (args - 232) * 10 + 8;
            return [c, c, c];
        }
        args -= 16;
        var rem;
        var r = Math.floor(args / 36) / 5 * 255;
        var g = Math.floor((rem = args % 36) / 6) / 5 * 255;
        var b = (rem % 6) / 5 * 255;
        return [r, g, b];
    };
    convert$1.rgb.hex = function (args) {
        var integer = ((Math.round(args[0]) & 0xFF) << 16)
            + ((Math.round(args[1]) & 0xFF) << 8)
            + (Math.round(args[2]) & 0xFF);
        var string = integer.toString(16).toUpperCase();
        return '000000'.substring(string.length) + string;
    };
    convert$1.hex.rgb = function (args) {
        var match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);
        if (!match) {
            return [0, 0, 0];
        }
        var colorString = match[0];
        if (match[0].length === 3) {
            colorString = colorString.split('').map(function (char) {
                return char + char;
            }).join('');
        }
        var integer = parseInt(colorString, 16);
        var r = (integer >> 16) & 0xFF;
        var g = (integer >> 8) & 0xFF;
        var b = integer & 0xFF;
        return [r, g, b];
    };
    convert$1.rgb.hcg = function (rgb) {
        var r = rgb[0] / 255;
        var g = rgb[1] / 255;
        var b = rgb[2] / 255;
        var max = Math.max(Math.max(r, g), b);
        var min = Math.min(Math.min(r, g), b);
        var chroma = (max - min);
        var grayscale;
        var hue;
        if (chroma < 1) {
            grayscale = min / (1 - chroma);
        }
        else {
            grayscale = 0;
        }
        if (chroma <= 0) {
            hue = 0;
        }
        else if (max === r) {
            hue = ((g - b) / chroma) % 6;
        }
        else if (max === g) {
            hue = 2 + (b - r) / chroma;
        }
        else {
            hue = 4 + (r - g) / chroma;
        }
        hue /= 6;
        hue %= 1;
        return [hue * 360, chroma * 100, grayscale * 100];
    };
    convert$1.hsl.hcg = function (hsl) {
        var s = hsl[1] / 100;
        var l = hsl[2] / 100;
        var c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));
        var f = 0;
        if (c < 1.0) {
            f = (l - 0.5 * c) / (1.0 - c);
        }
        return [hsl[0], c * 100, f * 100];
    };
    convert$1.hsv.hcg = function (hsv) {
        var s = hsv[1] / 100;
        var v = hsv[2] / 100;
        var c = s * v;
        var f = 0;
        if (c < 1.0) {
            f = (v - c) / (1 - c);
        }
        return [hsv[0], c * 100, f * 100];
    };
    convert$1.hcg.rgb = function (hcg) {
        var h = hcg[0] / 360;
        var c = hcg[1] / 100;
        var g = hcg[2] / 100;
        if (c === 0.0) {
            return [g * 255, g * 255, g * 255];
        }
        var pure = [0, 0, 0];
        var hi = (h % 1) * 6;
        var v = hi % 1;
        var w = 1 - v;
        var mg = 0;
        /* eslint-disable max-statements-per-line */
        switch (Math.floor(hi)) {
            case 0:
                pure[0] = 1;
                pure[1] = v;
                pure[2] = 0;
                break;
            case 1:
                pure[0] = w;
                pure[1] = 1;
                pure[2] = 0;
                break;
            case 2:
                pure[0] = 0;
                pure[1] = 1;
                pure[2] = v;
                break;
            case 3:
                pure[0] = 0;
                pure[1] = w;
                pure[2] = 1;
                break;
            case 4:
                pure[0] = v;
                pure[1] = 0;
                pure[2] = 1;
                break;
            default:
                pure[0] = 1;
                pure[1] = 0;
                pure[2] = w;
        }
        /* eslint-enable max-statements-per-line */
        mg = (1.0 - c) * g;
        return [
            (c * pure[0] + mg) * 255,
            (c * pure[1] + mg) * 255,
            (c * pure[2] + mg) * 255
        ];
    };
    convert$1.hcg.hsv = function (hcg) {
        var c = hcg[1] / 100;
        var g = hcg[2] / 100;
        var v = c + g * (1.0 - c);
        var f = 0;
        if (v > 0.0) {
            f = c / v;
        }
        return [hcg[0], f * 100, v * 100];
    };
    convert$1.hcg.hsl = function (hcg) {
        var c = hcg[1] / 100;
        var g = hcg[2] / 100;
        var l = g * (1.0 - c) + 0.5 * c;
        var s = 0;
        if (l > 0.0 && l < 0.5) {
            s = c / (2 * l);
        }
        else if (l >= 0.5 && l < 1.0) {
            s = c / (2 * (1 - l));
        }
        return [hcg[0], s * 100, l * 100];
    };
    convert$1.hcg.hwb = function (hcg) {
        var c = hcg[1] / 100;
        var g = hcg[2] / 100;
        var v = c + g * (1.0 - c);
        return [hcg[0], (v - c) * 100, (1 - v) * 100];
    };
    convert$1.hwb.hcg = function (hwb) {
        var w = hwb[1] / 100;
        var b = hwb[2] / 100;
        var v = 1 - b;
        var c = v - w;
        var g = 0;
        if (c < 1) {
            g = (v - c) / (1 - c);
        }
        return [hwb[0], c * 100, g * 100];
    };
    convert$1.apple.rgb = function (apple) {
        return [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];
    };
    convert$1.rgb.apple = function (rgb) {
        return [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];
    };
    convert$1.gray.rgb = function (args) {
        return [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];
    };
    convert$1.gray.hsl = function (args) {
        return [0, 0, args[0]];
    };
    convert$1.gray.hsv = convert$1.gray.hsl;
    convert$1.gray.hwb = function (gray) {
        return [0, 100, gray[0]];
    };
    convert$1.gray.cmyk = function (gray) {
        return [0, 0, 0, gray[0]];
    };
    convert$1.gray.lab = function (gray) {
        return [gray[0], 0, 0];
    };
    convert$1.gray.hex = function (gray) {
        var val = Math.round(gray[0] / 100 * 255) & 0xFF;
        var integer = (val << 16) + (val << 8) + val;
        var string = integer.toString(16).toUpperCase();
        return '000000'.substring(string.length) + string;
    };
    convert$1.rgb.gray = function (rgb) {
        var val = (rgb[0] + rgb[1] + rgb[2]) / 3;
        return [val / 255 * 100];
    };

    /*
        This function routes a model to all other models.

        all functions that are routed have a property `.conversion` attached
        to the returned synthetic function. This property is an array
        of strings, each with the steps in between the 'from' and 'to'
        color models (inclusive).

        conversions that are not possible simply are not included.
    */
    function buildGraph() {
        var graph = {};
        // https://jsperf.com/object-keys-vs-for-in-with-closure/3
        var models = Object.keys(conversions);
        for (var len = models.length, i = 0; i < len; i++) {
            graph[models[i]] = {
                // http://jsperf.com/1-vs-infinity
                // micro-opt, but this is simple.
                distance: -1,
                parent: null
            };
        }
        return graph;
    }
    // https://en.wikipedia.org/wiki/Breadth-first_search
    function deriveBFS(fromModel) {
        var graph = buildGraph();
        var queue = [fromModel]; // Unshift -> queue -> pop
        graph[fromModel].distance = 0;
        while (queue.length) {
            var current = queue.pop();
            var adjacents = Object.keys(conversions[current]);
            for (var len = adjacents.length, i = 0; i < len; i++) {
                var adjacent = adjacents[i];
                var node = graph[adjacent];
                if (node.distance === -1) {
                    node.distance = graph[current].distance + 1;
                    node.parent = current;
                    queue.unshift(adjacent);
                }
            }
        }
        return graph;
    }
    function link(from, to) {
        return function (args) {
            return to(from(args));
        };
    }
    function wrapConversion(toModel, graph) {
        var path = [graph[toModel].parent, toModel];
        var fn = conversions[graph[toModel].parent][toModel];
        var cur = graph[toModel].parent;
        while (graph[cur].parent) {
            path.unshift(graph[cur].parent);
            fn = link(conversions[graph[cur].parent][cur], fn);
            cur = graph[cur].parent;
        }
        fn.conversion = path;
        return fn;
    }
    var route = function (fromModel) {
        var graph = deriveBFS(fromModel);
        var conversion = {};
        var models = Object.keys(graph);
        for (var len = models.length, i = 0; i < len; i++) {
            var toModel = models[i];
            var node = graph[toModel];
            if (node.parent === null) {
                // No possible conversion, or this node is the source model.
                continue;
            }
            conversion[toModel] = wrapConversion(toModel, graph);
        }
        return conversion;
    };

    var convert = {};
    var models = Object.keys(conversions);
    function wrapRaw(fn) {
        var wrappedFn = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            var arg0 = args[0];
            if (arg0 === undefined || arg0 === null) {
                return arg0;
            }
            if (arg0.length > 1) {
                args = arg0;
            }
            return fn(args);
        };
        // Preserve .conversion property if there is one
        if ('conversion' in fn) {
            wrappedFn.conversion = fn.conversion;
        }
        return wrappedFn;
    }
    function wrapRounded(fn) {
        var wrappedFn = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            var arg0 = args[0];
            if (arg0 === undefined || arg0 === null) {
                return arg0;
            }
            if (arg0.length > 1) {
                args = arg0;
            }
            var result = fn(args);
            // We're assuming the result is an array here.
            // see notice in conversions.js; don't use box types
            // in conversion functions.
            if (typeof result === 'object') {
                for (var len = result.length, i = 0; i < len; i++) {
                    result[i] = Math.round(result[i]);
                }
            }
            return result;
        };
        // Preserve .conversion property if there is one
        if ('conversion' in fn) {
            wrappedFn.conversion = fn.conversion;
        }
        return wrappedFn;
    }
    models.forEach(function (fromModel) {
        convert[fromModel] = {};
        Object.defineProperty(convert[fromModel], 'channels', { value: conversions[fromModel].channels });
        Object.defineProperty(convert[fromModel], 'labels', { value: conversions[fromModel].labels });
        var routes = route(fromModel);
        var routeModels = Object.keys(routes);
        routeModels.forEach(function (toModel) {
            var fn = routes[toModel];
            convert[fromModel][toModel] = wrapRounded(fn);
            convert[fromModel][toModel].raw = wrapRaw(fn);
        });
    });
    var colorConvert = convert;

    var ansiStyles = createCommonjsModule(function (module) {
        'use strict';
        var wrapAnsi16 = function (fn, offset) { return function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            var code = fn.apply(void 0, __spreadArray([], __read(args)));
            return "\u001B[" + (code + offset) + "m";
        }; };
        var wrapAnsi256 = function (fn, offset) { return function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            var code = fn.apply(void 0, __spreadArray([], __read(args)));
            return "\u001B[" + (38 + offset) + ";5;" + code + "m";
        }; };
        var wrapAnsi16m = function (fn, offset) { return function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            var rgb = fn.apply(void 0, __spreadArray([], __read(args)));
            return "\u001B[" + (38 + offset) + ";2;" + rgb[0] + ";" + rgb[1] + ";" + rgb[2] + "m";
        }; };
        var ansi2ansi = function (n) { return n; };
        var rgb2rgb = function (r, g, b) { return [r, g, b]; };
        var setLazyProperty = function (object, property, get) {
            Object.defineProperty(object, property, {
                get: function () {
                    var value = get();
                    Object.defineProperty(object, property, {
                        value: value,
                        enumerable: true,
                        configurable: true
                    });
                    return value;
                },
                enumerable: true,
                configurable: true
            });
        };
        /** @type {typeof import('color-convert')} */
        var colorConvert$1;
        var makeDynamicStyles = function (wrap, targetSpace, identity, isBackground) {
            var e_1, _a;
            if (colorConvert$1 === undefined) {
                colorConvert$1 = colorConvert;
            }
            var offset = isBackground ? 10 : 0;
            var styles = {};
            try {
                for (var _b = __values(Object.entries(colorConvert$1)), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var _d = __read(_c.value, 2), sourceSpace = _d[0], suite = _d[1];
                    var name = sourceSpace === 'ansi16' ? 'ansi' : sourceSpace;
                    if (sourceSpace === targetSpace) {
                        styles[name] = wrap(identity, offset);
                    }
                    else if (typeof suite === 'object') {
                        styles[name] = wrap(suite[targetSpace], offset);
                    }
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
            return styles;
        };
        function assembleStyles() {
            var e_2, _a, e_3, _b;
            var codes = new Map();
            var styles = {
                modifier: {
                    reset: [0, 0],
                    // 21 isn't widely supported and 22 does the same thing
                    bold: [1, 22],
                    dim: [2, 22],
                    italic: [3, 23],
                    underline: [4, 24],
                    inverse: [7, 27],
                    hidden: [8, 28],
                    strikethrough: [9, 29]
                },
                color: {
                    black: [30, 39],
                    red: [31, 39],
                    green: [32, 39],
                    yellow: [33, 39],
                    blue: [34, 39],
                    magenta: [35, 39],
                    cyan: [36, 39],
                    white: [37, 39],
                    // Bright color
                    blackBright: [90, 39],
                    redBright: [91, 39],
                    greenBright: [92, 39],
                    yellowBright: [93, 39],
                    blueBright: [94, 39],
                    magentaBright: [95, 39],
                    cyanBright: [96, 39],
                    whiteBright: [97, 39]
                },
                bgColor: {
                    bgBlack: [40, 49],
                    bgRed: [41, 49],
                    bgGreen: [42, 49],
                    bgYellow: [43, 49],
                    bgBlue: [44, 49],
                    bgMagenta: [45, 49],
                    bgCyan: [46, 49],
                    bgWhite: [47, 49],
                    // Bright color
                    bgBlackBright: [100, 49],
                    bgRedBright: [101, 49],
                    bgGreenBright: [102, 49],
                    bgYellowBright: [103, 49],
                    bgBlueBright: [104, 49],
                    bgMagentaBright: [105, 49],
                    bgCyanBright: [106, 49],
                    bgWhiteBright: [107, 49]
                }
            };
            // Alias bright black as gray (and grey)
            styles.color.gray = styles.color.blackBright;
            styles.bgColor.bgGray = styles.bgColor.bgBlackBright;
            styles.color.grey = styles.color.blackBright;
            styles.bgColor.bgGrey = styles.bgColor.bgBlackBright;
            try {
                for (var _c = __values(Object.entries(styles)), _d = _c.next(); !_d.done; _d = _c.next()) {
                    var _e = __read(_d.value, 2), groupName = _e[0], group = _e[1];
                    try {
                        for (var _f = (e_3 = void 0, __values(Object.entries(group))), _g = _f.next(); !_g.done; _g = _f.next()) {
                            var _h = __read(_g.value, 2), styleName = _h[0], style = _h[1];
                            styles[styleName] = {
                                open: "\u001B[" + style[0] + "m",
                                close: "\u001B[" + style[1] + "m"
                            };
                            group[styleName] = styles[styleName];
                            codes.set(style[0], style[1]);
                        }
                    }
                    catch (e_3_1) { e_3 = { error: e_3_1 }; }
                    finally {
                        try {
                            if (_g && !_g.done && (_b = _f.return)) _b.call(_f);
                        }
                        finally { if (e_3) throw e_3.error; }
                    }
                    Object.defineProperty(styles, groupName, {
                        value: group,
                        enumerable: false
                    });
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                }
                finally { if (e_2) throw e_2.error; }
            }
            Object.defineProperty(styles, 'codes', {
                value: codes,
                enumerable: false
            });
            styles.color.close = '\u001B[39m';
            styles.bgColor.close = '\u001B[49m';
            setLazyProperty(styles.color, 'ansi', function () { return makeDynamicStyles(wrapAnsi16, 'ansi16', ansi2ansi, false); });
            setLazyProperty(styles.color, 'ansi256', function () { return makeDynamicStyles(wrapAnsi256, 'ansi256', ansi2ansi, false); });
            setLazyProperty(styles.color, 'ansi16m', function () { return makeDynamicStyles(wrapAnsi16m, 'rgb', rgb2rgb, false); });
            setLazyProperty(styles.bgColor, 'ansi', function () { return makeDynamicStyles(wrapAnsi16, 'ansi16', ansi2ansi, true); });
            setLazyProperty(styles.bgColor, 'ansi256', function () { return makeDynamicStyles(wrapAnsi256, 'ansi256', ansi2ansi, true); });
            setLazyProperty(styles.bgColor, 'ansi16m', function () { return makeDynamicStyles(wrapAnsi16m, 'rgb', rgb2rgb, true); });
            return styles;
        }
        // Make the export immutable
        Object.defineProperty(module, 'exports', {
            enumerable: true,
            get: assembleStyles
        });
    });

    'use strict';
    var stringReplaceAll$1 = function (string, substring, replacer) {
        var index = string.indexOf(substring);
        if (index === -1) {
            return string;
        }
        var substringLength = substring.length;
        var endIndex = 0;
        var returnValue = '';
        do {
            returnValue += string.substr(endIndex, index - endIndex) + substring + replacer;
            endIndex = index + substringLength;
            index = string.indexOf(substring, endIndex);
        } while (index !== -1);
        returnValue += string.substr(endIndex);
        return returnValue;
    };
    var stringEncaseCRLFWithFirstIndex$1 = function (string, prefix, postfix, index) {
        var endIndex = 0;
        var returnValue = '';
        do {
            var gotCR = string[index - 1] === '\r';
            returnValue += string.substr(endIndex, (gotCR ? index - 1 : index) - endIndex) + prefix + (gotCR ? '\r\n' : '\n') + postfix;
            endIndex = index + 1;
            index = string.indexOf('\n', endIndex);
        } while (index !== -1);
        returnValue += string.substr(endIndex);
        return returnValue;
    };
    var util = {
        stringReplaceAll: stringReplaceAll$1,
        stringEncaseCRLFWithFirstIndex: stringEncaseCRLFWithFirstIndex$1
    };
    var util_1 = util.stringReplaceAll;
    var util_2 = util.stringEncaseCRLFWithFirstIndex;

    'use strict';
    var TEMPLATE_REGEX = /(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi;
    var STYLE_REGEX = /(?:^|\.)(\w+)(?:\(([^)]*)\))?/g;
    var STRING_REGEX = /^(['"])((?:\\.|(?!\1)[^\\])*)\1$/;
    var ESCAPE_REGEX = /\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi;
    var ESCAPES = new Map([
        ['n', '\n'],
        ['r', '\r'],
        ['t', '\t'],
        ['b', '\b'],
        ['f', '\f'],
        ['v', '\v'],
        ['0', '\0'],
        ['\\', '\\'],
        ['e', '\u001B'],
        ['a', '\u0007']
    ]);
    function unescape(c) {
        var u = c[0] === 'u';
        var bracket = c[1] === '{';
        if ((u && !bracket && c.length === 5) || (c[0] === 'x' && c.length === 3)) {
            return String.fromCharCode(parseInt(c.slice(1), 16));
        }
        if (u && bracket) {
            return String.fromCodePoint(parseInt(c.slice(2, -1), 16));
        }
        return ESCAPES.get(c) || c;
    }
    function parseArguments(name, arguments_) {
        var e_1, _a;
        var results = [];
        var chunks = arguments_.trim().split(/\s*,\s*/g);
        var matches;
        try {
            for (var chunks_1 = __values(chunks), chunks_1_1 = chunks_1.next(); !chunks_1_1.done; chunks_1_1 = chunks_1.next()) {
                var chunk = chunks_1_1.value;
                var number = Number(chunk);
                if (!Number.isNaN(number)) {
                    results.push(number);
                }
                else if ((matches = chunk.match(STRING_REGEX))) {
                    results.push(matches[2].replace(ESCAPE_REGEX, function (m, escape, character) { return escape ? unescape(escape) : character; }));
                }
                else {
                    throw new Error("Invalid Chalk template style argument: " + chunk + " (in style '" + name + "')");
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (chunks_1_1 && !chunks_1_1.done && (_a = chunks_1.return)) _a.call(chunks_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return results;
    }
    function parseStyle(style) {
        STYLE_REGEX.lastIndex = 0;
        var results = [];
        var matches;
        while ((matches = STYLE_REGEX.exec(style)) !== null) {
            var name = matches[1];
            if (matches[2]) {
                var args = parseArguments(name, matches[2]);
                results.push([name].concat(args));
            }
            else {
                results.push([name]);
            }
        }
        return results;
    }
    function buildStyle(chalk, styles) {
        var e_2, _a, e_3, _b, e_4, _c;
        var enabled = {};
        try {
            for (var styles_1 = __values(styles), styles_1_1 = styles_1.next(); !styles_1_1.done; styles_1_1 = styles_1.next()) {
                var layer = styles_1_1.value;
                try {
                    for (var _d = (e_3 = void 0, __values(layer.styles)), _e = _d.next(); !_e.done; _e = _d.next()) {
                        var style = _e.value;
                        enabled[style[0]] = layer.inverse ? null : style.slice(1);
                    }
                }
                catch (e_3_1) { e_3 = { error: e_3_1 }; }
                finally {
                    try {
                        if (_e && !_e.done && (_b = _d.return)) _b.call(_d);
                    }
                    finally { if (e_3) throw e_3.error; }
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (styles_1_1 && !styles_1_1.done && (_a = styles_1.return)) _a.call(styles_1);
            }
            finally { if (e_2) throw e_2.error; }
        }
        var current = chalk;
        try {
            for (var _f = __values(Object.entries(enabled)), _g = _f.next(); !_g.done; _g = _f.next()) {
                var _h = __read(_g.value, 2), styleName = _h[0], styles_2 = _h[1];
                if (!Array.isArray(styles_2)) {
                    continue;
                }
                if (!(styleName in current)) {
                    throw new Error("Unknown Chalk style: " + styleName);
                }
                current = styles_2.length > 0 ? current[styleName].apply(current, __spreadArray([], __read(styles_2))) : current[styleName];
            }
        }
        catch (e_4_1) { e_4 = { error: e_4_1 }; }
        finally {
            try {
                if (_g && !_g.done && (_c = _f.return)) _c.call(_f);
            }
            finally { if (e_4) throw e_4.error; }
        }
        return current;
    }
    var templates = function (chalk, temporary) {
        var styles = [];
        var chunks = [];
        var chunk = [];
        // eslint-disable-next-line max-params
        temporary.replace(TEMPLATE_REGEX, function (m, escapeCharacter, inverse, style, close, character) {
            if (escapeCharacter) {
                chunk.push(unescape(escapeCharacter));
            }
            else if (style) {
                var string = chunk.join('');
                chunk = [];
                chunks.push(styles.length === 0 ? string : buildStyle(chalk, styles)(string));
                styles.push({ inverse: inverse, styles: parseStyle(style) });
            }
            else if (close) {
                if (styles.length === 0) {
                    throw new Error('Found extraneous } in Chalk template literal');
                }
                chunks.push(buildStyle(chalk, styles)(chunk.join('')));
                chunk = [];
                styles.pop();
            }
            else {
                chunk.push(character);
            }
        });
        chunks.push(chunk.join(''));
        if (styles.length > 0) {
            var errMessage = "Chalk template literal is missing " + styles.length + " closing bracket" + (styles.length === 1 ? '' : 's') + " (`}`)";
            throw new Error(errMessage);
        }
        return chunks.join('');
    };

    var e_1, _a, e_2, _b, e_3, _c;
    'use strict';
    var stdoutColor = supportsColor__default['default'].stdout, stderrColor = supportsColor__default['default'].stderr;
    var stringReplaceAll = util.stringReplaceAll, stringEncaseCRLFWithFirstIndex = util.stringEncaseCRLFWithFirstIndex;
    var isArray = Array.isArray;
    // `supportsColor.level`  `ansiStyles.color[name]` mapping
    var levelMapping = [
        'ansi',
        'ansi',
        'ansi256',
        'ansi16m'
    ];
    var styles = Object.create(null);
    var applyOptions = function (object, options) {
        if (options === void 0) { options = {}; }
        if (options.level && !(Number.isInteger(options.level) && options.level >= 0 && options.level <= 3)) {
            throw new Error('The `level` option should be an integer from 0 to 3');
        }
        // Detect level if not set manually
        var colorLevel = stdoutColor ? stdoutColor.level : 0;
        object.level = options.level === undefined ? colorLevel : options.level;
    };
    var ChalkClass = /** @class */ (function () {
        function ChalkClass(options) {
            // eslint-disable-next-line no-constructor-return
            return chalkFactory(options);
        }
        return ChalkClass;
    }());
    var chalkFactory = function (options) {
        var chalk = {};
        applyOptions(chalk, options);
        chalk.template = function () {
            var arguments_ = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                arguments_[_i] = arguments[_i];
            }
            return chalkTag.apply(void 0, __spreadArray([chalk.template], __read(arguments_)));
        };
        Object.setPrototypeOf(chalk, Chalk.prototype);
        Object.setPrototypeOf(chalk.template, chalk);
        chalk.template.constructor = function () {
            throw new Error('`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.');
        };
        chalk.template.Instance = ChalkClass;
        return chalk.template;
    };
    function Chalk(options) {
        return chalkFactory(options);
    }
    var _loop_1 = function (styleName, style) {
        styles[styleName] = {
            get: function () {
                var builder = createBuilder(this, createStyler(style.open, style.close, this._styler), this._isEmpty);
                Object.defineProperty(this, styleName, { value: builder });
                return builder;
            }
        };
    };
    try {
        for (var _d = __values(Object.entries(ansiStyles)), _e = _d.next(); !_e.done; _e = _d.next()) {
            var _f = __read(_e.value, 2), styleName = _f[0], style = _f[1];
            _loop_1(styleName, style);
        }
    }
    catch (e_1_1) { e_1 = { error: e_1_1 }; }
    finally {
        try {
            if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
        }
        finally { if (e_1) throw e_1.error; }
    }
    styles.visible = {
        get: function () {
            var builder = createBuilder(this, this._styler, true);
            Object.defineProperty(this, 'visible', { value: builder });
            return builder;
        }
    };
    var usedModels = ['rgb', 'hex', 'keyword', 'hsl', 'hsv', 'hwb', 'ansi', 'ansi256'];
    var _loop_2 = function (model) {
        styles[model] = {
            get: function () {
                var level = this.level;
                return function () {
                    var _a;
                    var arguments_ = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        arguments_[_i] = arguments[_i];
                    }
                    var styler = createStyler((_a = ansiStyles.color[levelMapping[level]])[model].apply(_a, __spreadArray([], __read(arguments_))), ansiStyles.color.close, this._styler);
                    return createBuilder(this, styler, this._isEmpty);
                };
            }
        };
    };
    try {
        for (var usedModels_1 = __values(usedModels), usedModels_1_1 = usedModels_1.next(); !usedModels_1_1.done; usedModels_1_1 = usedModels_1.next()) {
            var model = usedModels_1_1.value;
            _loop_2(model);
        }
    }
    catch (e_2_1) { e_2 = { error: e_2_1 }; }
    finally {
        try {
            if (usedModels_1_1 && !usedModels_1_1.done && (_b = usedModels_1.return)) _b.call(usedModels_1);
        }
        finally { if (e_2) throw e_2.error; }
    }
    var _loop_3 = function (model) {
        var bgModel = 'bg' + model[0].toUpperCase() + model.slice(1);
        styles[bgModel] = {
            get: function () {
                var level = this.level;
                return function () {
                    var _a;
                    var arguments_ = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        arguments_[_i] = arguments[_i];
                    }
                    var styler = createStyler((_a = ansiStyles.bgColor[levelMapping[level]])[model].apply(_a, __spreadArray([], __read(arguments_))), ansiStyles.bgColor.close, this._styler);
                    return createBuilder(this, styler, this._isEmpty);
                };
            }
        };
    };
    try {
        for (var usedModels_2 = __values(usedModels), usedModels_2_1 = usedModels_2.next(); !usedModels_2_1.done; usedModels_2_1 = usedModels_2.next()) {
            var model = usedModels_2_1.value;
            _loop_3(model);
        }
    }
    catch (e_3_1) { e_3 = { error: e_3_1 }; }
    finally {
        try {
            if (usedModels_2_1 && !usedModels_2_1.done && (_c = usedModels_2.return)) _c.call(usedModels_2);
        }
        finally { if (e_3) throw e_3.error; }
    }
    var proto = Object.defineProperties(function () { }, __assign(__assign({}, styles), { level: {
            enumerable: true,
            get: function () {
                return this._generator.level;
            },
            set: function (level) {
                this._generator.level = level;
            }
        } }));
    var createStyler = function (open, close, parent) {
        var openAll;
        var closeAll;
        if (parent === undefined) {
            openAll = open;
            closeAll = close;
        }
        else {
            openAll = parent.openAll + open;
            closeAll = close + parent.closeAll;
        }
        return {
            open: open,
            close: close,
            openAll: openAll,
            closeAll: closeAll,
            parent: parent
        };
    };
    var createBuilder = function (self, _styler, _isEmpty) {
        var builder = function () {
            var arguments_ = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                arguments_[_i] = arguments[_i];
            }
            if (isArray(arguments_[0]) && isArray(arguments_[0].raw)) {
                // Called as a template literal, for example: chalk.red`2 + 3 = {bold ${2+3}}`
                return applyStyle(builder, chalkTag.apply(void 0, __spreadArray([builder], __read(arguments_))));
            }
            // Single argument is hot path, implicit coercion is faster than anything
            // eslint-disable-next-line no-implicit-coercion
            return applyStyle(builder, (arguments_.length === 1) ? ('' + arguments_[0]) : arguments_.join(' '));
        };
        // We alter the prototype because we must return a function, but there is
        // no way to create a function with a different prototype
        Object.setPrototypeOf(builder, proto);
        builder._generator = self;
        builder._styler = _styler;
        builder._isEmpty = _isEmpty;
        return builder;
    };
    var applyStyle = function (self, string) {
        if (self.level <= 0 || !string) {
            return self._isEmpty ? '' : string;
        }
        var styler = self._styler;
        if (styler === undefined) {
            return string;
        }
        var openAll = styler.openAll, closeAll = styler.closeAll;
        if (string.indexOf('\u001B') !== -1) {
            while (styler !== undefined) {
                // Replace any instances already present with a re-opening code
                // otherwise only the part of the string until said closing code
                // will be colored, and the rest will simply be 'plain'.
                string = stringReplaceAll(string, styler.close, styler.open);
                styler = styler.parent;
            }
        }
        // We can move both next actions out of loop, because remaining actions in loop won't have
        // any/visible effect on parts we add here. Close the styling before a linebreak and reopen
        // after next line to fix a bleed issue on macOS: https://github.com/chalk/chalk/pull/92
        var lfIndex = string.indexOf('\n');
        if (lfIndex !== -1) {
            string = stringEncaseCRLFWithFirstIndex(string, closeAll, openAll, lfIndex);
        }
        return openAll + string + closeAll;
    };
    var template;
    var chalkTag = function (chalk) {
        var strings = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            strings[_i - 1] = arguments[_i];
        }
        var _a = __read(strings, 1), firstString = _a[0];
        if (!isArray(firstString) || !isArray(firstString.raw)) {
            // If chalk() was called by itself or with a string,
            // return the string itself as a string.
            return strings.join(' ');
        }
        var arguments_ = strings.slice(1);
        var parts = [firstString.raw[0]];
        for (var i = 1; i < firstString.length; i++) {
            parts.push(String(arguments_[i - 1]).replace(/[{}\\]/g, '\\$&'), String(firstString.raw[i]));
        }
        if (template === undefined) {
            template = templates;
        }
        return template(chalk, parts.join(''));
    };
    Object.defineProperties(Chalk.prototype, styles);
    var chalk = Chalk(); // eslint-disable-line new-cap
    chalk.supportsColor = stdoutColor;
    chalk.stderr = Chalk({ level: stderrColor ? stderrColor.level : 0 }); // eslint-disable-line new-cap
    chalk.stderr.supportsColor = stderrColor;
    var source = chalk;

    var lib = createCommonjsModule(function (module, exports) {
        'use strict';
        var DOCUMENT_MODE = html.DOCUMENT_MODE;
        //Conversion tables for DOM Level1 structure emulation
        var nodeTypes = {
            element: 1,
            text: 3,
            cdata: 4,
            comment: 8
        };
        var nodePropertyShorthands = {
            tagName: 'name',
            childNodes: 'children',
            parentNode: 'parent',
            previousSibling: 'prev',
            nextSibling: 'next',
            nodeValue: 'data'
        };
        //Node
        var Node = /** @class */ (function () {
            function Node(props) {
                var e_1, _a;
                try {
                    for (var _b = __values(Object.keys(props)), _c = _b.next(); !_c.done; _c = _b.next()) {
                        var key = _c.value;
                        this[key] = props[key];
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
            }
            Object.defineProperty(Node.prototype, "firstChild", {
                get: function () {
                    var children = this.children;
                    return (children && children[0]) || null;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Node.prototype, "lastChild", {
                get: function () {
                    var children = this.children;
                    return (children && children[children.length - 1]) || null;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Node.prototype, "nodeType", {
                get: function () {
                    return nodeTypes[this.type] || nodeTypes.element;
                },
                enumerable: false,
                configurable: true
            });
            return Node;
        }());
        Object.keys(nodePropertyShorthands).forEach(function (key) {
            var shorthand = nodePropertyShorthands[key];
            Object.defineProperty(Node.prototype, key, {
                get: function () {
                    return this[shorthand] || null;
                },
                set: function (val) {
                    this[shorthand] = val;
                    return val;
                }
            });
        });
        //Node construction
        exports.createDocument = function () {
            return new Node({
                type: 'root',
                name: 'root',
                parent: null,
                prev: null,
                next: null,
                children: [],
                'x-mode': DOCUMENT_MODE.NO_QUIRKS
            });
        };
        exports.createDocumentFragment = function () {
            return new Node({
                type: 'root',
                name: 'root',
                parent: null,
                prev: null,
                next: null,
                children: []
            });
        };
        exports.createElement = function (tagName, namespaceURI, attrs) {
            var attribs = Object.create(null);
            var attribsNamespace = Object.create(null);
            var attribsPrefix = Object.create(null);
            for (var i = 0; i < attrs.length; i++) {
                var attrName = attrs[i].name;
                attribs[attrName] = attrs[i].value;
                attribsNamespace[attrName] = attrs[i].namespace;
                attribsPrefix[attrName] = attrs[i].prefix;
            }
            return new Node({
                type: tagName === 'script' || tagName === 'style' ? tagName : 'tag',
                name: tagName,
                namespace: namespaceURI,
                attribs: attribs,
                'x-attribsNamespace': attribsNamespace,
                'x-attribsPrefix': attribsPrefix,
                children: [],
                parent: null,
                prev: null,
                next: null
            });
        };
        exports.createCommentNode = function (data) {
            return new Node({
                type: 'comment',
                data: data,
                parent: null,
                prev: null,
                next: null
            });
        };
        var createTextNode = function (value) {
            return new Node({
                type: 'text',
                data: value,
                parent: null,
                prev: null,
                next: null
            });
        };
        //Tree mutation
        var appendChild = (exports.appendChild = function (parentNode, newNode) {
            var prev = parentNode.children[parentNode.children.length - 1];
            if (prev) {
                prev.next = newNode;
                newNode.prev = prev;
            }
            parentNode.children.push(newNode);
            newNode.parent = parentNode;
        });
        var insertBefore = (exports.insertBefore = function (parentNode, newNode, referenceNode) {
            var insertionIdx = parentNode.children.indexOf(referenceNode);
            var prev = referenceNode.prev;
            if (prev) {
                prev.next = newNode;
                newNode.prev = prev;
            }
            referenceNode.prev = newNode;
            newNode.next = referenceNode;
            parentNode.children.splice(insertionIdx, 0, newNode);
            newNode.parent = parentNode;
        });
        exports.setTemplateContent = function (templateElement, contentElement) {
            appendChild(templateElement, contentElement);
        };
        exports.getTemplateContent = function (templateElement) {
            return templateElement.children[0];
        };
        exports.setDocumentType = function (document, name, publicId, systemId) {
            var data = doctype.serializeContent(name, publicId, systemId);
            var doctypeNode = null;
            for (var i = 0; i < document.children.length; i++) {
                if (document.children[i].type === 'directive' && document.children[i].name === '!doctype') {
                    doctypeNode = document.children[i];
                    break;
                }
            }
            if (doctypeNode) {
                doctypeNode.data = data;
                doctypeNode['x-name'] = name;
                doctypeNode['x-publicId'] = publicId;
                doctypeNode['x-systemId'] = systemId;
            }
            else {
                appendChild(document, new Node({
                    type: 'directive',
                    name: '!doctype',
                    data: data,
                    'x-name': name,
                    'x-publicId': publicId,
                    'x-systemId': systemId
                }));
            }
        };
        exports.setDocumentMode = function (document, mode) {
            document['x-mode'] = mode;
        };
        exports.getDocumentMode = function (document) {
            return document['x-mode'];
        };
        exports.detachNode = function (node) {
            if (node.parent) {
                var idx = node.parent.children.indexOf(node);
                var prev = node.prev;
                var next = node.next;
                node.prev = null;
                node.next = null;
                if (prev) {
                    prev.next = next;
                }
                if (next) {
                    next.prev = prev;
                }
                node.parent.children.splice(idx, 1);
                node.parent = null;
            }
        };
        exports.insertText = function (parentNode, text) {
            var lastChild = parentNode.children[parentNode.children.length - 1];
            if (lastChild && lastChild.type === 'text') {
                lastChild.data += text;
            }
            else {
                appendChild(parentNode, createTextNode(text));
            }
        };
        exports.insertTextBefore = function (parentNode, text, referenceNode) {
            var prevNode = parentNode.children[parentNode.children.indexOf(referenceNode) - 1];
            if (prevNode && prevNode.type === 'text') {
                prevNode.data += text;
            }
            else {
                insertBefore(parentNode, createTextNode(text), referenceNode);
            }
        };
        exports.adoptAttributes = function (recipient, attrs) {
            for (var i = 0; i < attrs.length; i++) {
                var attrName = attrs[i].name;
                if (typeof recipient.attribs[attrName] === 'undefined') {
                    recipient.attribs[attrName] = attrs[i].value;
                    recipient['x-attribsNamespace'][attrName] = attrs[i].namespace;
                    recipient['x-attribsPrefix'][attrName] = attrs[i].prefix;
                }
            }
        };
        //Tree traversing
        exports.getFirstChild = function (node) {
            return node.children[0];
        };
        exports.getChildNodes = function (node) {
            return node.children;
        };
        exports.getParentNode = function (node) {
            return node.parent;
        };
        exports.getAttrList = function (element) {
            var attrList = [];
            for (var name in element.attribs) {
                attrList.push({
                    name: name,
                    value: element.attribs[name],
                    namespace: element['x-attribsNamespace'][name],
                    prefix: element['x-attribsPrefix'][name]
                });
            }
            return attrList;
        };
        //Node data
        exports.getTagName = function (element) {
            return element.name;
        };
        exports.getNamespaceURI = function (element) {
            return element.namespace;
        };
        exports.getTextNodeContent = function (textNode) {
            return textNode.data;
        };
        exports.getCommentNodeContent = function (commentNode) {
            return commentNode.data;
        };
        exports.getDocumentTypeNodeName = function (doctypeNode) {
            return doctypeNode['x-name'];
        };
        exports.getDocumentTypeNodePublicId = function (doctypeNode) {
            return doctypeNode['x-publicId'];
        };
        exports.getDocumentTypeNodeSystemId = function (doctypeNode) {
            return doctypeNode['x-systemId'];
        };
        //Node types
        exports.isTextNode = function (node) {
            return node.type === 'text';
        };
        exports.isCommentNode = function (node) {
            return node.type === 'comment';
        };
        exports.isDocumentTypeNode = function (node) {
            return node.type === 'directive' && node.name === '!doctype';
        };
        exports.isElementNode = function (node) {
            return !!node.attribs;
        };
        // Source code location
        exports.setNodeSourceCodeLocation = function (node, location) {
            node.sourceCodeLocation = location;
        };
        exports.getNodeSourceCodeLocation = function (node) {
            return node.sourceCodeLocation;
        };
        exports.updateNodeSourceCodeLocation = function (node, endLocation) {
            node.sourceCodeLocation = Object.assign(node.sourceCodeLocation, endLocation);
        };
    });
    var lib_1 = lib.createDocument;
    var lib_2 = lib.createDocumentFragment;
    var lib_3 = lib.createElement;
    var lib_4 = lib.createCommentNode;
    var lib_5 = lib.appendChild;
    var lib_6 = lib.insertBefore;
    var lib_7 = lib.setTemplateContent;
    var lib_8 = lib.getTemplateContent;
    var lib_9 = lib.setDocumentType;
    var lib_10 = lib.setDocumentMode;
    var lib_11 = lib.getDocumentMode;
    var lib_12 = lib.detachNode;
    var lib_13 = lib.insertText;
    var lib_14 = lib.insertTextBefore;
    var lib_15 = lib.adoptAttributes;
    var lib_16 = lib.getFirstChild;
    var lib_17 = lib.getChildNodes;
    var lib_18 = lib.getParentNode;
    var lib_19 = lib.getAttrList;
    var lib_20 = lib.getTagName;
    var lib_21 = lib.getNamespaceURI;
    var lib_22 = lib.getTextNodeContent;
    var lib_23 = lib.getCommentNodeContent;
    var lib_24 = lib.getDocumentTypeNodeName;
    var lib_25 = lib.getDocumentTypeNodePublicId;
    var lib_26 = lib.getDocumentTypeNodeSystemId;
    var lib_27 = lib.isTextNode;
    var lib_28 = lib.isCommentNode;
    var lib_29 = lib.isDocumentTypeNode;
    var lib_30 = lib.isElementNode;
    var lib_31 = lib.setNodeSourceCodeLocation;
    var lib_32 = lib.getNodeSourceCodeLocation;
    var lib_33 = lib.updateNodeSourceCodeLocation;

    var critters = createCommonjsModule(function (module) {
        function _interopDefault(ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }
        var path = _interopDefault(path__default['default']);
        var prettyBytes$1 = _interopDefault(prettyBytes);
        var parse5 = _interopDefault(lib$1);
        var css$1 = _interopDefault(css);
        var chalk = _interopDefault(source);
        var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};
        function createCommonjsModule(fn, basedir, module) {
            return module = {
                path: basedir,
                exports: {},
                require: function (path, base) {
                    return commonjsRequire();
                }
            }, fn(module, module.exports), module.exports;
        }
        function getCjsExportFromNamespace(n) {
            return n && n['default'] || n;
        }
        function commonjsRequire() {
            throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');
        }
        //Types of elements found in the DOM
        var domelementtype = {
            Text: "text",
            Directive: "directive",
            Comment: "comment",
            Script: "script",
            Style: "style",
            Tag: "tag",
            CDATA: "cdata",
            Doctype: "doctype",
            isTag: function (elem) {
                return elem.type === "tag" || elem.type === "script" || elem.type === "style";
            }
        };
        var lib$2 = createCommonjsModule(function (module, exports) {
            Object.defineProperty(exports, "__esModule", { value: true });
            /**
             * Tests whether an element is a tag or not.
             *
             * @param elem Element to test
             */
            function isTag(elem) {
                return (elem.type === "tag" /* Tag */ ||
                    elem.type === "script" /* Script */ ||
                    elem.type === "style" /* Style */);
            }
            exports.isTag = isTag;
            // Exports for backwards compatibility
            exports.Text = "text" /* Text */; //Text
            exports.Directive = "directive" /* Directive */; //<? ... ?>
            exports.Comment = "comment" /* Comment */; //<!-- ... -->
            exports.Script = "script" /* Script */; //<script> tags
            exports.Style = "style" /* Style */; //<style> tags
            exports.Tag = "tag" /* Tag */; //Any tag
            exports.CDATA = "cdata" /* CDATA */; //<![CDATA[ ... ]]>
            exports.Doctype = "doctype" /* Doctype */;
        });
        var Aacute = "";
        var aacute = "";
        var Abreve = "";
        var abreve = "";
        var ac = "";
        var acd = "";
        var acE = "";
        var Acirc = "";
        var acirc = "";
        var acute = "";
        var Acy = "";
        var acy = "";
        var AElig = "";
        var aelig = "";
        var af = "";
        var Afr = "";
        var afr = "";
        var Agrave = "";
        var agrave = "";
        var alefsym = "";
        var aleph = "";
        var Alpha = "";
        var alpha = "";
        var Amacr = "";
        var amacr = "";
        var amalg = "";
        var amp = "&";
        var AMP = "&";
        var andand = "";
        var And = "";
        var and = "";
        var andd = "";
        var andslope = "";
        var andv = "";
        var ang = "";
        var ange = "";
        var angle = "";
        var angmsdaa = "";
        var angmsdab = "";
        var angmsdac = "";
        var angmsdad = "";
        var angmsdae = "";
        var angmsdaf = "";
        var angmsdag = "";
        var angmsdah = "";
        var angmsd = "";
        var angrt = "";
        var angrtvb = "";
        var angrtvbd = "";
        var angsph = "";
        var angst = "";
        var angzarr = "";
        var Aogon = "";
        var aogon = "";
        var Aopf = "";
        var aopf = "";
        var apacir = "";
        var ap = "";
        var apE = "";
        var ape = "";
        var apid = "";
        var apos = "'";
        var ApplyFunction = "";
        var approx = "";
        var approxeq = "";
        var Aring = "";
        var aring = "";
        var Ascr = "";
        var ascr = "";
        var Assign = "";
        var ast = "*";
        var asymp = "";
        var asympeq = "";
        var Atilde = "";
        var atilde = "";
        var Auml = "";
        var auml = "";
        var awconint = "";
        var awint = "";
        var backcong = "";
        var backepsilon = "";
        var backprime = "";
        var backsim = "";
        var backsimeq = "";
        var Backslash = "";
        var Barv = "";
        var barvee = "";
        var barwed = "";
        var Barwed = "";
        var barwedge = "";
        var bbrk = "";
        var bbrktbrk = "";
        var bcong = "";
        var Bcy = "";
        var bcy = "";
        var bdquo = "";
        var becaus = "";
        var because = "";
        var Because = "";
        var bemptyv = "";
        var bepsi = "";
        var bernou = "";
        var Bernoullis = "";
        var Beta = "";
        var beta = "";
        var beth = "";
        var between = "";
        var Bfr = "";
        var bfr = "";
        var bigcap = "";
        var bigcirc = "";
        var bigcup = "";
        var bigodot = "";
        var bigoplus = "";
        var bigotimes = "";
        var bigsqcup = "";
        var bigstar = "";
        var bigtriangledown = "";
        var bigtriangleup = "";
        var biguplus = "";
        var bigvee = "";
        var bigwedge = "";
        var bkarow = "";
        var blacklozenge = "";
        var blacksquare = "";
        var blacktriangle = "";
        var blacktriangledown = "";
        var blacktriangleleft = "";
        var blacktriangleright = "";
        var blank = "";
        var blk12 = "";
        var blk14 = "";
        var blk34 = "";
        var block = "";
        var bne = "=";
        var bnequiv = "";
        var bNot = "";
        var bnot = "";
        var Bopf = "";
        var bopf = "";
        var bot = "";
        var bottom = "";
        var bowtie = "";
        var boxbox = "";
        var boxdl = "";
        var boxdL = "";
        var boxDl = "";
        var boxDL = "";
        var boxdr = "";
        var boxdR = "";
        var boxDr = "";
        var boxDR = "";
        var boxh = "";
        var boxH = "";
        var boxhd = "";
        var boxHd = "";
        var boxhD = "";
        var boxHD = "";
        var boxhu = "";
        var boxHu = "";
        var boxhU = "";
        var boxHU = "";
        var boxminus = "";
        var boxplus = "";
        var boxtimes = "";
        var boxul = "";
        var boxuL = "";
        var boxUl = "";
        var boxUL = "";
        var boxur = "";
        var boxuR = "";
        var boxUr = "";
        var boxUR = "";
        var boxv = "";
        var boxV = "";
        var boxvh = "";
        var boxvH = "";
        var boxVh = "";
        var boxVH = "";
        var boxvl = "";
        var boxvL = "";
        var boxVl = "";
        var boxVL = "";
        var boxvr = "";
        var boxvR = "";
        var boxVr = "";
        var boxVR = "";
        var bprime = "";
        var breve = "";
        var Breve = "";
        var brvbar = "";
        var bscr = "";
        var Bscr = "";
        var bsemi = "";
        var bsim = "";
        var bsime = "";
        var bsolb = "";
        var bsol = "\\";
        var bsolhsub = "";
        var bull = "";
        var bullet = "";
        var bump = "";
        var bumpE = "";
        var bumpe = "";
        var Bumpeq = "";
        var bumpeq = "";
        var Cacute = "";
        var cacute = "";
        var capand = "";
        var capbrcup = "";
        var capcap = "";
        var cap = "";
        var Cap = "";
        var capcup = "";
        var capdot = "";
        var CapitalDifferentialD = "";
        var caps = "";
        var caret = "";
        var caron = "";
        var Cayleys = "";
        var ccaps = "";
        var Ccaron = "";
        var ccaron = "";
        var Ccedil = "";
        var ccedil = "";
        var Ccirc = "";
        var ccirc = "";
        var Cconint = "";
        var ccups = "";
        var ccupssm = "";
        var Cdot = "";
        var cdot = "";
        var cedil = "";
        var Cedilla = "";
        var cemptyv = "";
        var cent = "";
        var centerdot = "";
        var CenterDot = "";
        var cfr = "";
        var Cfr = "";
        var CHcy = "";
        var chcy = "";
        var check = "";
        var checkmark = "";
        var Chi = "";
        var chi = "";
        var circ = "";
        var circeq = "";
        var circlearrowleft = "";
        var circlearrowright = "";
        var circledast = "";
        var circledcirc = "";
        var circleddash = "";
        var CircleDot = "";
        var circledR = "";
        var circledS = "";
        var CircleMinus = "";
        var CirclePlus = "";
        var CircleTimes = "";
        var cir = "";
        var cirE = "";
        var cire = "";
        var cirfnint = "";
        var cirmid = "";
        var cirscir = "";
        var ClockwiseContourIntegral = "";
        var CloseCurlyDoubleQuote = "";
        var CloseCurlyQuote = "";
        var clubs = "";
        var clubsuit = "";
        var colon = ":";
        var Colon = "";
        var Colone = "";
        var colone = "";
        var coloneq = "";
        var comma = ",";
        var commat = "@";
        var comp = "";
        var compfn = "";
        var complement = "";
        var complexes = "";
        var cong = "";
        var congdot = "";
        var Congruent = "";
        var conint = "";
        var Conint = "";
        var ContourIntegral = "";
        var copf = "";
        var Copf = "";
        var coprod = "";
        var Coproduct = "";
        var copy = "";
        var COPY = "";
        var copysr = "";
        var CounterClockwiseContourIntegral = "";
        var crarr = "";
        var cross = "";
        var Cross = "";
        var Cscr = "";
        var cscr = "";
        var csub = "";
        var csube = "";
        var csup = "";
        var csupe = "";
        var ctdot = "";
        var cudarrl = "";
        var cudarrr = "";
        var cuepr = "";
        var cuesc = "";
        var cularr = "";
        var cularrp = "";
        var cupbrcap = "";
        var cupcap = "";
        var CupCap = "";
        var cup = "";
        var Cup = "";
        var cupcup = "";
        var cupdot = "";
        var cupor = "";
        var cups = "";
        var curarr = "";
        var curarrm = "";
        var curlyeqprec = "";
        var curlyeqsucc = "";
        var curlyvee = "";
        var curlywedge = "";
        var curren = "";
        var curvearrowleft = "";
        var curvearrowright = "";
        var cuvee = "";
        var cuwed = "";
        var cwconint = "";
        var cwint = "";
        var cylcty = "";
        var dagger = "";
        var Dagger = "";
        var daleth = "";
        var darr = "";
        var Darr = "";
        var dArr = "";
        var dash = "";
        var Dashv = "";
        var dashv = "";
        var dbkarow = "";
        var dblac = "";
        var Dcaron = "";
        var dcaron = "";
        var Dcy = "";
        var dcy = "";
        var ddagger = "";
        var ddarr = "";
        var DD = "";
        var dd = "";
        var DDotrahd = "";
        var ddotseq = "";
        var deg = "";
        var Del = "";
        var Delta = "";
        var delta = "";
        var demptyv = "";
        var dfisht = "";
        var Dfr = "";
        var dfr = "";
        var dHar = "";
        var dharl = "";
        var dharr = "";
        var DiacriticalAcute = "";
        var DiacriticalDot = "";
        var DiacriticalDoubleAcute = "";
        var DiacriticalGrave = "`";
        var DiacriticalTilde = "";
        var diam = "";
        var diamond = "";
        var Diamond = "";
        var diamondsuit = "";
        var diams = "";
        var die = "";
        var DifferentialD = "";
        var digamma = "";
        var disin = "";
        var div = "";
        var divide = "";
        var divideontimes = "";
        var divonx = "";
        var DJcy = "";
        var djcy = "";
        var dlcorn = "";
        var dlcrop = "";
        var dollar = "$";
        var Dopf = "";
        var dopf = "";
        var Dot = "";
        var dot = "";
        var DotDot = "";
        var doteq = "";
        var doteqdot = "";
        var DotEqual = "";
        var dotminus = "";
        var dotplus = "";
        var dotsquare = "";
        var doublebarwedge = "";
        var DoubleContourIntegral = "";
        var DoubleDot = "";
        var DoubleDownArrow = "";
        var DoubleLeftArrow = "";
        var DoubleLeftRightArrow = "";
        var DoubleLeftTee = "";
        var DoubleLongLeftArrow = "";
        var DoubleLongLeftRightArrow = "";
        var DoubleLongRightArrow = "";
        var DoubleRightArrow = "";
        var DoubleRightTee = "";
        var DoubleUpArrow = "";
        var DoubleUpDownArrow = "";
        var DoubleVerticalBar = "";
        var DownArrowBar = "";
        var downarrow = "";
        var DownArrow = "";
        var Downarrow = "";
        var DownArrowUpArrow = "";
        var DownBreve = "";
        var downdownarrows = "";
        var downharpoonleft = "";
        var downharpoonright = "";
        var DownLeftRightVector = "";
        var DownLeftTeeVector = "";
        var DownLeftVectorBar = "";
        var DownLeftVector = "";
        var DownRightTeeVector = "";
        var DownRightVectorBar = "";
        var DownRightVector = "";
        var DownTeeArrow = "";
        var DownTee = "";
        var drbkarow = "";
        var drcorn = "";
        var drcrop = "";
        var Dscr = "";
        var dscr = "";
        var DScy = "";
        var dscy = "";
        var dsol = "";
        var Dstrok = "";
        var dstrok = "";
        var dtdot = "";
        var dtri = "";
        var dtrif = "";
        var duarr = "";
        var duhar = "";
        var dwangle = "";
        var DZcy = "";
        var dzcy = "";
        var dzigrarr = "";
        var Eacute = "";
        var eacute = "";
        var easter = "";
        var Ecaron = "";
        var ecaron = "";
        var Ecirc = "";
        var ecirc = "";
        var ecir = "";
        var ecolon = "";
        var Ecy = "";
        var ecy = "";
        var eDDot = "";
        var Edot = "";
        var edot = "";
        var eDot = "";
        var ee = "";
        var efDot = "";
        var Efr = "";
        var efr = "";
        var eg = "";
        var Egrave = "";
        var egrave = "";
        var egs = "";
        var egsdot = "";
        var el = "";
        var Element = "";
        var elinters = "";
        var ell = "";
        var els = "";
        var elsdot = "";
        var Emacr = "";
        var emacr = "";
        var empty = "";
        var emptyset = "";
        var EmptySmallSquare = "";
        var emptyv = "";
        var EmptyVerySmallSquare = "";
        var emsp13 = "";
        var emsp14 = "";
        var emsp = "";
        var ENG = "";
        var eng = "";
        var ensp = "";
        var Eogon = "";
        var eogon = "";
        var Eopf = "";
        var eopf = "";
        var epar = "";
        var eparsl = "";
        var eplus = "";
        var epsi = "";
        var Epsilon = "";
        var epsilon = "";
        var epsiv = "";
        var eqcirc = "";
        var eqcolon = "";
        var eqsim = "";
        var eqslantgtr = "";
        var eqslantless = "";
        var Equal = "";
        var equals = "=";
        var EqualTilde = "";
        var equest = "";
        var Equilibrium = "";
        var equiv = "";
        var equivDD = "";
        var eqvparsl = "";
        var erarr = "";
        var erDot = "";
        var escr = "";
        var Escr = "";
        var esdot = "";
        var Esim = "";
        var esim = "";
        var Eta = "";
        var eta = "";
        var ETH = "";
        var eth = "";
        var Euml = "";
        var euml = "";
        var euro = "";
        var excl = "!";
        var exist = "";
        var Exists = "";
        var expectation = "";
        var exponentiale = "";
        var ExponentialE = "";
        var fallingdotseq = "";
        var Fcy = "";
        var fcy = "";
        var female = "";
        var ffilig = "";
        var fflig = "";
        var ffllig = "";
        var Ffr = "";
        var ffr = "";
        var filig = "";
        var FilledSmallSquare = "";
        var FilledVerySmallSquare = "";
        var fjlig = "fj";
        var flat = "";
        var fllig = "";
        var fltns = "";
        var fnof = "";
        var Fopf = "";
        var fopf = "";
        var forall = "";
        var ForAll = "";
        var fork = "";
        var forkv = "";
        var Fouriertrf = "";
        var fpartint = "";
        var frac12 = "";
        var frac13 = "";
        var frac14 = "";
        var frac15 = "";
        var frac16 = "";
        var frac18 = "";
        var frac23 = "";
        var frac25 = "";
        var frac34 = "";
        var frac35 = "";
        var frac38 = "";
        var frac45 = "";
        var frac56 = "";
        var frac58 = "";
        var frac78 = "";
        var frasl = "";
        var frown = "";
        var fscr = "";
        var Fscr = "";
        var gacute = "";
        var Gamma = "";
        var gamma = "";
        var Gammad = "";
        var gammad = "";
        var gap = "";
        var Gbreve = "";
        var gbreve = "";
        var Gcedil = "";
        var Gcirc = "";
        var gcirc = "";
        var Gcy = "";
        var gcy = "";
        var Gdot = "";
        var gdot = "";
        var ge = "";
        var gE = "";
        var gEl = "";
        var gel = "";
        var geq = "";
        var geqq = "";
        var geqslant = "";
        var gescc = "";
        var ges = "";
        var gesdot = "";
        var gesdoto = "";
        var gesdotol = "";
        var gesl = "";
        var gesles = "";
        var Gfr = "";
        var gfr = "";
        var gg = "";
        var Gg = "";
        var ggg = "";
        var gimel = "";
        var GJcy = "";
        var gjcy = "";
        var gla = "";
        var gl = "";
        var glE = "";
        var glj = "";
        var gnap = "";
        var gnapprox = "";
        var gne = "";
        var gnE = "";
        var gneq = "";
        var gneqq = "";
        var gnsim = "";
        var Gopf = "";
        var gopf = "";
        var grave = "`";
        var GreaterEqual = "";
        var GreaterEqualLess = "";
        var GreaterFullEqual = "";
        var GreaterGreater = "";
        var GreaterLess = "";
        var GreaterSlantEqual = "";
        var GreaterTilde = "";
        var Gscr = "";
        var gscr = "";
        var gsim = "";
        var gsime = "";
        var gsiml = "";
        var gtcc = "";
        var gtcir = "";
        var gt = ">";
        var GT = ">";
        var Gt = "";
        var gtdot = "";
        var gtlPar = "";
        var gtquest = "";
        var gtrapprox = "";
        var gtrarr = "";
        var gtrdot = "";
        var gtreqless = "";
        var gtreqqless = "";
        var gtrless = "";
        var gtrsim = "";
        var gvertneqq = "";
        var gvnE = "";
        var Hacek = "";
        var hairsp = "";
        var half = "";
        var hamilt = "";
        var HARDcy = "";
        var hardcy = "";
        var harrcir = "";
        var harr = "";
        var hArr = "";
        var harrw = "";
        var Hat = "^";
        var hbar = "";
        var Hcirc = "";
        var hcirc = "";
        var hearts = "";
        var heartsuit = "";
        var hellip = "";
        var hercon = "";
        var hfr = "";
        var Hfr = "";
        var HilbertSpace = "";
        var hksearow = "";
        var hkswarow = "";
        var hoarr = "";
        var homtht = "";
        var hookleftarrow = "";
        var hookrightarrow = "";
        var hopf = "";
        var Hopf = "";
        var horbar = "";
        var HorizontalLine = "";
        var hscr = "";
        var Hscr = "";
        var hslash = "";
        var Hstrok = "";
        var hstrok = "";
        var HumpDownHump = "";
        var HumpEqual = "";
        var hybull = "";
        var hyphen = "";
        var Iacute = "";
        var iacute = "";
        var ic = "";
        var Icirc = "";
        var icirc = "";
        var Icy = "";
        var icy = "";
        var Idot = "";
        var IEcy = "";
        var iecy = "";
        var iexcl = "";
        var iff = "";
        var ifr = "";
        var Ifr = "";
        var Igrave = "";
        var igrave = "";
        var ii = "";
        var iiiint = "";
        var iiint = "";
        var iinfin = "";
        var iiota = "";
        var IJlig = "";
        var ijlig = "";
        var Imacr = "";
        var imacr = "";
        var image = "";
        var ImaginaryI = "";
        var imagline = "";
        var imagpart = "";
        var imath = "";
        var Im = "";
        var imof = "";
        var imped = "";
        var Implies = "";
        var incare = "";
        var infin = "";
        var infintie = "";
        var inodot = "";
        var intcal = "";
        var int = "";
        var Int = "";
        var integers = "";
        var Integral = "";
        var intercal = "";
        var Intersection = "";
        var intlarhk = "";
        var intprod = "";
        var InvisibleComma = "";
        var InvisibleTimes = "";
        var IOcy = "";
        var iocy = "";
        var Iogon = "";
        var iogon = "";
        var Iopf = "";
        var iopf = "";
        var Iota = "";
        var iota = "";
        var iprod = "";
        var iquest = "";
        var iscr = "";
        var Iscr = "";
        var isin = "";
        var isindot = "";
        var isinE = "";
        var isins = "";
        var isinsv = "";
        var isinv = "";
        var it = "";
        var Itilde = "";
        var itilde = "";
        var Iukcy = "";
        var iukcy = "";
        var Iuml = "";
        var iuml = "";
        var Jcirc = "";
        var jcirc = "";
        var Jcy = "";
        var jcy = "";
        var Jfr = "";
        var jfr = "";
        var jmath = "";
        var Jopf = "";
        var jopf = "";
        var Jscr = "";
        var jscr = "";
        var Jsercy = "";
        var jsercy = "";
        var Jukcy = "";
        var jukcy = "";
        var Kappa = "";
        var kappa = "";
        var kappav = "";
        var Kcedil = "";
        var kcedil = "";
        var Kcy = "";
        var kcy = "";
        var Kfr = "";
        var kfr = "";
        var kgreen = "";
        var KHcy = "";
        var khcy = "";
        var KJcy = "";
        var kjcy = "";
        var Kopf = "";
        var kopf = "";
        var Kscr = "";
        var kscr = "";
        var lAarr = "";
        var Lacute = "";
        var lacute = "";
        var laemptyv = "";
        var lagran = "";
        var Lambda = "";
        var lambda = "";
        var lang = "";
        var Lang = "";
        var langd = "";
        var langle = "";
        var lap = "";
        var Laplacetrf = "";
        var laquo = "";
        var larrb = "";
        var larrbfs = "";
        var larr = "";
        var Larr = "";
        var lArr = "";
        var larrfs = "";
        var larrhk = "";
        var larrlp = "";
        var larrpl = "";
        var larrsim = "";
        var larrtl = "";
        var latail = "";
        var lAtail = "";
        var lat = "";
        var late = "";
        var lates = "";
        var lbarr = "";
        var lBarr = "";
        var lbbrk = "";
        var lbrace = "{";
        var lbrack = "[";
        var lbrke = "";
        var lbrksld = "";
        var lbrkslu = "";
        var Lcaron = "";
        var lcaron = "";
        var Lcedil = "";
        var lcedil = "";
        var lceil = "";
        var lcub = "{";
        var Lcy = "";
        var lcy = "";
        var ldca = "";
        var ldquo = "";
        var ldquor = "";
        var ldrdhar = "";
        var ldrushar = "";
        var ldsh = "";
        var le = "";
        var lE = "";
        var LeftAngleBracket = "";
        var LeftArrowBar = "";
        var leftarrow = "";
        var LeftArrow = "";
        var Leftarrow = "";
        var LeftArrowRightArrow = "";
        var leftarrowtail = "";
        var LeftCeiling = "";
        var LeftDoubleBracket = "";
        var LeftDownTeeVector = "";
        var LeftDownVectorBar = "";
        var LeftDownVector = "";
        var LeftFloor = "";
        var leftharpoondown = "";
        var leftharpoonup = "";
        var leftleftarrows = "";
        var leftrightarrow = "";
        var LeftRightArrow = "";
        var Leftrightarrow = "";
        var leftrightarrows = "";
        var leftrightharpoons = "";
        var leftrightsquigarrow = "";
        var LeftRightVector = "";
        var LeftTeeArrow = "";
        var LeftTee = "";
        var LeftTeeVector = "";
        var leftthreetimes = "";
        var LeftTriangleBar = "";
        var LeftTriangle = "";
        var LeftTriangleEqual = "";
        var LeftUpDownVector = "";
        var LeftUpTeeVector = "";
        var LeftUpVectorBar = "";
        var LeftUpVector = "";
        var LeftVectorBar = "";
        var LeftVector = "";
        var lEg = "";
        var leg = "";
        var leq = "";
        var leqq = "";
        var leqslant = "";
        var lescc = "";
        var les = "";
        var lesdot = "";
        var lesdoto = "";
        var lesdotor = "";
        var lesg = "";
        var lesges = "";
        var lessapprox = "";
        var lessdot = "";
        var lesseqgtr = "";
        var lesseqqgtr = "";
        var LessEqualGreater = "";
        var LessFullEqual = "";
        var LessGreater = "";
        var lessgtr = "";
        var LessLess = "";
        var lesssim = "";
        var LessSlantEqual = "";
        var LessTilde = "";
        var lfisht = "";
        var lfloor = "";
        var Lfr = "";
        var lfr = "";
        var lg = "";
        var lgE = "";
        var lHar = "";
        var lhard = "";
        var lharu = "";
        var lharul = "";
        var lhblk = "";
        var LJcy = "";
        var ljcy = "";
        var llarr = "";
        var ll = "";
        var Ll = "";
        var llcorner = "";
        var Lleftarrow = "";
        var llhard = "";
        var lltri = "";
        var Lmidot = "";
        var lmidot = "";
        var lmoustache = "";
        var lmoust = "";
        var lnap = "";
        var lnapprox = "";
        var lne = "";
        var lnE = "";
        var lneq = "";
        var lneqq = "";
        var lnsim = "";
        var loang = "";
        var loarr = "";
        var lobrk = "";
        var longleftarrow = "";
        var LongLeftArrow = "";
        var Longleftarrow = "";
        var longleftrightarrow = "";
        var LongLeftRightArrow = "";
        var Longleftrightarrow = "";
        var longmapsto = "";
        var longrightarrow = "";
        var LongRightArrow = "";
        var Longrightarrow = "";
        var looparrowleft = "";
        var looparrowright = "";
        var lopar = "";
        var Lopf = "";
        var lopf = "";
        var loplus = "";
        var lotimes = "";
        var lowast = "";
        var lowbar = "_";
        var LowerLeftArrow = "";
        var LowerRightArrow = "";
        var loz = "";
        var lozenge = "";
        var lozf = "";
        var lpar = "(";
        var lparlt = "";
        var lrarr = "";
        var lrcorner = "";
        var lrhar = "";
        var lrhard = "";
        var lrm = "";
        var lrtri = "";
        var lsaquo = "";
        var lscr = "";
        var Lscr = "";
        var lsh = "";
        var Lsh = "";
        var lsim = "";
        var lsime = "";
        var lsimg = "";
        var lsqb = "[";
        var lsquo = "";
        var lsquor = "";
        var Lstrok = "";
        var lstrok = "";
        var ltcc = "";
        var ltcir = "";
        var lt = "<";
        var LT = "<";
        var Lt = "";
        var ltdot = "";
        var lthree = "";
        var ltimes = "";
        var ltlarr = "";
        var ltquest = "";
        var ltri = "";
        var ltrie = "";
        var ltrif = "";
        var ltrPar = "";
        var lurdshar = "";
        var luruhar = "";
        var lvertneqq = "";
        var lvnE = "";
        var macr = "";
        var male = "";
        var malt = "";
        var maltese = "";
        var map = "";
        var mapsto = "";
        var mapstodown = "";
        var mapstoleft = "";
        var mapstoup = "";
        var marker = "";
        var mcomma = "";
        var Mcy = "";
        var mcy = "";
        var mdash = "";
        var mDDot = "";
        var measuredangle = "";
        var MediumSpace = "";
        var Mellintrf = "";
        var Mfr = "";
        var mfr = "";
        var mho = "";
        var micro = "";
        var midast = "*";
        var midcir = "";
        var mid = "";
        var middot = "";
        var minusb = "";
        var minus = "";
        var minusd = "";
        var minusdu = "";
        var MinusPlus = "";
        var mlcp = "";
        var mldr = "";
        var mnplus = "";
        var models = "";
        var Mopf = "";
        var mopf = "";
        var mp = "";
        var mscr = "";
        var Mscr = "";
        var mstpos = "";
        var Mu = "";
        var mu = "";
        var multimap = "";
        var mumap = "";
        var nabla = "";
        var Nacute = "";
        var nacute = "";
        var nang = "";
        var nap = "";
        var napE = "";
        var napid = "";
        var napos = "";
        var napprox = "";
        var natural = "";
        var naturals = "";
        var natur = "";
        var nbsp = "";
        var nbump = "";
        var nbumpe = "";
        var ncap = "";
        var Ncaron = "";
        var ncaron = "";
        var Ncedil = "";
        var ncedil = "";
        var ncong = "";
        var ncongdot = "";
        var ncup = "";
        var Ncy = "";
        var ncy = "";
        var ndash = "";
        var nearhk = "";
        var nearr = "";
        var neArr = "";
        var nearrow = "";
        var ne = "";
        var nedot = "";
        var NegativeMediumSpace = "";
        var NegativeThickSpace = "";
        var NegativeThinSpace = "";
        var NegativeVeryThinSpace = "";
        var nequiv = "";
        var nesear = "";
        var nesim = "";
        var NestedGreaterGreater = "";
        var NestedLessLess = "";
        var NewLine = "\n";
        var nexist = "";
        var nexists = "";
        var Nfr = "";
        var nfr = "";
        var ngE = "";
        var nge = "";
        var ngeq = "";
        var ngeqq = "";
        var ngeqslant = "";
        var nges = "";
        var nGg = "";
        var ngsim = "";
        var nGt = "";
        var ngt = "";
        var ngtr = "";
        var nGtv = "";
        var nharr = "";
        var nhArr = "";
        var nhpar = "";
        var ni = "";
        var nis = "";
        var nisd = "";
        var niv = "";
        var NJcy = "";
        var njcy = "";
        var nlarr = "";
        var nlArr = "";
        var nldr = "";
        var nlE = "";
        var nle = "";
        var nleftarrow = "";
        var nLeftarrow = "";
        var nleftrightarrow = "";
        var nLeftrightarrow = "";
        var nleq = "";
        var nleqq = "";
        var nleqslant = "";
        var nles = "";
        var nless = "";
        var nLl = "";
        var nlsim = "";
        var nLt = "";
        var nlt = "";
        var nltri = "";
        var nltrie = "";
        var nLtv = "";
        var nmid = "";
        var NoBreak = "";
        var NonBreakingSpace = "";
        var nopf = "";
        var Nopf = "";
        var Not = "";
        var not = "";
        var NotCongruent = "";
        var NotCupCap = "";
        var NotDoubleVerticalBar = "";
        var NotElement = "";
        var NotEqual = "";
        var NotEqualTilde = "";
        var NotExists = "";
        var NotGreater = "";
        var NotGreaterEqual = "";
        var NotGreaterFullEqual = "";
        var NotGreaterGreater = "";
        var NotGreaterLess = "";
        var NotGreaterSlantEqual = "";
        var NotGreaterTilde = "";
        var NotHumpDownHump = "";
        var NotHumpEqual = "";
        var notin = "";
        var notindot = "";
        var notinE = "";
        var notinva = "";
        var notinvb = "";
        var notinvc = "";
        var NotLeftTriangleBar = "";
        var NotLeftTriangle = "";
        var NotLeftTriangleEqual = "";
        var NotLess = "";
        var NotLessEqual = "";
        var NotLessGreater = "";
        var NotLessLess = "";
        var NotLessSlantEqual = "";
        var NotLessTilde = "";
        var NotNestedGreaterGreater = "";
        var NotNestedLessLess = "";
        var notni = "";
        var notniva = "";
        var notnivb = "";
        var notnivc = "";
        var NotPrecedes = "";
        var NotPrecedesEqual = "";
        var NotPrecedesSlantEqual = "";
        var NotReverseElement = "";
        var NotRightTriangleBar = "";
        var NotRightTriangle = "";
        var NotRightTriangleEqual = "";
        var NotSquareSubset = "";
        var NotSquareSubsetEqual = "";
        var NotSquareSuperset = "";
        var NotSquareSupersetEqual = "";
        var NotSubset = "";
        var NotSubsetEqual = "";
        var NotSucceeds = "";
        var NotSucceedsEqual = "";
        var NotSucceedsSlantEqual = "";
        var NotSucceedsTilde = "";
        var NotSuperset = "";
        var NotSupersetEqual = "";
        var NotTilde = "";
        var NotTildeEqual = "";
        var NotTildeFullEqual = "";
        var NotTildeTilde = "";
        var NotVerticalBar = "";
        var nparallel = "";
        var npar = "";
        var nparsl = "";
        var npart = "";
        var npolint = "";
        var npr = "";
        var nprcue = "";
        var nprec = "";
        var npreceq = "";
        var npre = "";
        var nrarrc = "";
        var nrarr = "";
        var nrArr = "";
        var nrarrw = "";
        var nrightarrow = "";
        var nRightarrow = "";
        var nrtri = "";
        var nrtrie = "";
        var nsc = "";
        var nsccue = "";
        var nsce = "";
        var Nscr = "";
        var nscr = "";
        var nshortmid = "";
        var nshortparallel = "";
        var nsim = "";
        var nsime = "";
        var nsimeq = "";
        var nsmid = "";
        var nspar = "";
        var nsqsube = "";
        var nsqsupe = "";
        var nsub = "";
        var nsubE = "";
        var nsube = "";
        var nsubset = "";
        var nsubseteq = "";
        var nsubseteqq = "";
        var nsucc = "";
        var nsucceq = "";
        var nsup = "";
        var nsupE = "";
        var nsupe = "";
        var nsupset = "";
        var nsupseteq = "";
        var nsupseteqq = "";
        var ntgl = "";
        var Ntilde = "";
        var ntilde = "";
        var ntlg = "";
        var ntriangleleft = "";
        var ntrianglelefteq = "";
        var ntriangleright = "";
        var ntrianglerighteq = "";
        var Nu = "";
        var nu = "";
        var num = "#";
        var numero = "";
        var numsp = "";
        var nvap = "";
        var nvdash = "";
        var nvDash = "";
        var nVdash = "";
        var nVDash = "";
        var nvge = "";
        var nvgt = ">";
        var nvHarr = "";
        var nvinfin = "";
        var nvlArr = "";
        var nvle = "";
        var nvlt = "<";
        var nvltrie = "";
        var nvrArr = "";
        var nvrtrie = "";
        var nvsim = "";
        var nwarhk = "";
        var nwarr = "";
        var nwArr = "";
        var nwarrow = "";
        var nwnear = "";
        var Oacute = "";
        var oacute = "";
        var oast = "";
        var Ocirc = "";
        var ocirc = "";
        var ocir = "";
        var Ocy = "";
        var ocy = "";
        var odash = "";
        var Odblac = "";
        var odblac = "";
        var odiv = "";
        var odot = "";
        var odsold = "";
        var OElig = "";
        var oelig = "";
        var ofcir = "";
        var Ofr = "";
        var ofr = "";
        var ogon = "";
        var Ograve = "";
        var ograve = "";
        var ogt = "";
        var ohbar = "";
        var ohm = "";
        var oint = "";
        var olarr = "";
        var olcir = "";
        var olcross = "";
        var oline = "";
        var olt = "";
        var Omacr = "";
        var omacr = "";
        var Omega = "";
        var omega = "";
        var Omicron = "";
        var omicron = "";
        var omid = "";
        var ominus = "";
        var Oopf = "";
        var oopf = "";
        var opar = "";
        var OpenCurlyDoubleQuote = "";
        var OpenCurlyQuote = "";
        var operp = "";
        var oplus = "";
        var orarr = "";
        var Or = "";
        var or = "";
        var ord = "";
        var order = "";
        var orderof = "";
        var ordf = "";
        var ordm = "";
        var origof = "";
        var oror = "";
        var orslope = "";
        var orv = "";
        var oS = "";
        var Oscr = "";
        var oscr = "";
        var Oslash = "";
        var oslash = "";
        var osol = "";
        var Otilde = "";
        var otilde = "";
        var otimesas = "";
        var Otimes = "";
        var otimes = "";
        var Ouml = "";
        var ouml = "";
        var ovbar = "";
        var OverBar = "";
        var OverBrace = "";
        var OverBracket = "";
        var OverParenthesis = "";
        var para = "";
        var parallel = "";
        var par = "";
        var parsim = "";
        var parsl = "";
        var part = "";
        var PartialD = "";
        var Pcy = "";
        var pcy = "";
        var percnt = "%";
        var period = ".";
        var permil = "";
        var perp = "";
        var pertenk = "";
        var Pfr = "";
        var pfr = "";
        var Phi = "";
        var phi = "";
        var phiv = "";
        var phmmat = "";
        var phone = "";
        var Pi = "";
        var pi = "";
        var pitchfork = "";
        var piv = "";
        var planck = "";
        var planckh = "";
        var plankv = "";
        var plusacir = "";
        var plusb = "";
        var pluscir = "";
        var plus = "+";
        var plusdo = "";
        var plusdu = "";
        var pluse = "";
        var PlusMinus = "";
        var plusmn = "";
        var plussim = "";
        var plustwo = "";
        var pm = "";
        var Poincareplane = "";
        var pointint = "";
        var popf = "";
        var Popf = "";
        var pound = "";
        var prap = "";
        var Pr = "";
        var pr = "";
        var prcue = "";
        var precapprox = "";
        var prec = "";
        var preccurlyeq = "";
        var Precedes = "";
        var PrecedesEqual = "";
        var PrecedesSlantEqual = "";
        var PrecedesTilde = "";
        var preceq = "";
        var precnapprox = "";
        var precneqq = "";
        var precnsim = "";
        var pre = "";
        var prE = "";
        var precsim = "";
        var prime = "";
        var Prime = "";
        var primes = "";
        var prnap = "";
        var prnE = "";
        var prnsim = "";
        var prod = "";
        var Product = "";
        var profalar = "";
        var profline = "";
        var profsurf = "";
        var prop = "";
        var Proportional = "";
        var Proportion = "";
        var propto = "";
        var prsim = "";
        var prurel = "";
        var Pscr = "";
        var pscr = "";
        var Psi = "";
        var psi = "";
        var puncsp = "";
        var Qfr = "";
        var qfr = "";
        var qint = "";
        var qopf = "";
        var Qopf = "";
        var qprime = "";
        var Qscr = "";
        var qscr = "";
        var quaternions = "";
        var quatint = "";
        var quest = "?";
        var questeq = "";
        var quot = "\"";
        var QUOT = "\"";
        var rAarr = "";
        var race = "";
        var Racute = "";
        var racute = "";
        var radic = "";
        var raemptyv = "";
        var rang = "";
        var Rang = "";
        var rangd = "";
        var range = "";
        var rangle = "";
        var raquo = "";
        var rarrap = "";
        var rarrb = "";
        var rarrbfs = "";
        var rarrc = "";
        var rarr = "";
        var Rarr = "";
        var rArr = "";
        var rarrfs = "";
        var rarrhk = "";
        var rarrlp = "";
        var rarrpl = "";
        var rarrsim = "";
        var Rarrtl = "";
        var rarrtl = "";
        var rarrw = "";
        var ratail = "";
        var rAtail = "";
        var ratio = "";
        var rationals = "";
        var rbarr = "";
        var rBarr = "";
        var RBarr = "";
        var rbbrk = "";
        var rbrace = "}";
        var rbrack = "]";
        var rbrke = "";
        var rbrksld = "";
        var rbrkslu = "";
        var Rcaron = "";
        var rcaron = "";
        var Rcedil = "";
        var rcedil = "";
        var rceil = "";
        var rcub = "}";
        var Rcy = "";
        var rcy = "";
        var rdca = "";
        var rdldhar = "";
        var rdquo = "";
        var rdquor = "";
        var rdsh = "";
        var real = "";
        var realine = "";
        var realpart = "";
        var reals = "";
        var Re = "";
        var rect = "";
        var reg = "";
        var REG = "";
        var ReverseElement = "";
        var ReverseEquilibrium = "";
        var ReverseUpEquilibrium = "";
        var rfisht = "";
        var rfloor = "";
        var rfr = "";
        var Rfr = "";
        var rHar = "";
        var rhard = "";
        var rharu = "";
        var rharul = "";
        var Rho = "";
        var rho = "";
        var rhov = "";
        var RightAngleBracket = "";
        var RightArrowBar = "";
        var rightarrow = "";
        var RightArrow = "";
        var Rightarrow = "";
        var RightArrowLeftArrow = "";
        var rightarrowtail = "";
        var RightCeiling = "";
        var RightDoubleBracket = "";
        var RightDownTeeVector = "";
        var RightDownVectorBar = "";
        var RightDownVector = "";
        var RightFloor = "";
        var rightharpoondown = "";
        var rightharpoonup = "";
        var rightleftarrows = "";
        var rightleftharpoons = "";
        var rightrightarrows = "";
        var rightsquigarrow = "";
        var RightTeeArrow = "";
        var RightTee = "";
        var RightTeeVector = "";
        var rightthreetimes = "";
        var RightTriangleBar = "";
        var RightTriangle = "";
        var RightTriangleEqual = "";
        var RightUpDownVector = "";
        var RightUpTeeVector = "";
        var RightUpVectorBar = "";
        var RightUpVector = "";
        var RightVectorBar = "";
        var RightVector = "";
        var ring = "";
        var risingdotseq = "";
        var rlarr = "";
        var rlhar = "";
        var rlm = "";
        var rmoustache = "";
        var rmoust = "";
        var rnmid = "";
        var roang = "";
        var roarr = "";
        var robrk = "";
        var ropar = "";
        var ropf = "";
        var Ropf = "";
        var roplus = "";
        var rotimes = "";
        var RoundImplies = "";
        var rpar = ")";
        var rpargt = "";
        var rppolint = "";
        var rrarr = "";
        var Rrightarrow = "";
        var rsaquo = "";
        var rscr = "";
        var Rscr = "";
        var rsh = "";
        var Rsh = "";
        var rsqb = "]";
        var rsquo = "";
        var rsquor = "";
        var rthree = "";
        var rtimes = "";
        var rtri = "";
        var rtrie = "";
        var rtrif = "";
        var rtriltri = "";
        var RuleDelayed = "";
        var ruluhar = "";
        var rx = "";
        var Sacute = "";
        var sacute = "";
        var sbquo = "";
        var scap = "";
        var Scaron = "";
        var scaron = "";
        var Sc = "";
        var sc = "";
        var sccue = "";
        var sce = "";
        var scE = "";
        var Scedil = "";
        var scedil = "";
        var Scirc = "";
        var scirc = "";
        var scnap = "";
        var scnE = "";
        var scnsim = "";
        var scpolint = "";
        var scsim = "";
        var Scy = "";
        var scy = "";
        var sdotb = "";
        var sdot = "";
        var sdote = "";
        var searhk = "";
        var searr = "";
        var seArr = "";
        var searrow = "";
        var sect = "";
        var semi = ";";
        var seswar = "";
        var setminus = "";
        var setmn = "";
        var sext = "";
        var Sfr = "";
        var sfr = "";
        var sfrown = "";
        var sharp = "";
        var SHCHcy = "";
        var shchcy = "";
        var SHcy = "";
        var shcy = "";
        var ShortDownArrow = "";
        var ShortLeftArrow = "";
        var shortmid = "";
        var shortparallel = "";
        var ShortRightArrow = "";
        var ShortUpArrow = "";
        var shy = "";
        var Sigma = "";
        var sigma = "";
        var sigmaf = "";
        var sigmav = "";
        var sim = "";
        var simdot = "";
        var sime = "";
        var simeq = "";
        var simg = "";
        var simgE = "";
        var siml = "";
        var simlE = "";
        var simne = "";
        var simplus = "";
        var simrarr = "";
        var slarr = "";
        var SmallCircle = "";
        var smallsetminus = "";
        var smashp = "";
        var smeparsl = "";
        var smid = "";
        var smile = "";
        var smt = "";
        var smte = "";
        var smtes = "";
        var SOFTcy = "";
        var softcy = "";
        var solbar = "";
        var solb = "";
        var sol = "/";
        var Sopf = "";
        var sopf = "";
        var spades = "";
        var spadesuit = "";
        var spar = "";
        var sqcap = "";
        var sqcaps = "";
        var sqcup = "";
        var sqcups = "";
        var Sqrt = "";
        var sqsub = "";
        var sqsube = "";
        var sqsubset = "";
        var sqsubseteq = "";
        var sqsup = "";
        var sqsupe = "";
        var sqsupset = "";
        var sqsupseteq = "";
        var square = "";
        var Square = "";
        var SquareIntersection = "";
        var SquareSubset = "";
        var SquareSubsetEqual = "";
        var SquareSuperset = "";
        var SquareSupersetEqual = "";
        var SquareUnion = "";
        var squarf = "";
        var squ = "";
        var squf = "";
        var srarr = "";
        var Sscr = "";
        var sscr = "";
        var ssetmn = "";
        var ssmile = "";
        var sstarf = "";
        var Star = "";
        var star = "";
        var starf = "";
        var straightepsilon = "";
        var straightphi = "";
        var strns = "";
        var sub = "";
        var Sub = "";
        var subdot = "";
        var subE = "";
        var sube = "";
        var subedot = "";
        var submult = "";
        var subnE = "";
        var subne = "";
        var subplus = "";
        var subrarr = "";
        var subset = "";
        var Subset = "";
        var subseteq = "";
        var subseteqq = "";
        var SubsetEqual = "";
        var subsetneq = "";
        var subsetneqq = "";
        var subsim = "";
        var subsub = "";
        var subsup = "";
        var succapprox = "";
        var succ = "";
        var succcurlyeq = "";
        var Succeeds = "";
        var SucceedsEqual = "";
        var SucceedsSlantEqual = "";
        var SucceedsTilde = "";
        var succeq = "";
        var succnapprox = "";
        var succneqq = "";
        var succnsim = "";
        var succsim = "";
        var SuchThat = "";
        var sum = "";
        var Sum = "";
        var sung = "";
        var sup1 = "";
        var sup2 = "";
        var sup3 = "";
        var sup = "";
        var Sup = "";
        var supdot = "";
        var supdsub = "";
        var supE = "";
        var supe = "";
        var supedot = "";
        var Superset = "";
        var SupersetEqual = "";
        var suphsol = "";
        var suphsub = "";
        var suplarr = "";
        var supmult = "";
        var supnE = "";
        var supne = "";
        var supplus = "";
        var supset = "";
        var Supset = "";
        var supseteq = "";
        var supseteqq = "";
        var supsetneq = "";
        var supsetneqq = "";
        var supsim = "";
        var supsub = "";
        var supsup = "";
        var swarhk = "";
        var swarr = "";
        var swArr = "";
        var swarrow = "";
        var swnwar = "";
        var szlig = "";
        var Tab = "\t";
        var target = "";
        var Tau = "";
        var tau = "";
        var tbrk = "";
        var Tcaron = "";
        var tcaron = "";
        var Tcedil = "";
        var tcedil = "";
        var Tcy = "";
        var tcy = "";
        var tdot = "";
        var telrec = "";
        var Tfr = "";
        var tfr = "";
        var there4 = "";
        var therefore = "";
        var Therefore = "";
        var Theta = "";
        var theta = "";
        var thetasym = "";
        var thetav = "";
        var thickapprox = "";
        var thicksim = "";
        var ThickSpace = "";
        var ThinSpace = "";
        var thinsp = "";
        var thkap = "";
        var thksim = "";
        var THORN = "";
        var thorn = "";
        var tilde = "";
        var Tilde = "";
        var TildeEqual = "";
        var TildeFullEqual = "";
        var TildeTilde = "";
        var timesbar = "";
        var timesb = "";
        var times = "";
        var timesd = "";
        var tint = "";
        var toea = "";
        var topbot = "";
        var topcir = "";
        var top = "";
        var Topf = "";
        var topf = "";
        var topfork = "";
        var tosa = "";
        var tprime = "";
        var trade = "";
        var TRADE = "";
        var triangle = "";
        var triangledown = "";
        var triangleleft = "";
        var trianglelefteq = "";
        var triangleq = "";
        var triangleright = "";
        var trianglerighteq = "";
        var tridot = "";
        var trie = "";
        var triminus = "";
        var TripleDot = "";
        var triplus = "";
        var trisb = "";
        var tritime = "";
        var trpezium = "";
        var Tscr = "";
        var tscr = "";
        var TScy = "";
        var tscy = "";
        var TSHcy = "";
        var tshcy = "";
        var Tstrok = "";
        var tstrok = "";
        var twixt = "";
        var twoheadleftarrow = "";
        var twoheadrightarrow = "";
        var Uacute = "";
        var uacute = "";
        var uarr = "";
        var Uarr = "";
        var uArr = "";
        var Uarrocir = "";
        var Ubrcy = "";
        var ubrcy = "";
        var Ubreve = "";
        var ubreve = "";
        var Ucirc = "";
        var ucirc = "";
        var Ucy = "";
        var ucy = "";
        var udarr = "";
        var Udblac = "";
        var udblac = "";
        var udhar = "";
        var ufisht = "";
        var Ufr = "";
        var ufr = "";
        var Ugrave = "";
        var ugrave = "";
        var uHar = "";
        var uharl = "";
        var uharr = "";
        var uhblk = "";
        var ulcorn = "";
        var ulcorner = "";
        var ulcrop = "";
        var ultri = "";
        var Umacr = "";
        var umacr = "";
        var uml = "";
        var UnderBar = "_";
        var UnderBrace = "";
        var UnderBracket = "";
        var UnderParenthesis = "";
        var Union = "";
        var UnionPlus = "";
        var Uogon = "";
        var uogon = "";
        var Uopf = "";
        var uopf = "";
        var UpArrowBar = "";
        var uparrow = "";
        var UpArrow = "";
        var Uparrow = "";
        var UpArrowDownArrow = "";
        var updownarrow = "";
        var UpDownArrow = "";
        var Updownarrow = "";
        var UpEquilibrium = "";
        var upharpoonleft = "";
        var upharpoonright = "";
        var uplus = "";
        var UpperLeftArrow = "";
        var UpperRightArrow = "";
        var upsi = "";
        var Upsi = "";
        var upsih = "";
        var Upsilon = "";
        var upsilon = "";
        var UpTeeArrow = "";
        var UpTee = "";
        var upuparrows = "";
        var urcorn = "";
        var urcorner = "";
        var urcrop = "";
        var Uring = "";
        var uring = "";
        var urtri = "";
        var Uscr = "";
        var uscr = "";
        var utdot = "";
        var Utilde = "";
        var utilde = "";
        var utri = "";
        var utrif = "";
        var uuarr = "";
        var Uuml = "";
        var uuml = "";
        var uwangle = "";
        var vangrt = "";
        var varepsilon = "";
        var varkappa = "";
        var varnothing = "";
        var varphi = "";
        var varpi = "";
        var varpropto = "";
        var varr = "";
        var vArr = "";
        var varrho = "";
        var varsigma = "";
        var varsubsetneq = "";
        var varsubsetneqq = "";
        var varsupsetneq = "";
        var varsupsetneqq = "";
        var vartheta = "";
        var vartriangleleft = "";
        var vartriangleright = "";
        var vBar = "";
        var Vbar = "";
        var vBarv = "";
        var Vcy = "";
        var vcy = "";
        var vdash = "";
        var vDash = "";
        var Vdash = "";
        var VDash = "";
        var Vdashl = "";
        var veebar = "";
        var vee = "";
        var Vee = "";
        var veeeq = "";
        var vellip = "";
        var verbar = "|";
        var Verbar = "";
        var vert = "|";
        var Vert = "";
        var VerticalBar = "";
        var VerticalLine = "|";
        var VerticalSeparator = "";
        var VerticalTilde = "";
        var VeryThinSpace = "";
        var Vfr = "";
        var vfr = "";
        var vltri = "";
        var vnsub = "";
        var vnsup = "";
        var Vopf = "";
        var vopf = "";
        var vprop = "";
        var vrtri = "";
        var Vscr = "";
        var vscr = "";
        var vsubnE = "";
        var vsubne = "";
        var vsupnE = "";
        var vsupne = "";
        var Vvdash = "";
        var vzigzag = "";
        var Wcirc = "";
        var wcirc = "";
        var wedbar = "";
        var wedge = "";
        var Wedge = "";
        var wedgeq = "";
        var weierp = "";
        var Wfr = "";
        var wfr = "";
        var Wopf = "";
        var wopf = "";
        var wp = "";
        var wr = "";
        var wreath = "";
        var Wscr = "";
        var wscr = "";
        var xcap = "";
        var xcirc = "";
        var xcup = "";
        var xdtri = "";
        var Xfr = "";
        var xfr = "";
        var xharr = "";
        var xhArr = "";
        var Xi = "";
        var xi = "";
        var xlarr = "";
        var xlArr = "";
        var xmap = "";
        var xnis = "";
        var xodot = "";
        var Xopf = "";
        var xopf = "";
        var xoplus = "";
        var xotime = "";
        var xrarr = "";
        var xrArr = "";
        var Xscr = "";
        var xscr = "";
        var xsqcup = "";
        var xuplus = "";
        var xutri = "";
        var xvee = "";
        var xwedge = "";
        var Yacute = "";
        var yacute = "";
        var YAcy = "";
        var yacy = "";
        var Ycirc = "";
        var ycirc = "";
        var Ycy = "";
        var ycy = "";
        var yen = "";
        var Yfr = "";
        var yfr = "";
        var YIcy = "";
        var yicy = "";
        var Yopf = "";
        var yopf = "";
        var Yscr = "";
        var yscr = "";
        var YUcy = "";
        var yucy = "";
        var yuml = "";
        var Yuml = "";
        var Zacute = "";
        var zacute = "";
        var Zcaron = "";
        var zcaron = "";
        var Zcy = "";
        var zcy = "";
        var Zdot = "";
        var zdot = "";
        var zeetrf = "";
        var ZeroWidthSpace = "";
        var Zeta = "";
        var zeta = "";
        var zfr = "";
        var Zfr = "";
        var ZHcy = "";
        var zhcy = "";
        var zigrarr = "";
        var zopf = "";
        var Zopf = "";
        var Zscr = "";
        var zscr = "";
        var zwj = "";
        var zwnj = "";
        var entities = {
            Aacute: Aacute,
            aacute: aacute,
            Abreve: Abreve,
            abreve: abreve,
            ac: ac,
            acd: acd,
            acE: acE,
            Acirc: Acirc,
            acirc: acirc,
            acute: acute,
            Acy: Acy,
            acy: acy,
            AElig: AElig,
            aelig: aelig,
            af: af,
            Afr: Afr,
            afr: afr,
            Agrave: Agrave,
            agrave: agrave,
            alefsym: alefsym,
            aleph: aleph,
            Alpha: Alpha,
            alpha: alpha,
            Amacr: Amacr,
            amacr: amacr,
            amalg: amalg,
            amp: amp,
            AMP: AMP,
            andand: andand,
            And: And,
            and: and,
            andd: andd,
            andslope: andslope,
            andv: andv,
            ang: ang,
            ange: ange,
            angle: angle,
            angmsdaa: angmsdaa,
            angmsdab: angmsdab,
            angmsdac: angmsdac,
            angmsdad: angmsdad,
            angmsdae: angmsdae,
            angmsdaf: angmsdaf,
            angmsdag: angmsdag,
            angmsdah: angmsdah,
            angmsd: angmsd,
            angrt: angrt,
            angrtvb: angrtvb,
            angrtvbd: angrtvbd,
            angsph: angsph,
            angst: angst,
            angzarr: angzarr,
            Aogon: Aogon,
            aogon: aogon,
            Aopf: Aopf,
            aopf: aopf,
            apacir: apacir,
            ap: ap,
            apE: apE,
            ape: ape,
            apid: apid,
            apos: apos,
            ApplyFunction: ApplyFunction,
            approx: approx,
            approxeq: approxeq,
            Aring: Aring,
            aring: aring,
            Ascr: Ascr,
            ascr: ascr,
            Assign: Assign,
            ast: ast,
            asymp: asymp,
            asympeq: asympeq,
            Atilde: Atilde,
            atilde: atilde,
            Auml: Auml,
            auml: auml,
            awconint: awconint,
            awint: awint,
            backcong: backcong,
            backepsilon: backepsilon,
            backprime: backprime,
            backsim: backsim,
            backsimeq: backsimeq,
            Backslash: Backslash,
            Barv: Barv,
            barvee: barvee,
            barwed: barwed,
            Barwed: Barwed,
            barwedge: barwedge,
            bbrk: bbrk,
            bbrktbrk: bbrktbrk,
            bcong: bcong,
            Bcy: Bcy,
            bcy: bcy,
            bdquo: bdquo,
            becaus: becaus,
            because: because,
            Because: Because,
            bemptyv: bemptyv,
            bepsi: bepsi,
            bernou: bernou,
            Bernoullis: Bernoullis,
            Beta: Beta,
            beta: beta,
            beth: beth,
            between: between,
            Bfr: Bfr,
            bfr: bfr,
            bigcap: bigcap,
            bigcirc: bigcirc,
            bigcup: bigcup,
            bigodot: bigodot,
            bigoplus: bigoplus,
            bigotimes: bigotimes,
            bigsqcup: bigsqcup,
            bigstar: bigstar,
            bigtriangledown: bigtriangledown,
            bigtriangleup: bigtriangleup,
            biguplus: biguplus,
            bigvee: bigvee,
            bigwedge: bigwedge,
            bkarow: bkarow,
            blacklozenge: blacklozenge,
            blacksquare: blacksquare,
            blacktriangle: blacktriangle,
            blacktriangledown: blacktriangledown,
            blacktriangleleft: blacktriangleleft,
            blacktriangleright: blacktriangleright,
            blank: blank,
            blk12: blk12,
            blk14: blk14,
            blk34: blk34,
            block: block,
            bne: bne,
            bnequiv: bnequiv,
            bNot: bNot,
            bnot: bnot,
            Bopf: Bopf,
            bopf: bopf,
            bot: bot,
            bottom: bottom,
            bowtie: bowtie,
            boxbox: boxbox,
            boxdl: boxdl,
            boxdL: boxdL,
            boxDl: boxDl,
            boxDL: boxDL,
            boxdr: boxdr,
            boxdR: boxdR,
            boxDr: boxDr,
            boxDR: boxDR,
            boxh: boxh,
            boxH: boxH,
            boxhd: boxhd,
            boxHd: boxHd,
            boxhD: boxhD,
            boxHD: boxHD,
            boxhu: boxhu,
            boxHu: boxHu,
            boxhU: boxhU,
            boxHU: boxHU,
            boxminus: boxminus,
            boxplus: boxplus,
            boxtimes: boxtimes,
            boxul: boxul,
            boxuL: boxuL,
            boxUl: boxUl,
            boxUL: boxUL,
            boxur: boxur,
            boxuR: boxuR,
            boxUr: boxUr,
            boxUR: boxUR,
            boxv: boxv,
            boxV: boxV,
            boxvh: boxvh,
            boxvH: boxvH,
            boxVh: boxVh,
            boxVH: boxVH,
            boxvl: boxvl,
            boxvL: boxvL,
            boxVl: boxVl,
            boxVL: boxVL,
            boxvr: boxvr,
            boxvR: boxvR,
            boxVr: boxVr,
            boxVR: boxVR,
            bprime: bprime,
            breve: breve,
            Breve: Breve,
            brvbar: brvbar,
            bscr: bscr,
            Bscr: Bscr,
            bsemi: bsemi,
            bsim: bsim,
            bsime: bsime,
            bsolb: bsolb,
            bsol: bsol,
            bsolhsub: bsolhsub,
            bull: bull,
            bullet: bullet,
            bump: bump,
            bumpE: bumpE,
            bumpe: bumpe,
            Bumpeq: Bumpeq,
            bumpeq: bumpeq,
            Cacute: Cacute,
            cacute: cacute,
            capand: capand,
            capbrcup: capbrcup,
            capcap: capcap,
            cap: cap,
            Cap: Cap,
            capcup: capcup,
            capdot: capdot,
            CapitalDifferentialD: CapitalDifferentialD,
            caps: caps,
            caret: caret,
            caron: caron,
            Cayleys: Cayleys,
            ccaps: ccaps,
            Ccaron: Ccaron,
            ccaron: ccaron,
            Ccedil: Ccedil,
            ccedil: ccedil,
            Ccirc: Ccirc,
            ccirc: ccirc,
            Cconint: Cconint,
            ccups: ccups,
            ccupssm: ccupssm,
            Cdot: Cdot,
            cdot: cdot,
            cedil: cedil,
            Cedilla: Cedilla,
            cemptyv: cemptyv,
            cent: cent,
            centerdot: centerdot,
            CenterDot: CenterDot,
            cfr: cfr,
            Cfr: Cfr,
            CHcy: CHcy,
            chcy: chcy,
            check: check,
            checkmark: checkmark,
            Chi: Chi,
            chi: chi,
            circ: circ,
            circeq: circeq,
            circlearrowleft: circlearrowleft,
            circlearrowright: circlearrowright,
            circledast: circledast,
            circledcirc: circledcirc,
            circleddash: circleddash,
            CircleDot: CircleDot,
            circledR: circledR,
            circledS: circledS,
            CircleMinus: CircleMinus,
            CirclePlus: CirclePlus,
            CircleTimes: CircleTimes,
            cir: cir,
            cirE: cirE,
            cire: cire,
            cirfnint: cirfnint,
            cirmid: cirmid,
            cirscir: cirscir,
            ClockwiseContourIntegral: ClockwiseContourIntegral,
            CloseCurlyDoubleQuote: CloseCurlyDoubleQuote,
            CloseCurlyQuote: CloseCurlyQuote,
            clubs: clubs,
            clubsuit: clubsuit,
            colon: colon,
            Colon: Colon,
            Colone: Colone,
            colone: colone,
            coloneq: coloneq,
            comma: comma,
            commat: commat,
            comp: comp,
            compfn: compfn,
            complement: complement,
            complexes: complexes,
            cong: cong,
            congdot: congdot,
            Congruent: Congruent,
            conint: conint,
            Conint: Conint,
            ContourIntegral: ContourIntegral,
            copf: copf,
            Copf: Copf,
            coprod: coprod,
            Coproduct: Coproduct,
            copy: copy,
            COPY: COPY,
            copysr: copysr,
            CounterClockwiseContourIntegral: CounterClockwiseContourIntegral,
            crarr: crarr,
            cross: cross,
            Cross: Cross,
            Cscr: Cscr,
            cscr: cscr,
            csub: csub,
            csube: csube,
            csup: csup,
            csupe: csupe,
            ctdot: ctdot,
            cudarrl: cudarrl,
            cudarrr: cudarrr,
            cuepr: cuepr,
            cuesc: cuesc,
            cularr: cularr,
            cularrp: cularrp,
            cupbrcap: cupbrcap,
            cupcap: cupcap,
            CupCap: CupCap,
            cup: cup,
            Cup: Cup,
            cupcup: cupcup,
            cupdot: cupdot,
            cupor: cupor,
            cups: cups,
            curarr: curarr,
            curarrm: curarrm,
            curlyeqprec: curlyeqprec,
            curlyeqsucc: curlyeqsucc,
            curlyvee: curlyvee,
            curlywedge: curlywedge,
            curren: curren,
            curvearrowleft: curvearrowleft,
            curvearrowright: curvearrowright,
            cuvee: cuvee,
            cuwed: cuwed,
            cwconint: cwconint,
            cwint: cwint,
            cylcty: cylcty,
            dagger: dagger,
            Dagger: Dagger,
            daleth: daleth,
            darr: darr,
            Darr: Darr,
            dArr: dArr,
            dash: dash,
            Dashv: Dashv,
            dashv: dashv,
            dbkarow: dbkarow,
            dblac: dblac,
            Dcaron: Dcaron,
            dcaron: dcaron,
            Dcy: Dcy,
            dcy: dcy,
            ddagger: ddagger,
            ddarr: ddarr,
            DD: DD,
            dd: dd,
            DDotrahd: DDotrahd,
            ddotseq: ddotseq,
            deg: deg,
            Del: Del,
            Delta: Delta,
            delta: delta,
            demptyv: demptyv,
            dfisht: dfisht,
            Dfr: Dfr,
            dfr: dfr,
            dHar: dHar,
            dharl: dharl,
            dharr: dharr,
            DiacriticalAcute: DiacriticalAcute,
            DiacriticalDot: DiacriticalDot,
            DiacriticalDoubleAcute: DiacriticalDoubleAcute,
            DiacriticalGrave: DiacriticalGrave,
            DiacriticalTilde: DiacriticalTilde,
            diam: diam,
            diamond: diamond,
            Diamond: Diamond,
            diamondsuit: diamondsuit,
            diams: diams,
            die: die,
            DifferentialD: DifferentialD,
            digamma: digamma,
            disin: disin,
            div: div,
            divide: divide,
            divideontimes: divideontimes,
            divonx: divonx,
            DJcy: DJcy,
            djcy: djcy,
            dlcorn: dlcorn,
            dlcrop: dlcrop,
            dollar: dollar,
            Dopf: Dopf,
            dopf: dopf,
            Dot: Dot,
            dot: dot,
            DotDot: DotDot,
            doteq: doteq,
            doteqdot: doteqdot,
            DotEqual: DotEqual,
            dotminus: dotminus,
            dotplus: dotplus,
            dotsquare: dotsquare,
            doublebarwedge: doublebarwedge,
            DoubleContourIntegral: DoubleContourIntegral,
            DoubleDot: DoubleDot,
            DoubleDownArrow: DoubleDownArrow,
            DoubleLeftArrow: DoubleLeftArrow,
            DoubleLeftRightArrow: DoubleLeftRightArrow,
            DoubleLeftTee: DoubleLeftTee,
            DoubleLongLeftArrow: DoubleLongLeftArrow,
            DoubleLongLeftRightArrow: DoubleLongLeftRightArrow,
            DoubleLongRightArrow: DoubleLongRightArrow,
            DoubleRightArrow: DoubleRightArrow,
            DoubleRightTee: DoubleRightTee,
            DoubleUpArrow: DoubleUpArrow,
            DoubleUpDownArrow: DoubleUpDownArrow,
            DoubleVerticalBar: DoubleVerticalBar,
            DownArrowBar: DownArrowBar,
            downarrow: downarrow,
            DownArrow: DownArrow,
            Downarrow: Downarrow,
            DownArrowUpArrow: DownArrowUpArrow,
            DownBreve: DownBreve,
            downdownarrows: downdownarrows,
            downharpoonleft: downharpoonleft,
            downharpoonright: downharpoonright,
            DownLeftRightVector: DownLeftRightVector,
            DownLeftTeeVector: DownLeftTeeVector,
            DownLeftVectorBar: DownLeftVectorBar,
            DownLeftVector: DownLeftVector,
            DownRightTeeVector: DownRightTeeVector,
            DownRightVectorBar: DownRightVectorBar,
            DownRightVector: DownRightVector,
            DownTeeArrow: DownTeeArrow,
            DownTee: DownTee,
            drbkarow: drbkarow,
            drcorn: drcorn,
            drcrop: drcrop,
            Dscr: Dscr,
            dscr: dscr,
            DScy: DScy,
            dscy: dscy,
            dsol: dsol,
            Dstrok: Dstrok,
            dstrok: dstrok,
            dtdot: dtdot,
            dtri: dtri,
            dtrif: dtrif,
            duarr: duarr,
            duhar: duhar,
            dwangle: dwangle,
            DZcy: DZcy,
            dzcy: dzcy,
            dzigrarr: dzigrarr,
            Eacute: Eacute,
            eacute: eacute,
            easter: easter,
            Ecaron: Ecaron,
            ecaron: ecaron,
            Ecirc: Ecirc,
            ecirc: ecirc,
            ecir: ecir,
            ecolon: ecolon,
            Ecy: Ecy,
            ecy: ecy,
            eDDot: eDDot,
            Edot: Edot,
            edot: edot,
            eDot: eDot,
            ee: ee,
            efDot: efDot,
            Efr: Efr,
            efr: efr,
            eg: eg,
            Egrave: Egrave,
            egrave: egrave,
            egs: egs,
            egsdot: egsdot,
            el: el,
            Element: Element,
            elinters: elinters,
            ell: ell,
            els: els,
            elsdot: elsdot,
            Emacr: Emacr,
            emacr: emacr,
            empty: empty,
            emptyset: emptyset,
            EmptySmallSquare: EmptySmallSquare,
            emptyv: emptyv,
            EmptyVerySmallSquare: EmptyVerySmallSquare,
            emsp13: emsp13,
            emsp14: emsp14,
            emsp: emsp,
            ENG: ENG,
            eng: eng,
            ensp: ensp,
            Eogon: Eogon,
            eogon: eogon,
            Eopf: Eopf,
            eopf: eopf,
            epar: epar,
            eparsl: eparsl,
            eplus: eplus,
            epsi: epsi,
            Epsilon: Epsilon,
            epsilon: epsilon,
            epsiv: epsiv,
            eqcirc: eqcirc,
            eqcolon: eqcolon,
            eqsim: eqsim,
            eqslantgtr: eqslantgtr,
            eqslantless: eqslantless,
            Equal: Equal,
            equals: equals,
            EqualTilde: EqualTilde,
            equest: equest,
            Equilibrium: Equilibrium,
            equiv: equiv,
            equivDD: equivDD,
            eqvparsl: eqvparsl,
            erarr: erarr,
            erDot: erDot,
            escr: escr,
            Escr: Escr,
            esdot: esdot,
            Esim: Esim,
            esim: esim,
            Eta: Eta,
            eta: eta,
            ETH: ETH,
            eth: eth,
            Euml: Euml,
            euml: euml,
            euro: euro,
            excl: excl,
            exist: exist,
            Exists: Exists,
            expectation: expectation,
            exponentiale: exponentiale,
            ExponentialE: ExponentialE,
            fallingdotseq: fallingdotseq,
            Fcy: Fcy,
            fcy: fcy,
            female: female,
            ffilig: ffilig,
            fflig: fflig,
            ffllig: ffllig,
            Ffr: Ffr,
            ffr: ffr,
            filig: filig,
            FilledSmallSquare: FilledSmallSquare,
            FilledVerySmallSquare: FilledVerySmallSquare,
            fjlig: fjlig,
            flat: flat,
            fllig: fllig,
            fltns: fltns,
            fnof: fnof,
            Fopf: Fopf,
            fopf: fopf,
            forall: forall,
            ForAll: ForAll,
            fork: fork,
            forkv: forkv,
            Fouriertrf: Fouriertrf,
            fpartint: fpartint,
            frac12: frac12,
            frac13: frac13,
            frac14: frac14,
            frac15: frac15,
            frac16: frac16,
            frac18: frac18,
            frac23: frac23,
            frac25: frac25,
            frac34: frac34,
            frac35: frac35,
            frac38: frac38,
            frac45: frac45,
            frac56: frac56,
            frac58: frac58,
            frac78: frac78,
            frasl: frasl,
            frown: frown,
            fscr: fscr,
            Fscr: Fscr,
            gacute: gacute,
            Gamma: Gamma,
            gamma: gamma,
            Gammad: Gammad,
            gammad: gammad,
            gap: gap,
            Gbreve: Gbreve,
            gbreve: gbreve,
            Gcedil: Gcedil,
            Gcirc: Gcirc,
            gcirc: gcirc,
            Gcy: Gcy,
            gcy: gcy,
            Gdot: Gdot,
            gdot: gdot,
            ge: ge,
            gE: gE,
            gEl: gEl,
            gel: gel,
            geq: geq,
            geqq: geqq,
            geqslant: geqslant,
            gescc: gescc,
            ges: ges,
            gesdot: gesdot,
            gesdoto: gesdoto,
            gesdotol: gesdotol,
            gesl: gesl,
            gesles: gesles,
            Gfr: Gfr,
            gfr: gfr,
            gg: gg,
            Gg: Gg,
            ggg: ggg,
            gimel: gimel,
            GJcy: GJcy,
            gjcy: gjcy,
            gla: gla,
            gl: gl,
            glE: glE,
            glj: glj,
            gnap: gnap,
            gnapprox: gnapprox,
            gne: gne,
            gnE: gnE,
            gneq: gneq,
            gneqq: gneqq,
            gnsim: gnsim,
            Gopf: Gopf,
            gopf: gopf,
            grave: grave,
            GreaterEqual: GreaterEqual,
            GreaterEqualLess: GreaterEqualLess,
            GreaterFullEqual: GreaterFullEqual,
            GreaterGreater: GreaterGreater,
            GreaterLess: GreaterLess,
            GreaterSlantEqual: GreaterSlantEqual,
            GreaterTilde: GreaterTilde,
            Gscr: Gscr,
            gscr: gscr,
            gsim: gsim,
            gsime: gsime,
            gsiml: gsiml,
            gtcc: gtcc,
            gtcir: gtcir,
            gt: gt,
            GT: GT,
            Gt: Gt,
            gtdot: gtdot,
            gtlPar: gtlPar,
            gtquest: gtquest,
            gtrapprox: gtrapprox,
            gtrarr: gtrarr,
            gtrdot: gtrdot,
            gtreqless: gtreqless,
            gtreqqless: gtreqqless,
            gtrless: gtrless,
            gtrsim: gtrsim,
            gvertneqq: gvertneqq,
            gvnE: gvnE,
            Hacek: Hacek,
            hairsp: hairsp,
            half: half,
            hamilt: hamilt,
            HARDcy: HARDcy,
            hardcy: hardcy,
            harrcir: harrcir,
            harr: harr,
            hArr: hArr,
            harrw: harrw,
            Hat: Hat,
            hbar: hbar,
            Hcirc: Hcirc,
            hcirc: hcirc,
            hearts: hearts,
            heartsuit: heartsuit,
            hellip: hellip,
            hercon: hercon,
            hfr: hfr,
            Hfr: Hfr,
            HilbertSpace: HilbertSpace,
            hksearow: hksearow,
            hkswarow: hkswarow,
            hoarr: hoarr,
            homtht: homtht,
            hookleftarrow: hookleftarrow,
            hookrightarrow: hookrightarrow,
            hopf: hopf,
            Hopf: Hopf,
            horbar: horbar,
            HorizontalLine: HorizontalLine,
            hscr: hscr,
            Hscr: Hscr,
            hslash: hslash,
            Hstrok: Hstrok,
            hstrok: hstrok,
            HumpDownHump: HumpDownHump,
            HumpEqual: HumpEqual,
            hybull: hybull,
            hyphen: hyphen,
            Iacute: Iacute,
            iacute: iacute,
            ic: ic,
            Icirc: Icirc,
            icirc: icirc,
            Icy: Icy,
            icy: icy,
            Idot: Idot,
            IEcy: IEcy,
            iecy: iecy,
            iexcl: iexcl,
            iff: iff,
            ifr: ifr,
            Ifr: Ifr,
            Igrave: Igrave,
            igrave: igrave,
            ii: ii,
            iiiint: iiiint,
            iiint: iiint,
            iinfin: iinfin,
            iiota: iiota,
            IJlig: IJlig,
            ijlig: ijlig,
            Imacr: Imacr,
            imacr: imacr,
            image: image,
            ImaginaryI: ImaginaryI,
            imagline: imagline,
            imagpart: imagpart,
            imath: imath,
            Im: Im,
            imof: imof,
            imped: imped,
            Implies: Implies,
            incare: incare,
            "in": "",
            infin: infin,
            infintie: infintie,
            inodot: inodot,
            intcal: intcal,
            int: int,
            Int: Int,
            integers: integers,
            Integral: Integral,
            intercal: intercal,
            Intersection: Intersection,
            intlarhk: intlarhk,
            intprod: intprod,
            InvisibleComma: InvisibleComma,
            InvisibleTimes: InvisibleTimes,
            IOcy: IOcy,
            iocy: iocy,
            Iogon: Iogon,
            iogon: iogon,
            Iopf: Iopf,
            iopf: iopf,
            Iota: Iota,
            iota: iota,
            iprod: iprod,
            iquest: iquest,
            iscr: iscr,
            Iscr: Iscr,
            isin: isin,
            isindot: isindot,
            isinE: isinE,
            isins: isins,
            isinsv: isinsv,
            isinv: isinv,
            it: it,
            Itilde: Itilde,
            itilde: itilde,
            Iukcy: Iukcy,
            iukcy: iukcy,
            Iuml: Iuml,
            iuml: iuml,
            Jcirc: Jcirc,
            jcirc: jcirc,
            Jcy: Jcy,
            jcy: jcy,
            Jfr: Jfr,
            jfr: jfr,
            jmath: jmath,
            Jopf: Jopf,
            jopf: jopf,
            Jscr: Jscr,
            jscr: jscr,
            Jsercy: Jsercy,
            jsercy: jsercy,
            Jukcy: Jukcy,
            jukcy: jukcy,
            Kappa: Kappa,
            kappa: kappa,
            kappav: kappav,
            Kcedil: Kcedil,
            kcedil: kcedil,
            Kcy: Kcy,
            kcy: kcy,
            Kfr: Kfr,
            kfr: kfr,
            kgreen: kgreen,
            KHcy: KHcy,
            khcy: khcy,
            KJcy: KJcy,
            kjcy: kjcy,
            Kopf: Kopf,
            kopf: kopf,
            Kscr: Kscr,
            kscr: kscr,
            lAarr: lAarr,
            Lacute: Lacute,
            lacute: lacute,
            laemptyv: laemptyv,
            lagran: lagran,
            Lambda: Lambda,
            lambda: lambda,
            lang: lang,
            Lang: Lang,
            langd: langd,
            langle: langle,
            lap: lap,
            Laplacetrf: Laplacetrf,
            laquo: laquo,
            larrb: larrb,
            larrbfs: larrbfs,
            larr: larr,
            Larr: Larr,
            lArr: lArr,
            larrfs: larrfs,
            larrhk: larrhk,
            larrlp: larrlp,
            larrpl: larrpl,
            larrsim: larrsim,
            larrtl: larrtl,
            latail: latail,
            lAtail: lAtail,
            lat: lat,
            late: late,
            lates: lates,
            lbarr: lbarr,
            lBarr: lBarr,
            lbbrk: lbbrk,
            lbrace: lbrace,
            lbrack: lbrack,
            lbrke: lbrke,
            lbrksld: lbrksld,
            lbrkslu: lbrkslu,
            Lcaron: Lcaron,
            lcaron: lcaron,
            Lcedil: Lcedil,
            lcedil: lcedil,
            lceil: lceil,
            lcub: lcub,
            Lcy: Lcy,
            lcy: lcy,
            ldca: ldca,
            ldquo: ldquo,
            ldquor: ldquor,
            ldrdhar: ldrdhar,
            ldrushar: ldrushar,
            ldsh: ldsh,
            le: le,
            lE: lE,
            LeftAngleBracket: LeftAngleBracket,
            LeftArrowBar: LeftArrowBar,
            leftarrow: leftarrow,
            LeftArrow: LeftArrow,
            Leftarrow: Leftarrow,
            LeftArrowRightArrow: LeftArrowRightArrow,
            leftarrowtail: leftarrowtail,
            LeftCeiling: LeftCeiling,
            LeftDoubleBracket: LeftDoubleBracket,
            LeftDownTeeVector: LeftDownTeeVector,
            LeftDownVectorBar: LeftDownVectorBar,
            LeftDownVector: LeftDownVector,
            LeftFloor: LeftFloor,
            leftharpoondown: leftharpoondown,
            leftharpoonup: leftharpoonup,
            leftleftarrows: leftleftarrows,
            leftrightarrow: leftrightarrow,
            LeftRightArrow: LeftRightArrow,
            Leftrightarrow: Leftrightarrow,
            leftrightarrows: leftrightarrows,
            leftrightharpoons: leftrightharpoons,
            leftrightsquigarrow: leftrightsquigarrow,
            LeftRightVector: LeftRightVector,
            LeftTeeArrow: LeftTeeArrow,
            LeftTee: LeftTee,
            LeftTeeVector: LeftTeeVector,
            leftthreetimes: leftthreetimes,
            LeftTriangleBar: LeftTriangleBar,
            LeftTriangle: LeftTriangle,
            LeftTriangleEqual: LeftTriangleEqual,
            LeftUpDownVector: LeftUpDownVector,
            LeftUpTeeVector: LeftUpTeeVector,
            LeftUpVectorBar: LeftUpVectorBar,
            LeftUpVector: LeftUpVector,
            LeftVectorBar: LeftVectorBar,
            LeftVector: LeftVector,
            lEg: lEg,
            leg: leg,
            leq: leq,
            leqq: leqq,
            leqslant: leqslant,
            lescc: lescc,
            les: les,
            lesdot: lesdot,
            lesdoto: lesdoto,
            lesdotor: lesdotor,
            lesg: lesg,
            lesges: lesges,
            lessapprox: lessapprox,
            lessdot: lessdot,
            lesseqgtr: lesseqgtr,
            lesseqqgtr: lesseqqgtr,
            LessEqualGreater: LessEqualGreater,
            LessFullEqual: LessFullEqual,
            LessGreater: LessGreater,
            lessgtr: lessgtr,
            LessLess: LessLess,
            lesssim: lesssim,
            LessSlantEqual: LessSlantEqual,
            LessTilde: LessTilde,
            lfisht: lfisht,
            lfloor: lfloor,
            Lfr: Lfr,
            lfr: lfr,
            lg: lg,
            lgE: lgE,
            lHar: lHar,
            lhard: lhard,
            lharu: lharu,
            lharul: lharul,
            lhblk: lhblk,
            LJcy: LJcy,
            ljcy: ljcy,
            llarr: llarr,
            ll: ll,
            Ll: Ll,
            llcorner: llcorner,
            Lleftarrow: Lleftarrow,
            llhard: llhard,
            lltri: lltri,
            Lmidot: Lmidot,
            lmidot: lmidot,
            lmoustache: lmoustache,
            lmoust: lmoust,
            lnap: lnap,
            lnapprox: lnapprox,
            lne: lne,
            lnE: lnE,
            lneq: lneq,
            lneqq: lneqq,
            lnsim: lnsim,
            loang: loang,
            loarr: loarr,
            lobrk: lobrk,
            longleftarrow: longleftarrow,
            LongLeftArrow: LongLeftArrow,
            Longleftarrow: Longleftarrow,
            longleftrightarrow: longleftrightarrow,
            LongLeftRightArrow: LongLeftRightArrow,
            Longleftrightarrow: Longleftrightarrow,
            longmapsto: longmapsto,
            longrightarrow: longrightarrow,
            LongRightArrow: LongRightArrow,
            Longrightarrow: Longrightarrow,
            looparrowleft: looparrowleft,
            looparrowright: looparrowright,
            lopar: lopar,
            Lopf: Lopf,
            lopf: lopf,
            loplus: loplus,
            lotimes: lotimes,
            lowast: lowast,
            lowbar: lowbar,
            LowerLeftArrow: LowerLeftArrow,
            LowerRightArrow: LowerRightArrow,
            loz: loz,
            lozenge: lozenge,
            lozf: lozf,
            lpar: lpar,
            lparlt: lparlt,
            lrarr: lrarr,
            lrcorner: lrcorner,
            lrhar: lrhar,
            lrhard: lrhard,
            lrm: lrm,
            lrtri: lrtri,
            lsaquo: lsaquo,
            lscr: lscr,
            Lscr: Lscr,
            lsh: lsh,
            Lsh: Lsh,
            lsim: lsim,
            lsime: lsime,
            lsimg: lsimg,
            lsqb: lsqb,
            lsquo: lsquo,
            lsquor: lsquor,
            Lstrok: Lstrok,
            lstrok: lstrok,
            ltcc: ltcc,
            ltcir: ltcir,
            lt: lt,
            LT: LT,
            Lt: Lt,
            ltdot: ltdot,
            lthree: lthree,
            ltimes: ltimes,
            ltlarr: ltlarr,
            ltquest: ltquest,
            ltri: ltri,
            ltrie: ltrie,
            ltrif: ltrif,
            ltrPar: ltrPar,
            lurdshar: lurdshar,
            luruhar: luruhar,
            lvertneqq: lvertneqq,
            lvnE: lvnE,
            macr: macr,
            male: male,
            malt: malt,
            maltese: maltese,
            "Map": "",
            map: map,
            mapsto: mapsto,
            mapstodown: mapstodown,
            mapstoleft: mapstoleft,
            mapstoup: mapstoup,
            marker: marker,
            mcomma: mcomma,
            Mcy: Mcy,
            mcy: mcy,
            mdash: mdash,
            mDDot: mDDot,
            measuredangle: measuredangle,
            MediumSpace: MediumSpace,
            Mellintrf: Mellintrf,
            Mfr: Mfr,
            mfr: mfr,
            mho: mho,
            micro: micro,
            midast: midast,
            midcir: midcir,
            mid: mid,
            middot: middot,
            minusb: minusb,
            minus: minus,
            minusd: minusd,
            minusdu: minusdu,
            MinusPlus: MinusPlus,
            mlcp: mlcp,
            mldr: mldr,
            mnplus: mnplus,
            models: models,
            Mopf: Mopf,
            mopf: mopf,
            mp: mp,
            mscr: mscr,
            Mscr: Mscr,
            mstpos: mstpos,
            Mu: Mu,
            mu: mu,
            multimap: multimap,
            mumap: mumap,
            nabla: nabla,
            Nacute: Nacute,
            nacute: nacute,
            nang: nang,
            nap: nap,
            napE: napE,
            napid: napid,
            napos: napos,
            napprox: napprox,
            natural: natural,
            naturals: naturals,
            natur: natur,
            nbsp: nbsp,
            nbump: nbump,
            nbumpe: nbumpe,
            ncap: ncap,
            Ncaron: Ncaron,
            ncaron: ncaron,
            Ncedil: Ncedil,
            ncedil: ncedil,
            ncong: ncong,
            ncongdot: ncongdot,
            ncup: ncup,
            Ncy: Ncy,
            ncy: ncy,
            ndash: ndash,
            nearhk: nearhk,
            nearr: nearr,
            neArr: neArr,
            nearrow: nearrow,
            ne: ne,
            nedot: nedot,
            NegativeMediumSpace: NegativeMediumSpace,
            NegativeThickSpace: NegativeThickSpace,
            NegativeThinSpace: NegativeThinSpace,
            NegativeVeryThinSpace: NegativeVeryThinSpace,
            nequiv: nequiv,
            nesear: nesear,
            nesim: nesim,
            NestedGreaterGreater: NestedGreaterGreater,
            NestedLessLess: NestedLessLess,
            NewLine: NewLine,
            nexist: nexist,
            nexists: nexists,
            Nfr: Nfr,
            nfr: nfr,
            ngE: ngE,
            nge: nge,
            ngeq: ngeq,
            ngeqq: ngeqq,
            ngeqslant: ngeqslant,
            nges: nges,
            nGg: nGg,
            ngsim: ngsim,
            nGt: nGt,
            ngt: ngt,
            ngtr: ngtr,
            nGtv: nGtv,
            nharr: nharr,
            nhArr: nhArr,
            nhpar: nhpar,
            ni: ni,
            nis: nis,
            nisd: nisd,
            niv: niv,
            NJcy: NJcy,
            njcy: njcy,
            nlarr: nlarr,
            nlArr: nlArr,
            nldr: nldr,
            nlE: nlE,
            nle: nle,
            nleftarrow: nleftarrow,
            nLeftarrow: nLeftarrow,
            nleftrightarrow: nleftrightarrow,
            nLeftrightarrow: nLeftrightarrow,
            nleq: nleq,
            nleqq: nleqq,
            nleqslant: nleqslant,
            nles: nles,
            nless: nless,
            nLl: nLl,
            nlsim: nlsim,
            nLt: nLt,
            nlt: nlt,
            nltri: nltri,
            nltrie: nltrie,
            nLtv: nLtv,
            nmid: nmid,
            NoBreak: NoBreak,
            NonBreakingSpace: NonBreakingSpace,
            nopf: nopf,
            Nopf: Nopf,
            Not: Not,
            not: not,
            NotCongruent: NotCongruent,
            NotCupCap: NotCupCap,
            NotDoubleVerticalBar: NotDoubleVerticalBar,
            NotElement: NotElement,
            NotEqual: NotEqual,
            NotEqualTilde: NotEqualTilde,
            NotExists: NotExists,
            NotGreater: NotGreater,
            NotGreaterEqual: NotGreaterEqual,
            NotGreaterFullEqual: NotGreaterFullEqual,
            NotGreaterGreater: NotGreaterGreater,
            NotGreaterLess: NotGreaterLess,
            NotGreaterSlantEqual: NotGreaterSlantEqual,
            NotGreaterTilde: NotGreaterTilde,
            NotHumpDownHump: NotHumpDownHump,
            NotHumpEqual: NotHumpEqual,
            notin: notin,
            notindot: notindot,
            notinE: notinE,
            notinva: notinva,
            notinvb: notinvb,
            notinvc: notinvc,
            NotLeftTriangleBar: NotLeftTriangleBar,
            NotLeftTriangle: NotLeftTriangle,
            NotLeftTriangleEqual: NotLeftTriangleEqual,
            NotLess: NotLess,
            NotLessEqual: NotLessEqual,
            NotLessGreater: NotLessGreater,
            NotLessLess: NotLessLess,
            NotLessSlantEqual: NotLessSlantEqual,
            NotLessTilde: NotLessTilde,
            NotNestedGreaterGreater: NotNestedGreaterGreater,
            NotNestedLessLess: NotNestedLessLess,
            notni: notni,
            notniva: notniva,
            notnivb: notnivb,
            notnivc: notnivc,
            NotPrecedes: NotPrecedes,
            NotPrecedesEqual: NotPrecedesEqual,
            NotPrecedesSlantEqual: NotPrecedesSlantEqual,
            NotReverseElement: NotReverseElement,
            NotRightTriangleBar: NotRightTriangleBar,
            NotRightTriangle: NotRightTriangle,
            NotRightTriangleEqual: NotRightTriangleEqual,
            NotSquareSubset: NotSquareSubset,
            NotSquareSubsetEqual: NotSquareSubsetEqual,
            NotSquareSuperset: NotSquareSuperset,
            NotSquareSupersetEqual: NotSquareSupersetEqual,
            NotSubset: NotSubset,
            NotSubsetEqual: NotSubsetEqual,
            NotSucceeds: NotSucceeds,
            NotSucceedsEqual: NotSucceedsEqual,
            NotSucceedsSlantEqual: NotSucceedsSlantEqual,
            NotSucceedsTilde: NotSucceedsTilde,
            NotSuperset: NotSuperset,
            NotSupersetEqual: NotSupersetEqual,
            NotTilde: NotTilde,
            NotTildeEqual: NotTildeEqual,
            NotTildeFullEqual: NotTildeFullEqual,
            NotTildeTilde: NotTildeTilde,
            NotVerticalBar: NotVerticalBar,
            nparallel: nparallel,
            npar: npar,
            nparsl: nparsl,
            npart: npart,
            npolint: npolint,
            npr: npr,
            nprcue: nprcue,
            nprec: nprec,
            npreceq: npreceq,
            npre: npre,
            nrarrc: nrarrc,
            nrarr: nrarr,
            nrArr: nrArr,
            nrarrw: nrarrw,
            nrightarrow: nrightarrow,
            nRightarrow: nRightarrow,
            nrtri: nrtri,
            nrtrie: nrtrie,
            nsc: nsc,
            nsccue: nsccue,
            nsce: nsce,
            Nscr: Nscr,
            nscr: nscr,
            nshortmid: nshortmid,
            nshortparallel: nshortparallel,
            nsim: nsim,
            nsime: nsime,
            nsimeq: nsimeq,
            nsmid: nsmid,
            nspar: nspar,
            nsqsube: nsqsube,
            nsqsupe: nsqsupe,
            nsub: nsub,
            nsubE: nsubE,
            nsube: nsube,
            nsubset: nsubset,
            nsubseteq: nsubseteq,
            nsubseteqq: nsubseteqq,
            nsucc: nsucc,
            nsucceq: nsucceq,
            nsup: nsup,
            nsupE: nsupE,
            nsupe: nsupe,
            nsupset: nsupset,
            nsupseteq: nsupseteq,
            nsupseteqq: nsupseteqq,
            ntgl: ntgl,
            Ntilde: Ntilde,
            ntilde: ntilde,
            ntlg: ntlg,
            ntriangleleft: ntriangleleft,
            ntrianglelefteq: ntrianglelefteq,
            ntriangleright: ntriangleright,
            ntrianglerighteq: ntrianglerighteq,
            Nu: Nu,
            nu: nu,
            num: num,
            numero: numero,
            numsp: numsp,
            nvap: nvap,
            nvdash: nvdash,
            nvDash: nvDash,
            nVdash: nVdash,
            nVDash: nVDash,
            nvge: nvge,
            nvgt: nvgt,
            nvHarr: nvHarr,
            nvinfin: nvinfin,
            nvlArr: nvlArr,
            nvle: nvle,
            nvlt: nvlt,
            nvltrie: nvltrie,
            nvrArr: nvrArr,
            nvrtrie: nvrtrie,
            nvsim: nvsim,
            nwarhk: nwarhk,
            nwarr: nwarr,
            nwArr: nwArr,
            nwarrow: nwarrow,
            nwnear: nwnear,
            Oacute: Oacute,
            oacute: oacute,
            oast: oast,
            Ocirc: Ocirc,
            ocirc: ocirc,
            ocir: ocir,
            Ocy: Ocy,
            ocy: ocy,
            odash: odash,
            Odblac: Odblac,
            odblac: odblac,
            odiv: odiv,
            odot: odot,
            odsold: odsold,
            OElig: OElig,
            oelig: oelig,
            ofcir: ofcir,
            Ofr: Ofr,
            ofr: ofr,
            ogon: ogon,
            Ograve: Ograve,
            ograve: ograve,
            ogt: ogt,
            ohbar: ohbar,
            ohm: ohm,
            oint: oint,
            olarr: olarr,
            olcir: olcir,
            olcross: olcross,
            oline: oline,
            olt: olt,
            Omacr: Omacr,
            omacr: omacr,
            Omega: Omega,
            omega: omega,
            Omicron: Omicron,
            omicron: omicron,
            omid: omid,
            ominus: ominus,
            Oopf: Oopf,
            oopf: oopf,
            opar: opar,
            OpenCurlyDoubleQuote: OpenCurlyDoubleQuote,
            OpenCurlyQuote: OpenCurlyQuote,
            operp: operp,
            oplus: oplus,
            orarr: orarr,
            Or: Or,
            or: or,
            ord: ord,
            order: order,
            orderof: orderof,
            ordf: ordf,
            ordm: ordm,
            origof: origof,
            oror: oror,
            orslope: orslope,
            orv: orv,
            oS: oS,
            Oscr: Oscr,
            oscr: oscr,
            Oslash: Oslash,
            oslash: oslash,
            osol: osol,
            Otilde: Otilde,
            otilde: otilde,
            otimesas: otimesas,
            Otimes: Otimes,
            otimes: otimes,
            Ouml: Ouml,
            ouml: ouml,
            ovbar: ovbar,
            OverBar: OverBar,
            OverBrace: OverBrace,
            OverBracket: OverBracket,
            OverParenthesis: OverParenthesis,
            para: para,
            parallel: parallel,
            par: par,
            parsim: parsim,
            parsl: parsl,
            part: part,
            PartialD: PartialD,
            Pcy: Pcy,
            pcy: pcy,
            percnt: percnt,
            period: period,
            permil: permil,
            perp: perp,
            pertenk: pertenk,
            Pfr: Pfr,
            pfr: pfr,
            Phi: Phi,
            phi: phi,
            phiv: phiv,
            phmmat: phmmat,
            phone: phone,
            Pi: Pi,
            pi: pi,
            pitchfork: pitchfork,
            piv: piv,
            planck: planck,
            planckh: planckh,
            plankv: plankv,
            plusacir: plusacir,
            plusb: plusb,
            pluscir: pluscir,
            plus: plus,
            plusdo: plusdo,
            plusdu: plusdu,
            pluse: pluse,
            PlusMinus: PlusMinus,
            plusmn: plusmn,
            plussim: plussim,
            plustwo: plustwo,
            pm: pm,
            Poincareplane: Poincareplane,
            pointint: pointint,
            popf: popf,
            Popf: Popf,
            pound: pound,
            prap: prap,
            Pr: Pr,
            pr: pr,
            prcue: prcue,
            precapprox: precapprox,
            prec: prec,
            preccurlyeq: preccurlyeq,
            Precedes: Precedes,
            PrecedesEqual: PrecedesEqual,
            PrecedesSlantEqual: PrecedesSlantEqual,
            PrecedesTilde: PrecedesTilde,
            preceq: preceq,
            precnapprox: precnapprox,
            precneqq: precneqq,
            precnsim: precnsim,
            pre: pre,
            prE: prE,
            precsim: precsim,
            prime: prime,
            Prime: Prime,
            primes: primes,
            prnap: prnap,
            prnE: prnE,
            prnsim: prnsim,
            prod: prod,
            Product: Product,
            profalar: profalar,
            profline: profline,
            profsurf: profsurf,
            prop: prop,
            Proportional: Proportional,
            Proportion: Proportion,
            propto: propto,
            prsim: prsim,
            prurel: prurel,
            Pscr: Pscr,
            pscr: pscr,
            Psi: Psi,
            psi: psi,
            puncsp: puncsp,
            Qfr: Qfr,
            qfr: qfr,
            qint: qint,
            qopf: qopf,
            Qopf: Qopf,
            qprime: qprime,
            Qscr: Qscr,
            qscr: qscr,
            quaternions: quaternions,
            quatint: quatint,
            quest: quest,
            questeq: questeq,
            quot: quot,
            QUOT: QUOT,
            rAarr: rAarr,
            race: race,
            Racute: Racute,
            racute: racute,
            radic: radic,
            raemptyv: raemptyv,
            rang: rang,
            Rang: Rang,
            rangd: rangd,
            range: range,
            rangle: rangle,
            raquo: raquo,
            rarrap: rarrap,
            rarrb: rarrb,
            rarrbfs: rarrbfs,
            rarrc: rarrc,
            rarr: rarr,
            Rarr: Rarr,
            rArr: rArr,
            rarrfs: rarrfs,
            rarrhk: rarrhk,
            rarrlp: rarrlp,
            rarrpl: rarrpl,
            rarrsim: rarrsim,
            Rarrtl: Rarrtl,
            rarrtl: rarrtl,
            rarrw: rarrw,
            ratail: ratail,
            rAtail: rAtail,
            ratio: ratio,
            rationals: rationals,
            rbarr: rbarr,
            rBarr: rBarr,
            RBarr: RBarr,
            rbbrk: rbbrk,
            rbrace: rbrace,
            rbrack: rbrack,
            rbrke: rbrke,
            rbrksld: rbrksld,
            rbrkslu: rbrkslu,
            Rcaron: Rcaron,
            rcaron: rcaron,
            Rcedil: Rcedil,
            rcedil: rcedil,
            rceil: rceil,
            rcub: rcub,
            Rcy: Rcy,
            rcy: rcy,
            rdca: rdca,
            rdldhar: rdldhar,
            rdquo: rdquo,
            rdquor: rdquor,
            rdsh: rdsh,
            real: real,
            realine: realine,
            realpart: realpart,
            reals: reals,
            Re: Re,
            rect: rect,
            reg: reg,
            REG: REG,
            ReverseElement: ReverseElement,
            ReverseEquilibrium: ReverseEquilibrium,
            ReverseUpEquilibrium: ReverseUpEquilibrium,
            rfisht: rfisht,
            rfloor: rfloor,
            rfr: rfr,
            Rfr: Rfr,
            rHar: rHar,
            rhard: rhard,
            rharu: rharu,
            rharul: rharul,
            Rho: Rho,
            rho: rho,
            rhov: rhov,
            RightAngleBracket: RightAngleBracket,
            RightArrowBar: RightArrowBar,
            rightarrow: rightarrow,
            RightArrow: RightArrow,
            Rightarrow: Rightarrow,
            RightArrowLeftArrow: RightArrowLeftArrow,
            rightarrowtail: rightarrowtail,
            RightCeiling: RightCeiling,
            RightDoubleBracket: RightDoubleBracket,
            RightDownTeeVector: RightDownTeeVector,
            RightDownVectorBar: RightDownVectorBar,
            RightDownVector: RightDownVector,
            RightFloor: RightFloor,
            rightharpoondown: rightharpoondown,
            rightharpoonup: rightharpoonup,
            rightleftarrows: rightleftarrows,
            rightleftharpoons: rightleftharpoons,
            rightrightarrows: rightrightarrows,
            rightsquigarrow: rightsquigarrow,
            RightTeeArrow: RightTeeArrow,
            RightTee: RightTee,
            RightTeeVector: RightTeeVector,
            rightthreetimes: rightthreetimes,
            RightTriangleBar: RightTriangleBar,
            RightTriangle: RightTriangle,
            RightTriangleEqual: RightTriangleEqual,
            RightUpDownVector: RightUpDownVector,
            RightUpTeeVector: RightUpTeeVector,
            RightUpVectorBar: RightUpVectorBar,
            RightUpVector: RightUpVector,
            RightVectorBar: RightVectorBar,
            RightVector: RightVector,
            ring: ring,
            risingdotseq: risingdotseq,
            rlarr: rlarr,
            rlhar: rlhar,
            rlm: rlm,
            rmoustache: rmoustache,
            rmoust: rmoust,
            rnmid: rnmid,
            roang: roang,
            roarr: roarr,
            robrk: robrk,
            ropar: ropar,
            ropf: ropf,
            Ropf: Ropf,
            roplus: roplus,
            rotimes: rotimes,
            RoundImplies: RoundImplies,
            rpar: rpar,
            rpargt: rpargt,
            rppolint: rppolint,
            rrarr: rrarr,
            Rrightarrow: Rrightarrow,
            rsaquo: rsaquo,
            rscr: rscr,
            Rscr: Rscr,
            rsh: rsh,
            Rsh: Rsh,
            rsqb: rsqb,
            rsquo: rsquo,
            rsquor: rsquor,
            rthree: rthree,
            rtimes: rtimes,
            rtri: rtri,
            rtrie: rtrie,
            rtrif: rtrif,
            rtriltri: rtriltri,
            RuleDelayed: RuleDelayed,
            ruluhar: ruluhar,
            rx: rx,
            Sacute: Sacute,
            sacute: sacute,
            sbquo: sbquo,
            scap: scap,
            Scaron: Scaron,
            scaron: scaron,
            Sc: Sc,
            sc: sc,
            sccue: sccue,
            sce: sce,
            scE: scE,
            Scedil: Scedil,
            scedil: scedil,
            Scirc: Scirc,
            scirc: scirc,
            scnap: scnap,
            scnE: scnE,
            scnsim: scnsim,
            scpolint: scpolint,
            scsim: scsim,
            Scy: Scy,
            scy: scy,
            sdotb: sdotb,
            sdot: sdot,
            sdote: sdote,
            searhk: searhk,
            searr: searr,
            seArr: seArr,
            searrow: searrow,
            sect: sect,
            semi: semi,
            seswar: seswar,
            setminus: setminus,
            setmn: setmn,
            sext: sext,
            Sfr: Sfr,
            sfr: sfr,
            sfrown: sfrown,
            sharp: sharp,
            SHCHcy: SHCHcy,
            shchcy: shchcy,
            SHcy: SHcy,
            shcy: shcy,
            ShortDownArrow: ShortDownArrow,
            ShortLeftArrow: ShortLeftArrow,
            shortmid: shortmid,
            shortparallel: shortparallel,
            ShortRightArrow: ShortRightArrow,
            ShortUpArrow: ShortUpArrow,
            shy: shy,
            Sigma: Sigma,
            sigma: sigma,
            sigmaf: sigmaf,
            sigmav: sigmav,
            sim: sim,
            simdot: simdot,
            sime: sime,
            simeq: simeq,
            simg: simg,
            simgE: simgE,
            siml: siml,
            simlE: simlE,
            simne: simne,
            simplus: simplus,
            simrarr: simrarr,
            slarr: slarr,
            SmallCircle: SmallCircle,
            smallsetminus: smallsetminus,
            smashp: smashp,
            smeparsl: smeparsl,
            smid: smid,
            smile: smile,
            smt: smt,
            smte: smte,
            smtes: smtes,
            SOFTcy: SOFTcy,
            softcy: softcy,
            solbar: solbar,
            solb: solb,
            sol: sol,
            Sopf: Sopf,
            sopf: sopf,
            spades: spades,
            spadesuit: spadesuit,
            spar: spar,
            sqcap: sqcap,
            sqcaps: sqcaps,
            sqcup: sqcup,
            sqcups: sqcups,
            Sqrt: Sqrt,
            sqsub: sqsub,
            sqsube: sqsube,
            sqsubset: sqsubset,
            sqsubseteq: sqsubseteq,
            sqsup: sqsup,
            sqsupe: sqsupe,
            sqsupset: sqsupset,
            sqsupseteq: sqsupseteq,
            square: square,
            Square: Square,
            SquareIntersection: SquareIntersection,
            SquareSubset: SquareSubset,
            SquareSubsetEqual: SquareSubsetEqual,
            SquareSuperset: SquareSuperset,
            SquareSupersetEqual: SquareSupersetEqual,
            SquareUnion: SquareUnion,
            squarf: squarf,
            squ: squ,
            squf: squf,
            srarr: srarr,
            Sscr: Sscr,
            sscr: sscr,
            ssetmn: ssetmn,
            ssmile: ssmile,
            sstarf: sstarf,
            Star: Star,
            star: star,
            starf: starf,
            straightepsilon: straightepsilon,
            straightphi: straightphi,
            strns: strns,
            sub: sub,
            Sub: Sub,
            subdot: subdot,
            subE: subE,
            sube: sube,
            subedot: subedot,
            submult: submult,
            subnE: subnE,
            subne: subne,
            subplus: subplus,
            subrarr: subrarr,
            subset: subset,
            Subset: Subset,
            subseteq: subseteq,
            subseteqq: subseteqq,
            SubsetEqual: SubsetEqual,
            subsetneq: subsetneq,
            subsetneqq: subsetneqq,
            subsim: subsim,
            subsub: subsub,
            subsup: subsup,
            succapprox: succapprox,
            succ: succ,
            succcurlyeq: succcurlyeq,
            Succeeds: Succeeds,
            SucceedsEqual: SucceedsEqual,
            SucceedsSlantEqual: SucceedsSlantEqual,
            SucceedsTilde: SucceedsTilde,
            succeq: succeq,
            succnapprox: succnapprox,
            succneqq: succneqq,
            succnsim: succnsim,
            succsim: succsim,
            SuchThat: SuchThat,
            sum: sum,
            Sum: Sum,
            sung: sung,
            sup1: sup1,
            sup2: sup2,
            sup3: sup3,
            sup: sup,
            Sup: Sup,
            supdot: supdot,
            supdsub: supdsub,
            supE: supE,
            supe: supe,
            supedot: supedot,
            Superset: Superset,
            SupersetEqual: SupersetEqual,
            suphsol: suphsol,
            suphsub: suphsub,
            suplarr: suplarr,
            supmult: supmult,
            supnE: supnE,
            supne: supne,
            supplus: supplus,
            supset: supset,
            Supset: Supset,
            supseteq: supseteq,
            supseteqq: supseteqq,
            supsetneq: supsetneq,
            supsetneqq: supsetneqq,
            supsim: supsim,
            supsub: supsub,
            supsup: supsup,
            swarhk: swarhk,
            swarr: swarr,
            swArr: swArr,
            swarrow: swarrow,
            swnwar: swnwar,
            szlig: szlig,
            Tab: Tab,
            target: target,
            Tau: Tau,
            tau: tau,
            tbrk: tbrk,
            Tcaron: Tcaron,
            tcaron: tcaron,
            Tcedil: Tcedil,
            tcedil: tcedil,
            Tcy: Tcy,
            tcy: tcy,
            tdot: tdot,
            telrec: telrec,
            Tfr: Tfr,
            tfr: tfr,
            there4: there4,
            therefore: therefore,
            Therefore: Therefore,
            Theta: Theta,
            theta: theta,
            thetasym: thetasym,
            thetav: thetav,
            thickapprox: thickapprox,
            thicksim: thicksim,
            ThickSpace: ThickSpace,
            ThinSpace: ThinSpace,
            thinsp: thinsp,
            thkap: thkap,
            thksim: thksim,
            THORN: THORN,
            thorn: thorn,
            tilde: tilde,
            Tilde: Tilde,
            TildeEqual: TildeEqual,
            TildeFullEqual: TildeFullEqual,
            TildeTilde: TildeTilde,
            timesbar: timesbar,
            timesb: timesb,
            times: times,
            timesd: timesd,
            tint: tint,
            toea: toea,
            topbot: topbot,
            topcir: topcir,
            top: top,
            Topf: Topf,
            topf: topf,
            topfork: topfork,
            tosa: tosa,
            tprime: tprime,
            trade: trade,
            TRADE: TRADE,
            triangle: triangle,
            triangledown: triangledown,
            triangleleft: triangleleft,
            trianglelefteq: trianglelefteq,
            triangleq: triangleq,
            triangleright: triangleright,
            trianglerighteq: trianglerighteq,
            tridot: tridot,
            trie: trie,
            triminus: triminus,
            TripleDot: TripleDot,
            triplus: triplus,
            trisb: trisb,
            tritime: tritime,
            trpezium: trpezium,
            Tscr: Tscr,
            tscr: tscr,
            TScy: TScy,
            tscy: tscy,
            TSHcy: TSHcy,
            tshcy: tshcy,
            Tstrok: Tstrok,
            tstrok: tstrok,
            twixt: twixt,
            twoheadleftarrow: twoheadleftarrow,
            twoheadrightarrow: twoheadrightarrow,
            Uacute: Uacute,
            uacute: uacute,
            uarr: uarr,
            Uarr: Uarr,
            uArr: uArr,
            Uarrocir: Uarrocir,
            Ubrcy: Ubrcy,
            ubrcy: ubrcy,
            Ubreve: Ubreve,
            ubreve: ubreve,
            Ucirc: Ucirc,
            ucirc: ucirc,
            Ucy: Ucy,
            ucy: ucy,
            udarr: udarr,
            Udblac: Udblac,
            udblac: udblac,
            udhar: udhar,
            ufisht: ufisht,
            Ufr: Ufr,
            ufr: ufr,
            Ugrave: Ugrave,
            ugrave: ugrave,
            uHar: uHar,
            uharl: uharl,
            uharr: uharr,
            uhblk: uhblk,
            ulcorn: ulcorn,
            ulcorner: ulcorner,
            ulcrop: ulcrop,
            ultri: ultri,
            Umacr: Umacr,
            umacr: umacr,
            uml: uml,
            UnderBar: UnderBar,
            UnderBrace: UnderBrace,
            UnderBracket: UnderBracket,
            UnderParenthesis: UnderParenthesis,
            Union: Union,
            UnionPlus: UnionPlus,
            Uogon: Uogon,
            uogon: uogon,
            Uopf: Uopf,
            uopf: uopf,
            UpArrowBar: UpArrowBar,
            uparrow: uparrow,
            UpArrow: UpArrow,
            Uparrow: Uparrow,
            UpArrowDownArrow: UpArrowDownArrow,
            updownarrow: updownarrow,
            UpDownArrow: UpDownArrow,
            Updownarrow: Updownarrow,
            UpEquilibrium: UpEquilibrium,
            upharpoonleft: upharpoonleft,
            upharpoonright: upharpoonright,
            uplus: uplus,
            UpperLeftArrow: UpperLeftArrow,
            UpperRightArrow: UpperRightArrow,
            upsi: upsi,
            Upsi: Upsi,
            upsih: upsih,
            Upsilon: Upsilon,
            upsilon: upsilon,
            UpTeeArrow: UpTeeArrow,
            UpTee: UpTee,
            upuparrows: upuparrows,
            urcorn: urcorn,
            urcorner: urcorner,
            urcrop: urcrop,
            Uring: Uring,
            uring: uring,
            urtri: urtri,
            Uscr: Uscr,
            uscr: uscr,
            utdot: utdot,
            Utilde: Utilde,
            utilde: utilde,
            utri: utri,
            utrif: utrif,
            uuarr: uuarr,
            Uuml: Uuml,
            uuml: uuml,
            uwangle: uwangle,
            vangrt: vangrt,
            varepsilon: varepsilon,
            varkappa: varkappa,
            varnothing: varnothing,
            varphi: varphi,
            varpi: varpi,
            varpropto: varpropto,
            varr: varr,
            vArr: vArr,
            varrho: varrho,
            varsigma: varsigma,
            varsubsetneq: varsubsetneq,
            varsubsetneqq: varsubsetneqq,
            varsupsetneq: varsupsetneq,
            varsupsetneqq: varsupsetneqq,
            vartheta: vartheta,
            vartriangleleft: vartriangleleft,
            vartriangleright: vartriangleright,
            vBar: vBar,
            Vbar: Vbar,
            vBarv: vBarv,
            Vcy: Vcy,
            vcy: vcy,
            vdash: vdash,
            vDash: vDash,
            Vdash: Vdash,
            VDash: VDash,
            Vdashl: Vdashl,
            veebar: veebar,
            vee: vee,
            Vee: Vee,
            veeeq: veeeq,
            vellip: vellip,
            verbar: verbar,
            Verbar: Verbar,
            vert: vert,
            Vert: Vert,
            VerticalBar: VerticalBar,
            VerticalLine: VerticalLine,
            VerticalSeparator: VerticalSeparator,
            VerticalTilde: VerticalTilde,
            VeryThinSpace: VeryThinSpace,
            Vfr: Vfr,
            vfr: vfr,
            vltri: vltri,
            vnsub: vnsub,
            vnsup: vnsup,
            Vopf: Vopf,
            vopf: vopf,
            vprop: vprop,
            vrtri: vrtri,
            Vscr: Vscr,
            vscr: vscr,
            vsubnE: vsubnE,
            vsubne: vsubne,
            vsupnE: vsupnE,
            vsupne: vsupne,
            Vvdash: Vvdash,
            vzigzag: vzigzag,
            Wcirc: Wcirc,
            wcirc: wcirc,
            wedbar: wedbar,
            wedge: wedge,
            Wedge: Wedge,
            wedgeq: wedgeq,
            weierp: weierp,
            Wfr: Wfr,
            wfr: wfr,
            Wopf: Wopf,
            wopf: wopf,
            wp: wp,
            wr: wr,
            wreath: wreath,
            Wscr: Wscr,
            wscr: wscr,
            xcap: xcap,
            xcirc: xcirc,
            xcup: xcup,
            xdtri: xdtri,
            Xfr: Xfr,
            xfr: xfr,
            xharr: xharr,
            xhArr: xhArr,
            Xi: Xi,
            xi: xi,
            xlarr: xlarr,
            xlArr: xlArr,
            xmap: xmap,
            xnis: xnis,
            xodot: xodot,
            Xopf: Xopf,
            xopf: xopf,
            xoplus: xoplus,
            xotime: xotime,
            xrarr: xrarr,
            xrArr: xrArr,
            Xscr: Xscr,
            xscr: xscr,
            xsqcup: xsqcup,
            xuplus: xuplus,
            xutri: xutri,
            xvee: xvee,
            xwedge: xwedge,
            Yacute: Yacute,
            yacute: yacute,
            YAcy: YAcy,
            yacy: yacy,
            Ycirc: Ycirc,
            ycirc: ycirc,
            Ycy: Ycy,
            ycy: ycy,
            yen: yen,
            Yfr: Yfr,
            yfr: yfr,
            YIcy: YIcy,
            yicy: yicy,
            Yopf: Yopf,
            yopf: yopf,
            Yscr: Yscr,
            yscr: yscr,
            YUcy: YUcy,
            yucy: yucy,
            yuml: yuml,
            Yuml: Yuml,
            Zacute: Zacute,
            zacute: zacute,
            Zcaron: Zcaron,
            zcaron: zcaron,
            Zcy: Zcy,
            zcy: zcy,
            Zdot: Zdot,
            zdot: zdot,
            zeetrf: zeetrf,
            ZeroWidthSpace: ZeroWidthSpace,
            Zeta: Zeta,
            zeta: zeta,
            zfr: zfr,
            Zfr: Zfr,
            ZHcy: ZHcy,
            zhcy: zhcy,
            zigrarr: zigrarr,
            zopf: zopf,
            Zopf: Zopf,
            Zscr: Zscr,
            zscr: zscr,
            zwj: zwj,
            zwnj: zwnj
        };
        var entities$1 = {
            __proto__: null,
            Aacute: Aacute,
            aacute: aacute,
            Abreve: Abreve,
            abreve: abreve,
            ac: ac,
            acd: acd,
            acE: acE,
            Acirc: Acirc,
            acirc: acirc,
            acute: acute,
            Acy: Acy,
            acy: acy,
            AElig: AElig,
            aelig: aelig,
            af: af,
            Afr: Afr,
            afr: afr,
            Agrave: Agrave,
            agrave: agrave,
            alefsym: alefsym,
            aleph: aleph,
            Alpha: Alpha,
            alpha: alpha,
            Amacr: Amacr,
            amacr: amacr,
            amalg: amalg,
            amp: amp,
            AMP: AMP,
            andand: andand,
            And: And,
            and: and,
            andd: andd,
            andslope: andslope,
            andv: andv,
            ang: ang,
            ange: ange,
            angle: angle,
            angmsdaa: angmsdaa,
            angmsdab: angmsdab,
            angmsdac: angmsdac,
            angmsdad: angmsdad,
            angmsdae: angmsdae,
            angmsdaf: angmsdaf,
            angmsdag: angmsdag,
            angmsdah: angmsdah,
            angmsd: angmsd,
            angrt: angrt,
            angrtvb: angrtvb,
            angrtvbd: angrtvbd,
            angsph: angsph,
            angst: angst,
            angzarr: angzarr,
            Aogon: Aogon,
            aogon: aogon,
            Aopf: Aopf,
            aopf: aopf,
            apacir: apacir,
            ap: ap,
            apE: apE,
            ape: ape,
            apid: apid,
            apos: apos,
            ApplyFunction: ApplyFunction,
            approx: approx,
            approxeq: approxeq,
            Aring: Aring,
            aring: aring,
            Ascr: Ascr,
            ascr: ascr,
            Assign: Assign,
            ast: ast,
            asymp: asymp,
            asympeq: asympeq,
            Atilde: Atilde,
            atilde: atilde,
            Auml: Auml,
            auml: auml,
            awconint: awconint,
            awint: awint,
            backcong: backcong,
            backepsilon: backepsilon,
            backprime: backprime,
            backsim: backsim,
            backsimeq: backsimeq,
            Backslash: Backslash,
            Barv: Barv,
            barvee: barvee,
            barwed: barwed,
            Barwed: Barwed,
            barwedge: barwedge,
            bbrk: bbrk,
            bbrktbrk: bbrktbrk,
            bcong: bcong,
            Bcy: Bcy,
            bcy: bcy,
            bdquo: bdquo,
            becaus: becaus,
            because: because,
            Because: Because,
            bemptyv: bemptyv,
            bepsi: bepsi,
            bernou: bernou,
            Bernoullis: Bernoullis,
            Beta: Beta,
            beta: beta,
            beth: beth,
            between: between,
            Bfr: Bfr,
            bfr: bfr,
            bigcap: bigcap,
            bigcirc: bigcirc,
            bigcup: bigcup,
            bigodot: bigodot,
            bigoplus: bigoplus,
            bigotimes: bigotimes,
            bigsqcup: bigsqcup,
            bigstar: bigstar,
            bigtriangledown: bigtriangledown,
            bigtriangleup: bigtriangleup,
            biguplus: biguplus,
            bigvee: bigvee,
            bigwedge: bigwedge,
            bkarow: bkarow,
            blacklozenge: blacklozenge,
            blacksquare: blacksquare,
            blacktriangle: blacktriangle,
            blacktriangledown: blacktriangledown,
            blacktriangleleft: blacktriangleleft,
            blacktriangleright: blacktriangleright,
            blank: blank,
            blk12: blk12,
            blk14: blk14,
            blk34: blk34,
            block: block,
            bne: bne,
            bnequiv: bnequiv,
            bNot: bNot,
            bnot: bnot,
            Bopf: Bopf,
            bopf: bopf,
            bot: bot,
            bottom: bottom,
            bowtie: bowtie,
            boxbox: boxbox,
            boxdl: boxdl,
            boxdL: boxdL,
            boxDl: boxDl,
            boxDL: boxDL,
            boxdr: boxdr,
            boxdR: boxdR,
            boxDr: boxDr,
            boxDR: boxDR,
            boxh: boxh,
            boxH: boxH,
            boxhd: boxhd,
            boxHd: boxHd,
            boxhD: boxhD,
            boxHD: boxHD,
            boxhu: boxhu,
            boxHu: boxHu,
            boxhU: boxhU,
            boxHU: boxHU,
            boxminus: boxminus,
            boxplus: boxplus,
            boxtimes: boxtimes,
            boxul: boxul,
            boxuL: boxuL,
            boxUl: boxUl,
            boxUL: boxUL,
            boxur: boxur,
            boxuR: boxuR,
            boxUr: boxUr,
            boxUR: boxUR,
            boxv: boxv,
            boxV: boxV,
            boxvh: boxvh,
            boxvH: boxvH,
            boxVh: boxVh,
            boxVH: boxVH,
            boxvl: boxvl,
            boxvL: boxvL,
            boxVl: boxVl,
            boxVL: boxVL,
            boxvr: boxvr,
            boxvR: boxvR,
            boxVr: boxVr,
            boxVR: boxVR,
            bprime: bprime,
            breve: breve,
            Breve: Breve,
            brvbar: brvbar,
            bscr: bscr,
            Bscr: Bscr,
            bsemi: bsemi,
            bsim: bsim,
            bsime: bsime,
            bsolb: bsolb,
            bsol: bsol,
            bsolhsub: bsolhsub,
            bull: bull,
            bullet: bullet,
            bump: bump,
            bumpE: bumpE,
            bumpe: bumpe,
            Bumpeq: Bumpeq,
            bumpeq: bumpeq,
            Cacute: Cacute,
            cacute: cacute,
            capand: capand,
            capbrcup: capbrcup,
            capcap: capcap,
            cap: cap,
            Cap: Cap,
            capcup: capcup,
            capdot: capdot,
            CapitalDifferentialD: CapitalDifferentialD,
            caps: caps,
            caret: caret,
            caron: caron,
            Cayleys: Cayleys,
            ccaps: ccaps,
            Ccaron: Ccaron,
            ccaron: ccaron,
            Ccedil: Ccedil,
            ccedil: ccedil,
            Ccirc: Ccirc,
            ccirc: ccirc,
            Cconint: Cconint,
            ccups: ccups,
            ccupssm: ccupssm,
            Cdot: Cdot,
            cdot: cdot,
            cedil: cedil,
            Cedilla: Cedilla,
            cemptyv: cemptyv,
            cent: cent,
            centerdot: centerdot,
            CenterDot: CenterDot,
            cfr: cfr,
            Cfr: Cfr,
            CHcy: CHcy,
            chcy: chcy,
            check: check,
            checkmark: checkmark,
            Chi: Chi,
            chi: chi,
            circ: circ,
            circeq: circeq,
            circlearrowleft: circlearrowleft,
            circlearrowright: circlearrowright,
            circledast: circledast,
            circledcirc: circledcirc,
            circleddash: circleddash,
            CircleDot: CircleDot,
            circledR: circledR,
            circledS: circledS,
            CircleMinus: CircleMinus,
            CirclePlus: CirclePlus,
            CircleTimes: CircleTimes,
            cir: cir,
            cirE: cirE,
            cire: cire,
            cirfnint: cirfnint,
            cirmid: cirmid,
            cirscir: cirscir,
            ClockwiseContourIntegral: ClockwiseContourIntegral,
            CloseCurlyDoubleQuote: CloseCurlyDoubleQuote,
            CloseCurlyQuote: CloseCurlyQuote,
            clubs: clubs,
            clubsuit: clubsuit,
            colon: colon,
            Colon: Colon,
            Colone: Colone,
            colone: colone,
            coloneq: coloneq,
            comma: comma,
            commat: commat,
            comp: comp,
            compfn: compfn,
            complement: complement,
            complexes: complexes,
            cong: cong,
            congdot: congdot,
            Congruent: Congruent,
            conint: conint,
            Conint: Conint,
            ContourIntegral: ContourIntegral,
            copf: copf,
            Copf: Copf,
            coprod: coprod,
            Coproduct: Coproduct,
            copy: copy,
            COPY: COPY,
            copysr: copysr,
            CounterClockwiseContourIntegral: CounterClockwiseContourIntegral,
            crarr: crarr,
            cross: cross,
            Cross: Cross,
            Cscr: Cscr,
            cscr: cscr,
            csub: csub,
            csube: csube,
            csup: csup,
            csupe: csupe,
            ctdot: ctdot,
            cudarrl: cudarrl,
            cudarrr: cudarrr,
            cuepr: cuepr,
            cuesc: cuesc,
            cularr: cularr,
            cularrp: cularrp,
            cupbrcap: cupbrcap,
            cupcap: cupcap,
            CupCap: CupCap,
            cup: cup,
            Cup: Cup,
            cupcup: cupcup,
            cupdot: cupdot,
            cupor: cupor,
            cups: cups,
            curarr: curarr,
            curarrm: curarrm,
            curlyeqprec: curlyeqprec,
            curlyeqsucc: curlyeqsucc,
            curlyvee: curlyvee,
            curlywedge: curlywedge,
            curren: curren,
            curvearrowleft: curvearrowleft,
            curvearrowright: curvearrowright,
            cuvee: cuvee,
            cuwed: cuwed,
            cwconint: cwconint,
            cwint: cwint,
            cylcty: cylcty,
            dagger: dagger,
            Dagger: Dagger,
            daleth: daleth,
            darr: darr,
            Darr: Darr,
            dArr: dArr,
            dash: dash,
            Dashv: Dashv,
            dashv: dashv,
            dbkarow: dbkarow,
            dblac: dblac,
            Dcaron: Dcaron,
            dcaron: dcaron,
            Dcy: Dcy,
            dcy: dcy,
            ddagger: ddagger,
            ddarr: ddarr,
            DD: DD,
            dd: dd,
            DDotrahd: DDotrahd,
            ddotseq: ddotseq,
            deg: deg,
            Del: Del,
            Delta: Delta,
            delta: delta,
            demptyv: demptyv,
            dfisht: dfisht,
            Dfr: Dfr,
            dfr: dfr,
            dHar: dHar,
            dharl: dharl,
            dharr: dharr,
            DiacriticalAcute: DiacriticalAcute,
            DiacriticalDot: DiacriticalDot,
            DiacriticalDoubleAcute: DiacriticalDoubleAcute,
            DiacriticalGrave: DiacriticalGrave,
            DiacriticalTilde: DiacriticalTilde,
            diam: diam,
            diamond: diamond,
            Diamond: Diamond,
            diamondsuit: diamondsuit,
            diams: diams,
            die: die,
            DifferentialD: DifferentialD,
            digamma: digamma,
            disin: disin,
            div: div,
            divide: divide,
            divideontimes: divideontimes,
            divonx: divonx,
            DJcy: DJcy,
            djcy: djcy,
            dlcorn: dlcorn,
            dlcrop: dlcrop,
            dollar: dollar,
            Dopf: Dopf,
            dopf: dopf,
            Dot: Dot,
            dot: dot,
            DotDot: DotDot,
            doteq: doteq,
            doteqdot: doteqdot,
            DotEqual: DotEqual,
            dotminus: dotminus,
            dotplus: dotplus,
            dotsquare: dotsquare,
            doublebarwedge: doublebarwedge,
            DoubleContourIntegral: DoubleContourIntegral,
            DoubleDot: DoubleDot,
            DoubleDownArrow: DoubleDownArrow,
            DoubleLeftArrow: DoubleLeftArrow,
            DoubleLeftRightArrow: DoubleLeftRightArrow,
            DoubleLeftTee: DoubleLeftTee,
            DoubleLongLeftArrow: DoubleLongLeftArrow,
            DoubleLongLeftRightArrow: DoubleLongLeftRightArrow,
            DoubleLongRightArrow: DoubleLongRightArrow,
            DoubleRightArrow: DoubleRightArrow,
            DoubleRightTee: DoubleRightTee,
            DoubleUpArrow: DoubleUpArrow,
            DoubleUpDownArrow: DoubleUpDownArrow,
            DoubleVerticalBar: DoubleVerticalBar,
            DownArrowBar: DownArrowBar,
            downarrow: downarrow,
            DownArrow: DownArrow,
            Downarrow: Downarrow,
            DownArrowUpArrow: DownArrowUpArrow,
            DownBreve: DownBreve,
            downdownarrows: downdownarrows,
            downharpoonleft: downharpoonleft,
            downharpoonright: downharpoonright,
            DownLeftRightVector: DownLeftRightVector,
            DownLeftTeeVector: DownLeftTeeVector,
            DownLeftVectorBar: DownLeftVectorBar,
            DownLeftVector: DownLeftVector,
            DownRightTeeVector: DownRightTeeVector,
            DownRightVectorBar: DownRightVectorBar,
            DownRightVector: DownRightVector,
            DownTeeArrow: DownTeeArrow,
            DownTee: DownTee,
            drbkarow: drbkarow,
            drcorn: drcorn,
            drcrop: drcrop,
            Dscr: Dscr,
            dscr: dscr,
            DScy: DScy,
            dscy: dscy,
            dsol: dsol,
            Dstrok: Dstrok,
            dstrok: dstrok,
            dtdot: dtdot,
            dtri: dtri,
            dtrif: dtrif,
            duarr: duarr,
            duhar: duhar,
            dwangle: dwangle,
            DZcy: DZcy,
            dzcy: dzcy,
            dzigrarr: dzigrarr,
            Eacute: Eacute,
            eacute: eacute,
            easter: easter,
            Ecaron: Ecaron,
            ecaron: ecaron,
            Ecirc: Ecirc,
            ecirc: ecirc,
            ecir: ecir,
            ecolon: ecolon,
            Ecy: Ecy,
            ecy: ecy,
            eDDot: eDDot,
            Edot: Edot,
            edot: edot,
            eDot: eDot,
            ee: ee,
            efDot: efDot,
            Efr: Efr,
            efr: efr,
            eg: eg,
            Egrave: Egrave,
            egrave: egrave,
            egs: egs,
            egsdot: egsdot,
            el: el,
            Element: Element,
            elinters: elinters,
            ell: ell,
            els: els,
            elsdot: elsdot,
            Emacr: Emacr,
            emacr: emacr,
            empty: empty,
            emptyset: emptyset,
            EmptySmallSquare: EmptySmallSquare,
            emptyv: emptyv,
            EmptyVerySmallSquare: EmptyVerySmallSquare,
            emsp13: emsp13,
            emsp14: emsp14,
            emsp: emsp,
            ENG: ENG,
            eng: eng,
            ensp: ensp,
            Eogon: Eogon,
            eogon: eogon,
            Eopf: Eopf,
            eopf: eopf,
            epar: epar,
            eparsl: eparsl,
            eplus: eplus,
            epsi: epsi,
            Epsilon: Epsilon,
            epsilon: epsilon,
            epsiv: epsiv,
            eqcirc: eqcirc,
            eqcolon: eqcolon,
            eqsim: eqsim,
            eqslantgtr: eqslantgtr,
            eqslantless: eqslantless,
            Equal: Equal,
            equals: equals,
            EqualTilde: EqualTilde,
            equest: equest,
            Equilibrium: Equilibrium,
            equiv: equiv,
            equivDD: equivDD,
            eqvparsl: eqvparsl,
            erarr: erarr,
            erDot: erDot,
            escr: escr,
            Escr: Escr,
            esdot: esdot,
            Esim: Esim,
            esim: esim,
            Eta: Eta,
            eta: eta,
            ETH: ETH,
            eth: eth,
            Euml: Euml,
            euml: euml,
            euro: euro,
            excl: excl,
            exist: exist,
            Exists: Exists,
            expectation: expectation,
            exponentiale: exponentiale,
            ExponentialE: ExponentialE,
            fallingdotseq: fallingdotseq,
            Fcy: Fcy,
            fcy: fcy,
            female: female,
            ffilig: ffilig,
            fflig: fflig,
            ffllig: ffllig,
            Ffr: Ffr,
            ffr: ffr,
            filig: filig,
            FilledSmallSquare: FilledSmallSquare,
            FilledVerySmallSquare: FilledVerySmallSquare,
            fjlig: fjlig,
            flat: flat,
            fllig: fllig,
            fltns: fltns,
            fnof: fnof,
            Fopf: Fopf,
            fopf: fopf,
            forall: forall,
            ForAll: ForAll,
            fork: fork,
            forkv: forkv,
            Fouriertrf: Fouriertrf,
            fpartint: fpartint,
            frac12: frac12,
            frac13: frac13,
            frac14: frac14,
            frac15: frac15,
            frac16: frac16,
            frac18: frac18,
            frac23: frac23,
            frac25: frac25,
            frac34: frac34,
            frac35: frac35,
            frac38: frac38,
            frac45: frac45,
            frac56: frac56,
            frac58: frac58,
            frac78: frac78,
            frasl: frasl,
            frown: frown,
            fscr: fscr,
            Fscr: Fscr,
            gacute: gacute,
            Gamma: Gamma,
            gamma: gamma,
            Gammad: Gammad,
            gammad: gammad,
            gap: gap,
            Gbreve: Gbreve,
            gbreve: gbreve,
            Gcedil: Gcedil,
            Gcirc: Gcirc,
            gcirc: gcirc,
            Gcy: Gcy,
            gcy: gcy,
            Gdot: Gdot,
            gdot: gdot,
            ge: ge,
            gE: gE,
            gEl: gEl,
            gel: gel,
            geq: geq,
            geqq: geqq,
            geqslant: geqslant,
            gescc: gescc,
            ges: ges,
            gesdot: gesdot,
            gesdoto: gesdoto,
            gesdotol: gesdotol,
            gesl: gesl,
            gesles: gesles,
            Gfr: Gfr,
            gfr: gfr,
            gg: gg,
            Gg: Gg,
            ggg: ggg,
            gimel: gimel,
            GJcy: GJcy,
            gjcy: gjcy,
            gla: gla,
            gl: gl,
            glE: glE,
            glj: glj,
            gnap: gnap,
            gnapprox: gnapprox,
            gne: gne,
            gnE: gnE,
            gneq: gneq,
            gneqq: gneqq,
            gnsim: gnsim,
            Gopf: Gopf,
            gopf: gopf,
            grave: grave,
            GreaterEqual: GreaterEqual,
            GreaterEqualLess: GreaterEqualLess,
            GreaterFullEqual: GreaterFullEqual,
            GreaterGreater: GreaterGreater,
            GreaterLess: GreaterLess,
            GreaterSlantEqual: GreaterSlantEqual,
            GreaterTilde: GreaterTilde,
            Gscr: Gscr,
            gscr: gscr,
            gsim: gsim,
            gsime: gsime,
            gsiml: gsiml,
            gtcc: gtcc,
            gtcir: gtcir,
            gt: gt,
            GT: GT,
            Gt: Gt,
            gtdot: gtdot,
            gtlPar: gtlPar,
            gtquest: gtquest,
            gtrapprox: gtrapprox,
            gtrarr: gtrarr,
            gtrdot: gtrdot,
            gtreqless: gtreqless,
            gtreqqless: gtreqqless,
            gtrless: gtrless,
            gtrsim: gtrsim,
            gvertneqq: gvertneqq,
            gvnE: gvnE,
            Hacek: Hacek,
            hairsp: hairsp,
            half: half,
            hamilt: hamilt,
            HARDcy: HARDcy,
            hardcy: hardcy,
            harrcir: harrcir,
            harr: harr,
            hArr: hArr,
            harrw: harrw,
            Hat: Hat,
            hbar: hbar,
            Hcirc: Hcirc,
            hcirc: hcirc,
            hearts: hearts,
            heartsuit: heartsuit,
            hellip: hellip,
            hercon: hercon,
            hfr: hfr,
            Hfr: Hfr,
            HilbertSpace: HilbertSpace,
            hksearow: hksearow,
            hkswarow: hkswarow,
            hoarr: hoarr,
            homtht: homtht,
            hookleftarrow: hookleftarrow,
            hookrightarrow: hookrightarrow,
            hopf: hopf,
            Hopf: Hopf,
            horbar: horbar,
            HorizontalLine: HorizontalLine,
            hscr: hscr,
            Hscr: Hscr,
            hslash: hslash,
            Hstrok: Hstrok,
            hstrok: hstrok,
            HumpDownHump: HumpDownHump,
            HumpEqual: HumpEqual,
            hybull: hybull,
            hyphen: hyphen,
            Iacute: Iacute,
            iacute: iacute,
            ic: ic,
            Icirc: Icirc,
            icirc: icirc,
            Icy: Icy,
            icy: icy,
            Idot: Idot,
            IEcy: IEcy,
            iecy: iecy,
            iexcl: iexcl,
            iff: iff,
            ifr: ifr,
            Ifr: Ifr,
            Igrave: Igrave,
            igrave: igrave,
            ii: ii,
            iiiint: iiiint,
            iiint: iiint,
            iinfin: iinfin,
            iiota: iiota,
            IJlig: IJlig,
            ijlig: ijlig,
            Imacr: Imacr,
            imacr: imacr,
            image: image,
            ImaginaryI: ImaginaryI,
            imagline: imagline,
            imagpart: imagpart,
            imath: imath,
            Im: Im,
            imof: imof,
            imped: imped,
            Implies: Implies,
            incare: incare,
            infin: infin,
            infintie: infintie,
            inodot: inodot,
            intcal: intcal,
            int: int,
            Int: Int,
            integers: integers,
            Integral: Integral,
            intercal: intercal,
            Intersection: Intersection,
            intlarhk: intlarhk,
            intprod: intprod,
            InvisibleComma: InvisibleComma,
            InvisibleTimes: InvisibleTimes,
            IOcy: IOcy,
            iocy: iocy,
            Iogon: Iogon,
            iogon: iogon,
            Iopf: Iopf,
            iopf: iopf,
            Iota: Iota,
            iota: iota,
            iprod: iprod,
            iquest: iquest,
            iscr: iscr,
            Iscr: Iscr,
            isin: isin,
            isindot: isindot,
            isinE: isinE,
            isins: isins,
            isinsv: isinsv,
            isinv: isinv,
            it: it,
            Itilde: Itilde,
            itilde: itilde,
            Iukcy: Iukcy,
            iukcy: iukcy,
            Iuml: Iuml,
            iuml: iuml,
            Jcirc: Jcirc,
            jcirc: jcirc,
            Jcy: Jcy,
            jcy: jcy,
            Jfr: Jfr,
            jfr: jfr,
            jmath: jmath,
            Jopf: Jopf,
            jopf: jopf,
            Jscr: Jscr,
            jscr: jscr,
            Jsercy: Jsercy,
            jsercy: jsercy,
            Jukcy: Jukcy,
            jukcy: jukcy,
            Kappa: Kappa,
            kappa: kappa,
            kappav: kappav,
            Kcedil: Kcedil,
            kcedil: kcedil,
            Kcy: Kcy,
            kcy: kcy,
            Kfr: Kfr,
            kfr: kfr,
            kgreen: kgreen,
            KHcy: KHcy,
            khcy: khcy,
            KJcy: KJcy,
            kjcy: kjcy,
            Kopf: Kopf,
            kopf: kopf,
            Kscr: Kscr,
            kscr: kscr,
            lAarr: lAarr,
            Lacute: Lacute,
            lacute: lacute,
            laemptyv: laemptyv,
            lagran: lagran,
            Lambda: Lambda,
            lambda: lambda,
            lang: lang,
            Lang: Lang,
            langd: langd,
            langle: langle,
            lap: lap,
            Laplacetrf: Laplacetrf,
            laquo: laquo,
            larrb: larrb,
            larrbfs: larrbfs,
            larr: larr,
            Larr: Larr,
            lArr: lArr,
            larrfs: larrfs,
            larrhk: larrhk,
            larrlp: larrlp,
            larrpl: larrpl,
            larrsim: larrsim,
            larrtl: larrtl,
            latail: latail,
            lAtail: lAtail,
            lat: lat,
            late: late,
            lates: lates,
            lbarr: lbarr,
            lBarr: lBarr,
            lbbrk: lbbrk,
            lbrace: lbrace,
            lbrack: lbrack,
            lbrke: lbrke,
            lbrksld: lbrksld,
            lbrkslu: lbrkslu,
            Lcaron: Lcaron,
            lcaron: lcaron,
            Lcedil: Lcedil,
            lcedil: lcedil,
            lceil: lceil,
            lcub: lcub,
            Lcy: Lcy,
            lcy: lcy,
            ldca: ldca,
            ldquo: ldquo,
            ldquor: ldquor,
            ldrdhar: ldrdhar,
            ldrushar: ldrushar,
            ldsh: ldsh,
            le: le,
            lE: lE,
            LeftAngleBracket: LeftAngleBracket,
            LeftArrowBar: LeftArrowBar,
            leftarrow: leftarrow,
            LeftArrow: LeftArrow,
            Leftarrow: Leftarrow,
            LeftArrowRightArrow: LeftArrowRightArrow,
            leftarrowtail: leftarrowtail,
            LeftCeiling: LeftCeiling,
            LeftDoubleBracket: LeftDoubleBracket,
            LeftDownTeeVector: LeftDownTeeVector,
            LeftDownVectorBar: LeftDownVectorBar,
            LeftDownVector: LeftDownVector,
            LeftFloor: LeftFloor,
            leftharpoondown: leftharpoondown,
            leftharpoonup: leftharpoonup,
            leftleftarrows: leftleftarrows,
            leftrightarrow: leftrightarrow,
            LeftRightArrow: LeftRightArrow,
            Leftrightarrow: Leftrightarrow,
            leftrightarrows: leftrightarrows,
            leftrightharpoons: leftrightharpoons,
            leftrightsquigarrow: leftrightsquigarrow,
            LeftRightVector: LeftRightVector,
            LeftTeeArrow: LeftTeeArrow,
            LeftTee: LeftTee,
            LeftTeeVector: LeftTeeVector,
            leftthreetimes: leftthreetimes,
            LeftTriangleBar: LeftTriangleBar,
            LeftTriangle: LeftTriangle,
            LeftTriangleEqual: LeftTriangleEqual,
            LeftUpDownVector: LeftUpDownVector,
            LeftUpTeeVector: LeftUpTeeVector,
            LeftUpVectorBar: LeftUpVectorBar,
            LeftUpVector: LeftUpVector,
            LeftVectorBar: LeftVectorBar,
            LeftVector: LeftVector,
            lEg: lEg,
            leg: leg,
            leq: leq,
            leqq: leqq,
            leqslant: leqslant,
            lescc: lescc,
            les: les,
            lesdot: lesdot,
            lesdoto: lesdoto,
            lesdotor: lesdotor,
            lesg: lesg,
            lesges: lesges,
            lessapprox: lessapprox,
            lessdot: lessdot,
            lesseqgtr: lesseqgtr,
            lesseqqgtr: lesseqqgtr,
            LessEqualGreater: LessEqualGreater,
            LessFullEqual: LessFullEqual,
            LessGreater: LessGreater,
            lessgtr: lessgtr,
            LessLess: LessLess,
            lesssim: lesssim,
            LessSlantEqual: LessSlantEqual,
            LessTilde: LessTilde,
            lfisht: lfisht,
            lfloor: lfloor,
            Lfr: Lfr,
            lfr: lfr,
            lg: lg,
            lgE: lgE,
            lHar: lHar,
            lhard: lhard,
            lharu: lharu,
            lharul: lharul,
            lhblk: lhblk,
            LJcy: LJcy,
            ljcy: ljcy,
            llarr: llarr,
            ll: ll,
            Ll: Ll,
            llcorner: llcorner,
            Lleftarrow: Lleftarrow,
            llhard: llhard,
            lltri: lltri,
            Lmidot: Lmidot,
            lmidot: lmidot,
            lmoustache: lmoustache,
            lmoust: lmoust,
            lnap: lnap,
            lnapprox: lnapprox,
            lne: lne,
            lnE: lnE,
            lneq: lneq,
            lneqq: lneqq,
            lnsim: lnsim,
            loang: loang,
            loarr: loarr,
            lobrk: lobrk,
            longleftarrow: longleftarrow,
            LongLeftArrow: LongLeftArrow,
            Longleftarrow: Longleftarrow,
            longleftrightarrow: longleftrightarrow,
            LongLeftRightArrow: LongLeftRightArrow,
            Longleftrightarrow: Longleftrightarrow,
            longmapsto: longmapsto,
            longrightarrow: longrightarrow,
            LongRightArrow: LongRightArrow,
            Longrightarrow: Longrightarrow,
            looparrowleft: looparrowleft,
            looparrowright: looparrowright,
            lopar: lopar,
            Lopf: Lopf,
            lopf: lopf,
            loplus: loplus,
            lotimes: lotimes,
            lowast: lowast,
            lowbar: lowbar,
            LowerLeftArrow: LowerLeftArrow,
            LowerRightArrow: LowerRightArrow,
            loz: loz,
            lozenge: lozenge,
            lozf: lozf,
            lpar: lpar,
            lparlt: lparlt,
            lrarr: lrarr,
            lrcorner: lrcorner,
            lrhar: lrhar,
            lrhard: lrhard,
            lrm: lrm,
            lrtri: lrtri,
            lsaquo: lsaquo,
            lscr: lscr,
            Lscr: Lscr,
            lsh: lsh,
            Lsh: Lsh,
            lsim: lsim,
            lsime: lsime,
            lsimg: lsimg,
            lsqb: lsqb,
            lsquo: lsquo,
            lsquor: lsquor,
            Lstrok: Lstrok,
            lstrok: lstrok,
            ltcc: ltcc,
            ltcir: ltcir,
            lt: lt,
            LT: LT,
            Lt: Lt,
            ltdot: ltdot,
            lthree: lthree,
            ltimes: ltimes,
            ltlarr: ltlarr,
            ltquest: ltquest,
            ltri: ltri,
            ltrie: ltrie,
            ltrif: ltrif,
            ltrPar: ltrPar,
            lurdshar: lurdshar,
            luruhar: luruhar,
            lvertneqq: lvertneqq,
            lvnE: lvnE,
            macr: macr,
            male: male,
            malt: malt,
            maltese: maltese,
            map: map,
            mapsto: mapsto,
            mapstodown: mapstodown,
            mapstoleft: mapstoleft,
            mapstoup: mapstoup,
            marker: marker,
            mcomma: mcomma,
            Mcy: Mcy,
            mcy: mcy,
            mdash: mdash,
            mDDot: mDDot,
            measuredangle: measuredangle,
            MediumSpace: MediumSpace,
            Mellintrf: Mellintrf,
            Mfr: Mfr,
            mfr: mfr,
            mho: mho,
            micro: micro,
            midast: midast,
            midcir: midcir,
            mid: mid,
            middot: middot,
            minusb: minusb,
            minus: minus,
            minusd: minusd,
            minusdu: minusdu,
            MinusPlus: MinusPlus,
            mlcp: mlcp,
            mldr: mldr,
            mnplus: mnplus,
            models: models,
            Mopf: Mopf,
            mopf: mopf,
            mp: mp,
            mscr: mscr,
            Mscr: Mscr,
            mstpos: mstpos,
            Mu: Mu,
            mu: mu,
            multimap: multimap,
            mumap: mumap,
            nabla: nabla,
            Nacute: Nacute,
            nacute: nacute,
            nang: nang,
            nap: nap,
            napE: napE,
            napid: napid,
            napos: napos,
            napprox: napprox,
            natural: natural,
            naturals: naturals,
            natur: natur,
            nbsp: nbsp,
            nbump: nbump,
            nbumpe: nbumpe,
            ncap: ncap,
            Ncaron: Ncaron,
            ncaron: ncaron,
            Ncedil: Ncedil,
            ncedil: ncedil,
            ncong: ncong,
            ncongdot: ncongdot,
            ncup: ncup,
            Ncy: Ncy,
            ncy: ncy,
            ndash: ndash,
            nearhk: nearhk,
            nearr: nearr,
            neArr: neArr,
            nearrow: nearrow,
            ne: ne,
            nedot: nedot,
            NegativeMediumSpace: NegativeMediumSpace,
            NegativeThickSpace: NegativeThickSpace,
            NegativeThinSpace: NegativeThinSpace,
            NegativeVeryThinSpace: NegativeVeryThinSpace,
            nequiv: nequiv,
            nesear: nesear,
            nesim: nesim,
            NestedGreaterGreater: NestedGreaterGreater,
            NestedLessLess: NestedLessLess,
            NewLine: NewLine,
            nexist: nexist,
            nexists: nexists,
            Nfr: Nfr,
            nfr: nfr,
            ngE: ngE,
            nge: nge,
            ngeq: ngeq,
            ngeqq: ngeqq,
            ngeqslant: ngeqslant,
            nges: nges,
            nGg: nGg,
            ngsim: ngsim,
            nGt: nGt,
            ngt: ngt,
            ngtr: ngtr,
            nGtv: nGtv,
            nharr: nharr,
            nhArr: nhArr,
            nhpar: nhpar,
            ni: ni,
            nis: nis,
            nisd: nisd,
            niv: niv,
            NJcy: NJcy,
            njcy: njcy,
            nlarr: nlarr,
            nlArr: nlArr,
            nldr: nldr,
            nlE: nlE,
            nle: nle,
            nleftarrow: nleftarrow,
            nLeftarrow: nLeftarrow,
            nleftrightarrow: nleftrightarrow,
            nLeftrightarrow: nLeftrightarrow,
            nleq: nleq,
            nleqq: nleqq,
            nleqslant: nleqslant,
            nles: nles,
            nless: nless,
            nLl: nLl,
            nlsim: nlsim,
            nLt: nLt,
            nlt: nlt,
            nltri: nltri,
            nltrie: nltrie,
            nLtv: nLtv,
            nmid: nmid,
            NoBreak: NoBreak,
            NonBreakingSpace: NonBreakingSpace,
            nopf: nopf,
            Nopf: Nopf,
            Not: Not,
            not: not,
            NotCongruent: NotCongruent,
            NotCupCap: NotCupCap,
            NotDoubleVerticalBar: NotDoubleVerticalBar,
            NotElement: NotElement,
            NotEqual: NotEqual,
            NotEqualTilde: NotEqualTilde,
            NotExists: NotExists,
            NotGreater: NotGreater,
            NotGreaterEqual: NotGreaterEqual,
            NotGreaterFullEqual: NotGreaterFullEqual,
            NotGreaterGreater: NotGreaterGreater,
            NotGreaterLess: NotGreaterLess,
            NotGreaterSlantEqual: NotGreaterSlantEqual,
            NotGreaterTilde: NotGreaterTilde,
            NotHumpDownHump: NotHumpDownHump,
            NotHumpEqual: NotHumpEqual,
            notin: notin,
            notindot: notindot,
            notinE: notinE,
            notinva: notinva,
            notinvb: notinvb,
            notinvc: notinvc,
            NotLeftTriangleBar: NotLeftTriangleBar,
            NotLeftTriangle: NotLeftTriangle,
            NotLeftTriangleEqual: NotLeftTriangleEqual,
            NotLess: NotLess,
            NotLessEqual: NotLessEqual,
            NotLessGreater: NotLessGreater,
            NotLessLess: NotLessLess,
            NotLessSlantEqual: NotLessSlantEqual,
            NotLessTilde: NotLessTilde,
            NotNestedGreaterGreater: NotNestedGreaterGreater,
            NotNestedLessLess: NotNestedLessLess,
            notni: notni,
            notniva: notniva,
            notnivb: notnivb,
            notnivc: notnivc,
            NotPrecedes: NotPrecedes,
            NotPrecedesEqual: NotPrecedesEqual,
            NotPrecedesSlantEqual: NotPrecedesSlantEqual,
            NotReverseElement: NotReverseElement,
            NotRightTriangleBar: NotRightTriangleBar,
            NotRightTriangle: NotRightTriangle,
            NotRightTriangleEqual: NotRightTriangleEqual,
            NotSquareSubset: NotSquareSubset,
            NotSquareSubsetEqual: NotSquareSubsetEqual,
            NotSquareSuperset: NotSquareSuperset,
            NotSquareSupersetEqual: NotSquareSupersetEqual,
            NotSubset: NotSubset,
            NotSubsetEqual: NotSubsetEqual,
            NotSucceeds: NotSucceeds,
            NotSucceedsEqual: NotSucceedsEqual,
            NotSucceedsSlantEqual: NotSucceedsSlantEqual,
            NotSucceedsTilde: NotSucceedsTilde,
            NotSuperset: NotSuperset,
            NotSupersetEqual: NotSupersetEqual,
            NotTilde: NotTilde,
            NotTildeEqual: NotTildeEqual,
            NotTildeFullEqual: NotTildeFullEqual,
            NotTildeTilde: NotTildeTilde,
            NotVerticalBar: NotVerticalBar,
            nparallel: nparallel,
            npar: npar,
            nparsl: nparsl,
            npart: npart,
            npolint: npolint,
            npr: npr,
            nprcue: nprcue,
            nprec: nprec,
            npreceq: npreceq,
            npre: npre,
            nrarrc: nrarrc,
            nrarr: nrarr,
            nrArr: nrArr,
            nrarrw: nrarrw,
            nrightarrow: nrightarrow,
            nRightarrow: nRightarrow,
            nrtri: nrtri,
            nrtrie: nrtrie,
            nsc: nsc,
            nsccue: nsccue,
            nsce: nsce,
            Nscr: Nscr,
            nscr: nscr,
            nshortmid: nshortmid,
            nshortparallel: nshortparallel,
            nsim: nsim,
            nsime: nsime,
            nsimeq: nsimeq,
            nsmid: nsmid,
            nspar: nspar,
            nsqsube: nsqsube,
            nsqsupe: nsqsupe,
            nsub: nsub,
            nsubE: nsubE,
            nsube: nsube,
            nsubset: nsubset,
            nsubseteq: nsubseteq,
            nsubseteqq: nsubseteqq,
            nsucc: nsucc,
            nsucceq: nsucceq,
            nsup: nsup,
            nsupE: nsupE,
            nsupe: nsupe,
            nsupset: nsupset,
            nsupseteq: nsupseteq,
            nsupseteqq: nsupseteqq,
            ntgl: ntgl,
            Ntilde: Ntilde,
            ntilde: ntilde,
            ntlg: ntlg,
            ntriangleleft: ntriangleleft,
            ntrianglelefteq: ntrianglelefteq,
            ntriangleright: ntriangleright,
            ntrianglerighteq: ntrianglerighteq,
            Nu: Nu,
            nu: nu,
            num: num,
            numero: numero,
            numsp: numsp,
            nvap: nvap,
            nvdash: nvdash,
            nvDash: nvDash,
            nVdash: nVdash,
            nVDash: nVDash,
            nvge: nvge,
            nvgt: nvgt,
            nvHarr: nvHarr,
            nvinfin: nvinfin,
            nvlArr: nvlArr,
            nvle: nvle,
            nvlt: nvlt,
            nvltrie: nvltrie,
            nvrArr: nvrArr,
            nvrtrie: nvrtrie,
            nvsim: nvsim,
            nwarhk: nwarhk,
            nwarr: nwarr,
            nwArr: nwArr,
            nwarrow: nwarrow,
            nwnear: nwnear,
            Oacute: Oacute,
            oacute: oacute,
            oast: oast,
            Ocirc: Ocirc,
            ocirc: ocirc,
            ocir: ocir,
            Ocy: Ocy,
            ocy: ocy,
            odash: odash,
            Odblac: Odblac,
            odblac: odblac,
            odiv: odiv,
            odot: odot,
            odsold: odsold,
            OElig: OElig,
            oelig: oelig,
            ofcir: ofcir,
            Ofr: Ofr,
            ofr: ofr,
            ogon: ogon,
            Ograve: Ograve,
            ograve: ograve,
            ogt: ogt,
            ohbar: ohbar,
            ohm: ohm,
            oint: oint,
            olarr: olarr,
            olcir: olcir,
            olcross: olcross,
            oline: oline,
            olt: olt,
            Omacr: Omacr,
            omacr: omacr,
            Omega: Omega,
            omega: omega,
            Omicron: Omicron,
            omicron: omicron,
            omid: omid,
            ominus: ominus,
            Oopf: Oopf,
            oopf: oopf,
            opar: opar,
            OpenCurlyDoubleQuote: OpenCurlyDoubleQuote,
            OpenCurlyQuote: OpenCurlyQuote,
            operp: operp,
            oplus: oplus,
            orarr: orarr,
            Or: Or,
            or: or,
            ord: ord,
            order: order,
            orderof: orderof,
            ordf: ordf,
            ordm: ordm,
            origof: origof,
            oror: oror,
            orslope: orslope,
            orv: orv,
            oS: oS,
            Oscr: Oscr,
            oscr: oscr,
            Oslash: Oslash,
            oslash: oslash,
            osol: osol,
            Otilde: Otilde,
            otilde: otilde,
            otimesas: otimesas,
            Otimes: Otimes,
            otimes: otimes,
            Ouml: Ouml,
            ouml: ouml,
            ovbar: ovbar,
            OverBar: OverBar,
            OverBrace: OverBrace,
            OverBracket: OverBracket,
            OverParenthesis: OverParenthesis,
            para: para,
            parallel: parallel,
            par: par,
            parsim: parsim,
            parsl: parsl,
            part: part,
            PartialD: PartialD,
            Pcy: Pcy,
            pcy: pcy,
            percnt: percnt,
            period: period,
            permil: permil,
            perp: perp,
            pertenk: pertenk,
            Pfr: Pfr,
            pfr: pfr,
            Phi: Phi,
            phi: phi,
            phiv: phiv,
            phmmat: phmmat,
            phone: phone,
            Pi: Pi,
            pi: pi,
            pitchfork: pitchfork,
            piv: piv,
            planck: planck,
            planckh: planckh,
            plankv: plankv,
            plusacir: plusacir,
            plusb: plusb,
            pluscir: pluscir,
            plus: plus,
            plusdo: plusdo,
            plusdu: plusdu,
            pluse: pluse,
            PlusMinus: PlusMinus,
            plusmn: plusmn,
            plussim: plussim,
            plustwo: plustwo,
            pm: pm,
            Poincareplane: Poincareplane,
            pointint: pointint,
            popf: popf,
            Popf: Popf,
            pound: pound,
            prap: prap,
            Pr: Pr,
            pr: pr,
            prcue: prcue,
            precapprox: precapprox,
            prec: prec,
            preccurlyeq: preccurlyeq,
            Precedes: Precedes,
            PrecedesEqual: PrecedesEqual,
            PrecedesSlantEqual: PrecedesSlantEqual,
            PrecedesTilde: PrecedesTilde,
            preceq: preceq,
            precnapprox: precnapprox,
            precneqq: precneqq,
            precnsim: precnsim,
            pre: pre,
            prE: prE,
            precsim: precsim,
            prime: prime,
            Prime: Prime,
            primes: primes,
            prnap: prnap,
            prnE: prnE,
            prnsim: prnsim,
            prod: prod,
            Product: Product,
            profalar: profalar,
            profline: profline,
            profsurf: profsurf,
            prop: prop,
            Proportional: Proportional,
            Proportion: Proportion,
            propto: propto,
            prsim: prsim,
            prurel: prurel,
            Pscr: Pscr,
            pscr: pscr,
            Psi: Psi,
            psi: psi,
            puncsp: puncsp,
            Qfr: Qfr,
            qfr: qfr,
            qint: qint,
            qopf: qopf,
            Qopf: Qopf,
            qprime: qprime,
            Qscr: Qscr,
            qscr: qscr,
            quaternions: quaternions,
            quatint: quatint,
            quest: quest,
            questeq: questeq,
            quot: quot,
            QUOT: QUOT,
            rAarr: rAarr,
            race: race,
            Racute: Racute,
            racute: racute,
            radic: radic,
            raemptyv: raemptyv,
            rang: rang,
            Rang: Rang,
            rangd: rangd,
            range: range,
            rangle: rangle,
            raquo: raquo,
            rarrap: rarrap,
            rarrb: rarrb,
            rarrbfs: rarrbfs,
            rarrc: rarrc,
            rarr: rarr,
            Rarr: Rarr,
            rArr: rArr,
            rarrfs: rarrfs,
            rarrhk: rarrhk,
            rarrlp: rarrlp,
            rarrpl: rarrpl,
            rarrsim: rarrsim,
            Rarrtl: Rarrtl,
            rarrtl: rarrtl,
            rarrw: rarrw,
            ratail: ratail,
            rAtail: rAtail,
            ratio: ratio,
            rationals: rationals,
            rbarr: rbarr,
            rBarr: rBarr,
            RBarr: RBarr,
            rbbrk: rbbrk,
            rbrace: rbrace,
            rbrack: rbrack,
            rbrke: rbrke,
            rbrksld: rbrksld,
            rbrkslu: rbrkslu,
            Rcaron: Rcaron,
            rcaron: rcaron,
            Rcedil: Rcedil,
            rcedil: rcedil,
            rceil: rceil,
            rcub: rcub,
            Rcy: Rcy,
            rcy: rcy,
            rdca: rdca,
            rdldhar: rdldhar,
            rdquo: rdquo,
            rdquor: rdquor,
            rdsh: rdsh,
            real: real,
            realine: realine,
            realpart: realpart,
            reals: reals,
            Re: Re,
            rect: rect,
            reg: reg,
            REG: REG,
            ReverseElement: ReverseElement,
            ReverseEquilibrium: ReverseEquilibrium,
            ReverseUpEquilibrium: ReverseUpEquilibrium,
            rfisht: rfisht,
            rfloor: rfloor,
            rfr: rfr,
            Rfr: Rfr,
            rHar: rHar,
            rhard: rhard,
            rharu: rharu,
            rharul: rharul,
            Rho: Rho,
            rho: rho,
            rhov: rhov,
            RightAngleBracket: RightAngleBracket,
            RightArrowBar: RightArrowBar,
            rightarrow: rightarrow,
            RightArrow: RightArrow,
            Rightarrow: Rightarrow,
            RightArrowLeftArrow: RightArrowLeftArrow,
            rightarrowtail: rightarrowtail,
            RightCeiling: RightCeiling,
            RightDoubleBracket: RightDoubleBracket,
            RightDownTeeVector: RightDownTeeVector,
            RightDownVectorBar: RightDownVectorBar,
            RightDownVector: RightDownVector,
            RightFloor: RightFloor,
            rightharpoondown: rightharpoondown,
            rightharpoonup: rightharpoonup,
            rightleftarrows: rightleftarrows,
            rightleftharpoons: rightleftharpoons,
            rightrightarrows: rightrightarrows,
            rightsquigarrow: rightsquigarrow,
            RightTeeArrow: RightTeeArrow,
            RightTee: RightTee,
            RightTeeVector: RightTeeVector,
            rightthreetimes: rightthreetimes,
            RightTriangleBar: RightTriangleBar,
            RightTriangle: RightTriangle,
            RightTriangleEqual: RightTriangleEqual,
            RightUpDownVector: RightUpDownVector,
            RightUpTeeVector: RightUpTeeVector,
            RightUpVectorBar: RightUpVectorBar,
            RightUpVector: RightUpVector,
            RightVectorBar: RightVectorBar,
            RightVector: RightVector,
            ring: ring,
            risingdotseq: risingdotseq,
            rlarr: rlarr,
            rlhar: rlhar,
            rlm: rlm,
            rmoustache: rmoustache,
            rmoust: rmoust,
            rnmid: rnmid,
            roang: roang,
            roarr: roarr,
            robrk: robrk,
            ropar: ropar,
            ropf: ropf,
            Ropf: Ropf,
            roplus: roplus,
            rotimes: rotimes,
            RoundImplies: RoundImplies,
            rpar: rpar,
            rpargt: rpargt,
            rppolint: rppolint,
            rrarr: rrarr,
            Rrightarrow: Rrightarrow,
            rsaquo: rsaquo,
            rscr: rscr,
            Rscr: Rscr,
            rsh: rsh,
            Rsh: Rsh,
            rsqb: rsqb,
            rsquo: rsquo,
            rsquor: rsquor,
            rthree: rthree,
            rtimes: rtimes,
            rtri: rtri,
            rtrie: rtrie,
            rtrif: rtrif,
            rtriltri: rtriltri,
            RuleDelayed: RuleDelayed,
            ruluhar: ruluhar,
            rx: rx,
            Sacute: Sacute,
            sacute: sacute,
            sbquo: sbquo,
            scap: scap,
            Scaron: Scaron,
            scaron: scaron,
            Sc: Sc,
            sc: sc,
            sccue: sccue,
            sce: sce,
            scE: scE,
            Scedil: Scedil,
            scedil: scedil,
            Scirc: Scirc,
            scirc: scirc,
            scnap: scnap,
            scnE: scnE,
            scnsim: scnsim,
            scpolint: scpolint,
            scsim: scsim,
            Scy: Scy,
            scy: scy,
            sdotb: sdotb,
            sdot: sdot,
            sdote: sdote,
            searhk: searhk,
            searr: searr,
            seArr: seArr,
            searrow: searrow,
            sect: sect,
            semi: semi,
            seswar: seswar,
            setminus: setminus,
            setmn: setmn,
            sext: sext,
            Sfr: Sfr,
            sfr: sfr,
            sfrown: sfrown,
            sharp: sharp,
            SHCHcy: SHCHcy,
            shchcy: shchcy,
            SHcy: SHcy,
            shcy: shcy,
            ShortDownArrow: ShortDownArrow,
            ShortLeftArrow: ShortLeftArrow,
            shortmid: shortmid,
            shortparallel: shortparallel,
            ShortRightArrow: ShortRightArrow,
            ShortUpArrow: ShortUpArrow,
            shy: shy,
            Sigma: Sigma,
            sigma: sigma,
            sigmaf: sigmaf,
            sigmav: sigmav,
            sim: sim,
            simdot: simdot,
            sime: sime,
            simeq: simeq,
            simg: simg,
            simgE: simgE,
            siml: siml,
            simlE: simlE,
            simne: simne,
            simplus: simplus,
            simrarr: simrarr,
            slarr: slarr,
            SmallCircle: SmallCircle,
            smallsetminus: smallsetminus,
            smashp: smashp,
            smeparsl: smeparsl,
            smid: smid,
            smile: smile,
            smt: smt,
            smte: smte,
            smtes: smtes,
            SOFTcy: SOFTcy,
            softcy: softcy,
            solbar: solbar,
            solb: solb,
            sol: sol,
            Sopf: Sopf,
            sopf: sopf,
            spades: spades,
            spadesuit: spadesuit,
            spar: spar,
            sqcap: sqcap,
            sqcaps: sqcaps,
            sqcup: sqcup,
            sqcups: sqcups,
            Sqrt: Sqrt,
            sqsub: sqsub,
            sqsube: sqsube,
            sqsubset: sqsubset,
            sqsubseteq: sqsubseteq,
            sqsup: sqsup,
            sqsupe: sqsupe,
            sqsupset: sqsupset,
            sqsupseteq: sqsupseteq,
            square: square,
            Square: Square,
            SquareIntersection: SquareIntersection,
            SquareSubset: SquareSubset,
            SquareSubsetEqual: SquareSubsetEqual,
            SquareSuperset: SquareSuperset,
            SquareSupersetEqual: SquareSupersetEqual,
            SquareUnion: SquareUnion,
            squarf: squarf,
            squ: squ,
            squf: squf,
            srarr: srarr,
            Sscr: Sscr,
            sscr: sscr,
            ssetmn: ssetmn,
            ssmile: ssmile,
            sstarf: sstarf,
            Star: Star,
            star: star,
            starf: starf,
            straightepsilon: straightepsilon,
            straightphi: straightphi,
            strns: strns,
            sub: sub,
            Sub: Sub,
            subdot: subdot,
            subE: subE,
            sube: sube,
            subedot: subedot,
            submult: submult,
            subnE: subnE,
            subne: subne,
            subplus: subplus,
            subrarr: subrarr,
            subset: subset,
            Subset: Subset,
            subseteq: subseteq,
            subseteqq: subseteqq,
            SubsetEqual: SubsetEqual,
            subsetneq: subsetneq,
            subsetneqq: subsetneqq,
            subsim: subsim,
            subsub: subsub,
            subsup: subsup,
            succapprox: succapprox,
            succ: succ,
            succcurlyeq: succcurlyeq,
            Succeeds: Succeeds,
            SucceedsEqual: SucceedsEqual,
            SucceedsSlantEqual: SucceedsSlantEqual,
            SucceedsTilde: SucceedsTilde,
            succeq: succeq,
            succnapprox: succnapprox,
            succneqq: succneqq,
            succnsim: succnsim,
            succsim: succsim,
            SuchThat: SuchThat,
            sum: sum,
            Sum: Sum,
            sung: sung,
            sup1: sup1,
            sup2: sup2,
            sup3: sup3,
            sup: sup,
            Sup: Sup,
            supdot: supdot,
            supdsub: supdsub,
            supE: supE,
            supe: supe,
            supedot: supedot,
            Superset: Superset,
            SupersetEqual: SupersetEqual,
            suphsol: suphsol,
            suphsub: suphsub,
            suplarr: suplarr,
            supmult: supmult,
            supnE: supnE,
            supne: supne,
            supplus: supplus,
            supset: supset,
            Supset: Supset,
            supseteq: supseteq,
            supseteqq: supseteqq,
            supsetneq: supsetneq,
            supsetneqq: supsetneqq,
            supsim: supsim,
            supsub: supsub,
            supsup: supsup,
            swarhk: swarhk,
            swarr: swarr,
            swArr: swArr,
            swarrow: swarrow,
            swnwar: swnwar,
            szlig: szlig,
            Tab: Tab,
            target: target,
            Tau: Tau,
            tau: tau,
            tbrk: tbrk,
            Tcaron: Tcaron,
            tcaron: tcaron,
            Tcedil: Tcedil,
            tcedil: tcedil,
            Tcy: Tcy,
            tcy: tcy,
            tdot: tdot,
            telrec: telrec,
            Tfr: Tfr,
            tfr: tfr,
            there4: there4,
            therefore: therefore,
            Therefore: Therefore,
            Theta: Theta,
            theta: theta,
            thetasym: thetasym,
            thetav: thetav,
            thickapprox: thickapprox,
            thicksim: thicksim,
            ThickSpace: ThickSpace,
            ThinSpace: ThinSpace,
            thinsp: thinsp,
            thkap: thkap,
            thksim: thksim,
            THORN: THORN,
            thorn: thorn,
            tilde: tilde,
            Tilde: Tilde,
            TildeEqual: TildeEqual,
            TildeFullEqual: TildeFullEqual,
            TildeTilde: TildeTilde,
            timesbar: timesbar,
            timesb: timesb,
            times: times,
            timesd: timesd,
            tint: tint,
            toea: toea,
            topbot: topbot,
            topcir: topcir,
            top: top,
            Topf: Topf,
            topf: topf,
            topfork: topfork,
            tosa: tosa,
            tprime: tprime,
            trade: trade,
            TRADE: TRADE,
            triangle: triangle,
            triangledown: triangledown,
            triangleleft: triangleleft,
            trianglelefteq: trianglelefteq,
            triangleq: triangleq,
            triangleright: triangleright,
            trianglerighteq: trianglerighteq,
            tridot: tridot,
            trie: trie,
            triminus: triminus,
            TripleDot: TripleDot,
            triplus: triplus,
            trisb: trisb,
            tritime: tritime,
            trpezium: trpezium,
            Tscr: Tscr,
            tscr: tscr,
            TScy: TScy,
            tscy: tscy,
            TSHcy: TSHcy,
            tshcy: tshcy,
            Tstrok: Tstrok,
            tstrok: tstrok,
            twixt: twixt,
            twoheadleftarrow: twoheadleftarrow,
            twoheadrightarrow: twoheadrightarrow,
            Uacute: Uacute,
            uacute: uacute,
            uarr: uarr,
            Uarr: Uarr,
            uArr: uArr,
            Uarrocir: Uarrocir,
            Ubrcy: Ubrcy,
            ubrcy: ubrcy,
            Ubreve: Ubreve,
            ubreve: ubreve,
            Ucirc: Ucirc,
            ucirc: ucirc,
            Ucy: Ucy,
            ucy: ucy,
            udarr: udarr,
            Udblac: Udblac,
            udblac: udblac,
            udhar: udhar,
            ufisht: ufisht,
            Ufr: Ufr,
            ufr: ufr,
            Ugrave: Ugrave,
            ugrave: ugrave,
            uHar: uHar,
            uharl: uharl,
            uharr: uharr,
            uhblk: uhblk,
            ulcorn: ulcorn,
            ulcorner: ulcorner,
            ulcrop: ulcrop,
            ultri: ultri,
            Umacr: Umacr,
            umacr: umacr,
            uml: uml,
            UnderBar: UnderBar,
            UnderBrace: UnderBrace,
            UnderBracket: UnderBracket,
            UnderParenthesis: UnderParenthesis,
            Union: Union,
            UnionPlus: UnionPlus,
            Uogon: Uogon,
            uogon: uogon,
            Uopf: Uopf,
            uopf: uopf,
            UpArrowBar: UpArrowBar,
            uparrow: uparrow,
            UpArrow: UpArrow,
            Uparrow: Uparrow,
            UpArrowDownArrow: UpArrowDownArrow,
            updownarrow: updownarrow,
            UpDownArrow: UpDownArrow,
            Updownarrow: Updownarrow,
            UpEquilibrium: UpEquilibrium,
            upharpoonleft: upharpoonleft,
            upharpoonright: upharpoonright,
            uplus: uplus,
            UpperLeftArrow: UpperLeftArrow,
            UpperRightArrow: UpperRightArrow,
            upsi: upsi,
            Upsi: Upsi,
            upsih: upsih,
            Upsilon: Upsilon,
            upsilon: upsilon,
            UpTeeArrow: UpTeeArrow,
            UpTee: UpTee,
            upuparrows: upuparrows,
            urcorn: urcorn,
            urcorner: urcorner,
            urcrop: urcrop,
            Uring: Uring,
            uring: uring,
            urtri: urtri,
            Uscr: Uscr,
            uscr: uscr,
            utdot: utdot,
            Utilde: Utilde,
            utilde: utilde,
            utri: utri,
            utrif: utrif,
            uuarr: uuarr,
            Uuml: Uuml,
            uuml: uuml,
            uwangle: uwangle,
            vangrt: vangrt,
            varepsilon: varepsilon,
            varkappa: varkappa,
            varnothing: varnothing,
            varphi: varphi,
            varpi: varpi,
            varpropto: varpropto,
            varr: varr,
            vArr: vArr,
            varrho: varrho,
            varsigma: varsigma,
            varsubsetneq: varsubsetneq,
            varsubsetneqq: varsubsetneqq,
            varsupsetneq: varsupsetneq,
            varsupsetneqq: varsupsetneqq,
            vartheta: vartheta,
            vartriangleleft: vartriangleleft,
            vartriangleright: vartriangleright,
            vBar: vBar,
            Vbar: Vbar,
            vBarv: vBarv,
            Vcy: Vcy,
            vcy: vcy,
            vdash: vdash,
            vDash: vDash,
            Vdash: Vdash,
            VDash: VDash,
            Vdashl: Vdashl,
            veebar: veebar,
            vee: vee,
            Vee: Vee,
            veeeq: veeeq,
            vellip: vellip,
            verbar: verbar,
            Verbar: Verbar,
            vert: vert,
            Vert: Vert,
            VerticalBar: VerticalBar,
            VerticalLine: VerticalLine,
            VerticalSeparator: VerticalSeparator,
            VerticalTilde: VerticalTilde,
            VeryThinSpace: VeryThinSpace,
            Vfr: Vfr,
            vfr: vfr,
            vltri: vltri,
            vnsub: vnsub,
            vnsup: vnsup,
            Vopf: Vopf,
            vopf: vopf,
            vprop: vprop,
            vrtri: vrtri,
            Vscr: Vscr,
            vscr: vscr,
            vsubnE: vsubnE,
            vsubne: vsubne,
            vsupnE: vsupnE,
            vsupne: vsupne,
            Vvdash: Vvdash,
            vzigzag: vzigzag,
            Wcirc: Wcirc,
            wcirc: wcirc,
            wedbar: wedbar,
            wedge: wedge,
            Wedge: Wedge,
            wedgeq: wedgeq,
            weierp: weierp,
            Wfr: Wfr,
            wfr: wfr,
            Wopf: Wopf,
            wopf: wopf,
            wp: wp,
            wr: wr,
            wreath: wreath,
            Wscr: Wscr,
            wscr: wscr,
            xcap: xcap,
            xcirc: xcirc,
            xcup: xcup,
            xdtri: xdtri,
            Xfr: Xfr,
            xfr: xfr,
            xharr: xharr,
            xhArr: xhArr,
            Xi: Xi,
            xi: xi,
            xlarr: xlarr,
            xlArr: xlArr,
            xmap: xmap,
            xnis: xnis,
            xodot: xodot,
            Xopf: Xopf,
            xopf: xopf,
            xoplus: xoplus,
            xotime: xotime,
            xrarr: xrarr,
            xrArr: xrArr,
            Xscr: Xscr,
            xscr: xscr,
            xsqcup: xsqcup,
            xuplus: xuplus,
            xutri: xutri,
            xvee: xvee,
            xwedge: xwedge,
            Yacute: Yacute,
            yacute: yacute,
            YAcy: YAcy,
            yacy: yacy,
            Ycirc: Ycirc,
            ycirc: ycirc,
            Ycy: Ycy,
            ycy: ycy,
            yen: yen,
            Yfr: Yfr,
            yfr: yfr,
            YIcy: YIcy,
            yicy: yicy,
            Yopf: Yopf,
            yopf: yopf,
            Yscr: Yscr,
            yscr: yscr,
            YUcy: YUcy,
            yucy: yucy,
            yuml: yuml,
            Yuml: Yuml,
            Zacute: Zacute,
            zacute: zacute,
            Zcaron: Zcaron,
            zcaron: zcaron,
            Zcy: Zcy,
            zcy: zcy,
            Zdot: Zdot,
            zdot: zdot,
            zeetrf: zeetrf,
            ZeroWidthSpace: ZeroWidthSpace,
            Zeta: Zeta,
            zeta: zeta,
            zfr: zfr,
            Zfr: Zfr,
            ZHcy: ZHcy,
            zhcy: zhcy,
            zigrarr: zigrarr,
            zopf: zopf,
            Zopf: Zopf,
            Zscr: Zscr,
            zscr: zscr,
            zwj: zwj,
            zwnj: zwnj,
            'default': entities
        };
        var Aacute$1 = "";
        var aacute$1 = "";
        var Acirc$1 = "";
        var acirc$1 = "";
        var acute$1 = "";
        var AElig$1 = "";
        var aelig$1 = "";
        var Agrave$1 = "";
        var agrave$1 = "";
        var amp$1 = "&";
        var AMP$1 = "&";
        var Aring$1 = "";
        var aring$1 = "";
        var Atilde$1 = "";
        var atilde$1 = "";
        var Auml$1 = "";
        var auml$1 = "";
        var brvbar$1 = "";
        var Ccedil$1 = "";
        var ccedil$1 = "";
        var cedil$1 = "";
        var cent$1 = "";
        var copy$1 = "";
        var COPY$1 = "";
        var curren$1 = "";
        var deg$1 = "";
        var divide$1 = "";
        var Eacute$1 = "";
        var eacute$1 = "";
        var Ecirc$1 = "";
        var ecirc$1 = "";
        var Egrave$1 = "";
        var egrave$1 = "";
        var ETH$1 = "";
        var eth$1 = "";
        var Euml$1 = "";
        var euml$1 = "";
        var frac12$1 = "";
        var frac14$1 = "";
        var frac34$1 = "";
        var gt$1 = ">";
        var GT$1 = ">";
        var Iacute$1 = "";
        var iacute$1 = "";
        var Icirc$1 = "";
        var icirc$1 = "";
        var iexcl$1 = "";
        var Igrave$1 = "";
        var igrave$1 = "";
        var iquest$1 = "";
        var Iuml$1 = "";
        var iuml$1 = "";
        var laquo$1 = "";
        var lt$1 = "<";
        var LT$1 = "<";
        var macr$1 = "";
        var micro$1 = "";
        var middot$1 = "";
        var nbsp$1 = "";
        var not$1 = "";
        var Ntilde$1 = "";
        var ntilde$1 = "";
        var Oacute$1 = "";
        var oacute$1 = "";
        var Ocirc$1 = "";
        var ocirc$1 = "";
        var Ograve$1 = "";
        var ograve$1 = "";
        var ordf$1 = "";
        var ordm$1 = "";
        var Oslash$1 = "";
        var oslash$1 = "";
        var Otilde$1 = "";
        var otilde$1 = "";
        var Ouml$1 = "";
        var ouml$1 = "";
        var para$1 = "";
        var plusmn$1 = "";
        var pound$1 = "";
        var quot$1 = "\"";
        var QUOT$1 = "\"";
        var raquo$1 = "";
        var reg$1 = "";
        var REG$1 = "";
        var sect$1 = "";
        var shy$1 = "";
        var sup1$1 = "";
        var sup2$1 = "";
        var sup3$1 = "";
        var szlig$1 = "";
        var THORN$1 = "";
        var thorn$1 = "";
        var times$1 = "";
        var Uacute$1 = "";
        var uacute$1 = "";
        var Ucirc$1 = "";
        var ucirc$1 = "";
        var Ugrave$1 = "";
        var ugrave$1 = "";
        var uml$1 = "";
        var Uuml$1 = "";
        var uuml$1 = "";
        var Yacute$1 = "";
        var yacute$1 = "";
        var yen$1 = "";
        var yuml$1 = "";
        var legacy = {
            Aacute: Aacute$1,
            aacute: aacute$1,
            Acirc: Acirc$1,
            acirc: acirc$1,
            acute: acute$1,
            AElig: AElig$1,
            aelig: aelig$1,
            Agrave: Agrave$1,
            agrave: agrave$1,
            amp: amp$1,
            AMP: AMP$1,
            Aring: Aring$1,
            aring: aring$1,
            Atilde: Atilde$1,
            atilde: atilde$1,
            Auml: Auml$1,
            auml: auml$1,
            brvbar: brvbar$1,
            Ccedil: Ccedil$1,
            ccedil: ccedil$1,
            cedil: cedil$1,
            cent: cent$1,
            copy: copy$1,
            COPY: COPY$1,
            curren: curren$1,
            deg: deg$1,
            divide: divide$1,
            Eacute: Eacute$1,
            eacute: eacute$1,
            Ecirc: Ecirc$1,
            ecirc: ecirc$1,
            Egrave: Egrave$1,
            egrave: egrave$1,
            ETH: ETH$1,
            eth: eth$1,
            Euml: Euml$1,
            euml: euml$1,
            frac12: frac12$1,
            frac14: frac14$1,
            frac34: frac34$1,
            gt: gt$1,
            GT: GT$1,
            Iacute: Iacute$1,
            iacute: iacute$1,
            Icirc: Icirc$1,
            icirc: icirc$1,
            iexcl: iexcl$1,
            Igrave: Igrave$1,
            igrave: igrave$1,
            iquest: iquest$1,
            Iuml: Iuml$1,
            iuml: iuml$1,
            laquo: laquo$1,
            lt: lt$1,
            LT: LT$1,
            macr: macr$1,
            micro: micro$1,
            middot: middot$1,
            nbsp: nbsp$1,
            not: not$1,
            Ntilde: Ntilde$1,
            ntilde: ntilde$1,
            Oacute: Oacute$1,
            oacute: oacute$1,
            Ocirc: Ocirc$1,
            ocirc: ocirc$1,
            Ograve: Ograve$1,
            ograve: ograve$1,
            ordf: ordf$1,
            ordm: ordm$1,
            Oslash: Oslash$1,
            oslash: oslash$1,
            Otilde: Otilde$1,
            otilde: otilde$1,
            Ouml: Ouml$1,
            ouml: ouml$1,
            para: para$1,
            plusmn: plusmn$1,
            pound: pound$1,
            quot: quot$1,
            QUOT: QUOT$1,
            raquo: raquo$1,
            reg: reg$1,
            REG: REG$1,
            sect: sect$1,
            shy: shy$1,
            sup1: sup1$1,
            sup2: sup2$1,
            sup3: sup3$1,
            szlig: szlig$1,
            THORN: THORN$1,
            thorn: thorn$1,
            times: times$1,
            Uacute: Uacute$1,
            uacute: uacute$1,
            Ucirc: Ucirc$1,
            ucirc: ucirc$1,
            Ugrave: Ugrave$1,
            ugrave: ugrave$1,
            uml: uml$1,
            Uuml: Uuml$1,
            uuml: uuml$1,
            Yacute: Yacute$1,
            yacute: yacute$1,
            yen: yen$1,
            yuml: yuml$1
        };
        var legacy$1 = {
            __proto__: null,
            Aacute: Aacute$1,
            aacute: aacute$1,
            Acirc: Acirc$1,
            acirc: acirc$1,
            acute: acute$1,
            AElig: AElig$1,
            aelig: aelig$1,
            Agrave: Agrave$1,
            agrave: agrave$1,
            amp: amp$1,
            AMP: AMP$1,
            Aring: Aring$1,
            aring: aring$1,
            Atilde: Atilde$1,
            atilde: atilde$1,
            Auml: Auml$1,
            auml: auml$1,
            brvbar: brvbar$1,
            Ccedil: Ccedil$1,
            ccedil: ccedil$1,
            cedil: cedil$1,
            cent: cent$1,
            copy: copy$1,
            COPY: COPY$1,
            curren: curren$1,
            deg: deg$1,
            divide: divide$1,
            Eacute: Eacute$1,
            eacute: eacute$1,
            Ecirc: Ecirc$1,
            ecirc: ecirc$1,
            Egrave: Egrave$1,
            egrave: egrave$1,
            ETH: ETH$1,
            eth: eth$1,
            Euml: Euml$1,
            euml: euml$1,
            frac12: frac12$1,
            frac14: frac14$1,
            frac34: frac34$1,
            gt: gt$1,
            GT: GT$1,
            Iacute: Iacute$1,
            iacute: iacute$1,
            Icirc: Icirc$1,
            icirc: icirc$1,
            iexcl: iexcl$1,
            Igrave: Igrave$1,
            igrave: igrave$1,
            iquest: iquest$1,
            Iuml: Iuml$1,
            iuml: iuml$1,
            laquo: laquo$1,
            lt: lt$1,
            LT: LT$1,
            macr: macr$1,
            micro: micro$1,
            middot: middot$1,
            nbsp: nbsp$1,
            not: not$1,
            Ntilde: Ntilde$1,
            ntilde: ntilde$1,
            Oacute: Oacute$1,
            oacute: oacute$1,
            Ocirc: Ocirc$1,
            ocirc: ocirc$1,
            Ograve: Ograve$1,
            ograve: ograve$1,
            ordf: ordf$1,
            ordm: ordm$1,
            Oslash: Oslash$1,
            oslash: oslash$1,
            Otilde: Otilde$1,
            otilde: otilde$1,
            Ouml: Ouml$1,
            ouml: ouml$1,
            para: para$1,
            plusmn: plusmn$1,
            pound: pound$1,
            quot: quot$1,
            QUOT: QUOT$1,
            raquo: raquo$1,
            reg: reg$1,
            REG: REG$1,
            sect: sect$1,
            shy: shy$1,
            sup1: sup1$1,
            sup2: sup2$1,
            sup3: sup3$1,
            szlig: szlig$1,
            THORN: THORN$1,
            thorn: thorn$1,
            times: times$1,
            Uacute: Uacute$1,
            uacute: uacute$1,
            Ucirc: Ucirc$1,
            ucirc: ucirc$1,
            Ugrave: Ugrave$1,
            ugrave: ugrave$1,
            uml: uml$1,
            Uuml: Uuml$1,
            uuml: uuml$1,
            Yacute: Yacute$1,
            yacute: yacute$1,
            yen: yen$1,
            yuml: yuml$1,
            'default': legacy
        };
        var amp$2 = "&";
        var apos$1 = "'";
        var gt$2 = ">";
        var lt$2 = "<";
        var quot$2 = "\"";
        var xml = {
            amp: amp$2,
            apos: apos$1,
            gt: gt$2,
            lt: lt$2,
            quot: quot$2
        };
        var xml$1 = {
            __proto__: null,
            amp: amp$2,
            apos: apos$1,
            gt: gt$2,
            lt: lt$2,
            quot: quot$2,
            'default': xml
        };
        var decode = {
            "0": 65533,
            "128": 8364,
            "130": 8218,
            "131": 402,
            "132": 8222,
            "133": 8230,
            "134": 8224,
            "135": 8225,
            "136": 710,
            "137": 8240,
            "138": 352,
            "139": 8249,
            "140": 338,
            "142": 381,
            "145": 8216,
            "146": 8217,
            "147": 8220,
            "148": 8221,
            "149": 8226,
            "150": 8211,
            "151": 8212,
            "152": 732,
            "153": 8482,
            "154": 353,
            "155": 8250,
            "156": 339,
            "158": 382,
            "159": 376
        };
        var decode$1 = {
            __proto__: null,
            'default': decode
        };
        var require$$0 = getCjsExportFromNamespace(decode$1);
        var decode_codepoint = createCommonjsModule(function (module, exports) {
            var __importDefault = (commonjsGlobal && commonjsGlobal.__importDefault) || function (mod) {
                return (mod && mod.__esModule) ? mod : { "default": mod };
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            var decode_json_1 = __importDefault(require$$0);
            // modified version of https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119
            function decodeCodePoint(codePoint) {
                if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {
                    return "\uFFFD";
                }
                if (codePoint in decode_json_1.default) {
                    codePoint = decode_json_1.default[codePoint];
                }
                var output = "";
                if (codePoint > 0xffff) {
                    codePoint -= 0x10000;
                    output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);
                    codePoint = 0xdc00 | (codePoint & 0x3ff);
                }
                output += String.fromCharCode(codePoint);
                return output;
            }
            exports.default = decodeCodePoint;
        });
        var require$$1 = getCjsExportFromNamespace(entities$1);
        var require$$1$1 = getCjsExportFromNamespace(legacy$1);
        var require$$0$1 = getCjsExportFromNamespace(xml$1);
        var decode$2 = createCommonjsModule(function (module, exports) {
            var __importDefault = (commonjsGlobal && commonjsGlobal.__importDefault) || function (mod) {
                return (mod && mod.__esModule) ? mod : { "default": mod };
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            exports.decodeHTML = exports.decodeHTMLStrict = exports.decodeXML = void 0;
            var entities_json_1 = __importDefault(require$$1);
            var legacy_json_1 = __importDefault(require$$1$1);
            var xml_json_1 = __importDefault(require$$0$1);
            var decode_codepoint_1 = __importDefault(decode_codepoint);
            exports.decodeXML = getStrictDecoder(xml_json_1.default);
            exports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);
            function getStrictDecoder(map) {
                var keys = Object.keys(map).join("|");
                var replace = getReplacer(map);
                keys += "|#[xX][\\da-fA-F]+|#\\d+";
                var re = new RegExp("&(?:" + keys + ");", "g");
                return function (str) { return String(str).replace(re, replace); };
            }
            var sorter = function (a, b) { return (a < b ? 1 : -1); };
            exports.decodeHTML = (function () {
                var legacy = Object.keys(legacy_json_1.default).sort(sorter);
                var keys = Object.keys(entities_json_1.default).sort(sorter);
                for (var i = 0, j = 0; i < keys.length; i++) {
                    if (legacy[j] === keys[i]) {
                        keys[i] += ";?";
                        j++;
                    }
                    else {
                        keys[i] += ";";
                    }
                }
                var re = new RegExp("&(?:" + keys.join("|") + "|#[xX][\\da-fA-F]+;?|#\\d+;?)", "g");
                var replace = getReplacer(entities_json_1.default);
                function replacer(str) {
                    if (str.substr(-1) !== ";")
                        str += ";";
                    return replace(str);
                }
                //TODO consider creating a merged map
                return function (str) { return String(str).replace(re, replacer); };
            })();
            function getReplacer(map) {
                return function replace(str) {
                    if (str.charAt(1) === "#") {
                        var secondChar = str.charAt(2);
                        if (secondChar === "X" || secondChar === "x") {
                            return decode_codepoint_1.default(parseInt(str.substr(3), 16));
                        }
                        return decode_codepoint_1.default(parseInt(str.substr(2), 10));
                    }
                    return map[str.slice(1, -1)];
                };
            }
        });
        var encode = createCommonjsModule(function (module, exports) {
            var __importDefault = (commonjsGlobal && commonjsGlobal.__importDefault) || function (mod) {
                return (mod && mod.__esModule) ? mod : { "default": mod };
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            exports.escape = exports.encodeHTML = exports.encodeXML = void 0;
            var xml_json_1 = __importDefault(require$$0$1);
            var inverseXML = getInverseObj(xml_json_1.default);
            var xmlReplacer = getInverseReplacer(inverseXML);
            exports.encodeXML = getInverse(inverseXML, xmlReplacer);
            var entities_json_1 = __importDefault(require$$1);
            var inverseHTML = getInverseObj(entities_json_1.default);
            var htmlReplacer = getInverseReplacer(inverseHTML);
            exports.encodeHTML = getInverse(inverseHTML, htmlReplacer);
            function getInverseObj(obj) {
                return Object.keys(obj)
                    .sort()
                    .reduce(function (inverse, name) {
                    inverse[obj[name]] = "&" + name + ";";
                    return inverse;
                }, {});
            }
            function getInverseReplacer(inverse) {
                var single = [];
                var multiple = [];
                for (var _i = 0, _a = Object.keys(inverse); _i < _a.length; _i++) {
                    var k = _a[_i];
                    if (k.length === 1) {
                        // Add value to single array
                        single.push("\\" + k);
                    }
                    else {
                        // Add value to multiple array
                        multiple.push(k);
                    }
                }
                // Add ranges to single characters.
                single.sort();
                for (var start = 0; start < single.length - 1; start++) {
                    // Find the end of a run of characters
                    var end = start;
                    while (end < single.length - 1 &&
                        single[end].charCodeAt(1) + 1 === single[end + 1].charCodeAt(1)) {
                        end += 1;
                    }
                    var count = 1 + end - start;
                    // We want to replace at least three characters
                    if (count < 3)
                        continue;
                    single.splice(start, count, single[start] + "-" + single[end]);
                }
                multiple.unshift("[" + single.join("") + "]");
                return new RegExp(multiple.join("|"), "g");
            }
            var reNonASCII = /(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g;
            function singleCharReplacer(c) {
                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                return "&#x" + c.codePointAt(0).toString(16).toUpperCase() + ";";
            }
            function getInverse(inverse, re) {
                return function (data) {
                    return data
                        .replace(re, function (name) { return inverse[name]; })
                        .replace(reNonASCII, singleCharReplacer);
                };
            }
            var reXmlChars = getInverseReplacer(inverseXML);
            function escape(data) {
                return data
                    .replace(reXmlChars, singleCharReplacer)
                    .replace(reNonASCII, singleCharReplacer);
            }
            exports.escape = escape;
        });
        var lib$1$1 = createCommonjsModule(function (module, exports) {
            Object.defineProperty(exports, "__esModule", { value: true });
            exports.encode = exports.decodeStrict = exports.decode = void 0;
            /**
             * Decodes a string with entities.
             *
             * @param data String to decode.
             * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.
             */
            function decode(data, level) {
                return (!level || level <= 0 ? decode$2.decodeXML : decode$2.decodeHTML)(data);
            }
            exports.decode = decode;
            /**
             * Decodes a string with entities. Does not allow missing trailing semicolons for entities.
             *
             * @param data String to decode.
             * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.
             */
            function decodeStrict(data, level) {
                return (!level || level <= 0 ? decode$2.decodeXML : decode$2.decodeHTMLStrict)(data);
            }
            exports.decodeStrict = decodeStrict;
            /**
             * Encodes a string with entities.
             *
             * @param data String to encode.
             * @param level Optional level to encode at. 0 = XML, 1 = HTML. Default is 0.
             */
            function encode$1(data, level) {
                return (!level || level <= 0 ? encode.encodeXML : encode.encodeHTML)(data);
            }
            exports.encode = encode$1;
            var encode_2 = encode;
            Object.defineProperty(exports, "encodeXML", { enumerable: true, get: function () { return encode_2.encodeXML; } });
            Object.defineProperty(exports, "encodeHTML", { enumerable: true, get: function () { return encode_2.encodeHTML; } });
            Object.defineProperty(exports, "escape", { enumerable: true, get: function () { return encode_2.escape; } });
            // Legacy aliases
            Object.defineProperty(exports, "encodeHTML4", { enumerable: true, get: function () { return encode_2.encodeHTML; } });
            Object.defineProperty(exports, "encodeHTML5", { enumerable: true, get: function () { return encode_2.encodeHTML; } });
            var decode_2 = decode$2;
            Object.defineProperty(exports, "decodeXML", { enumerable: true, get: function () { return decode_2.decodeXML; } });
            Object.defineProperty(exports, "decodeHTML", { enumerable: true, get: function () { return decode_2.decodeHTML; } });
            Object.defineProperty(exports, "decodeHTMLStrict", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });
            // Legacy aliases
            Object.defineProperty(exports, "decodeHTML4", { enumerable: true, get: function () { return decode_2.decodeHTML; } });
            Object.defineProperty(exports, "decodeHTML5", { enumerable: true, get: function () { return decode_2.decodeHTML; } });
            Object.defineProperty(exports, "decodeHTML4Strict", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });
            Object.defineProperty(exports, "decodeHTML5Strict", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });
            Object.defineProperty(exports, "decodeXMLStrict", { enumerable: true, get: function () { return decode_2.decodeXML; } });
        });
        var elementNames = {
            altglyph: "altGlyph",
            altglyphdef: "altGlyphDef",
            altglyphitem: "altGlyphItem",
            animatecolor: "animateColor",
            animatemotion: "animateMotion",
            animatetransform: "animateTransform",
            clippath: "clipPath",
            feblend: "feBlend",
            fecolormatrix: "feColorMatrix",
            fecomponenttransfer: "feComponentTransfer",
            fecomposite: "feComposite",
            feconvolvematrix: "feConvolveMatrix",
            fediffuselighting: "feDiffuseLighting",
            fedisplacementmap: "feDisplacementMap",
            fedistantlight: "feDistantLight",
            fedropshadow: "feDropShadow",
            feflood: "feFlood",
            fefunca: "feFuncA",
            fefuncb: "feFuncB",
            fefuncg: "feFuncG",
            fefuncr: "feFuncR",
            fegaussianblur: "feGaussianBlur",
            feimage: "feImage",
            femerge: "feMerge",
            femergenode: "feMergeNode",
            femorphology: "feMorphology",
            feoffset: "feOffset",
            fepointlight: "fePointLight",
            fespecularlighting: "feSpecularLighting",
            fespotlight: "feSpotLight",
            fetile: "feTile",
            feturbulence: "feTurbulence",
            foreignobject: "foreignObject",
            glyphref: "glyphRef",
            lineargradient: "linearGradient",
            radialgradient: "radialGradient",
            textpath: "textPath"
        };
        var attributeNames = {
            definitionurl: "definitionURL",
            attributename: "attributeName",
            attributetype: "attributeType",
            basefrequency: "baseFrequency",
            baseprofile: "baseProfile",
            calcmode: "calcMode",
            clippathunits: "clipPathUnits",
            diffuseconstant: "diffuseConstant",
            edgemode: "edgeMode",
            filterunits: "filterUnits",
            glyphref: "glyphRef",
            gradienttransform: "gradientTransform",
            gradientunits: "gradientUnits",
            kernelmatrix: "kernelMatrix",
            kernelunitlength: "kernelUnitLength",
            keypoints: "keyPoints",
            keysplines: "keySplines",
            keytimes: "keyTimes",
            lengthadjust: "lengthAdjust",
            limitingconeangle: "limitingConeAngle",
            markerheight: "markerHeight",
            markerunits: "markerUnits",
            markerwidth: "markerWidth",
            maskcontentunits: "maskContentUnits",
            maskunits: "maskUnits",
            numoctaves: "numOctaves",
            pathlength: "pathLength",
            patterncontentunits: "patternContentUnits",
            patterntransform: "patternTransform",
            patternunits: "patternUnits",
            pointsatx: "pointsAtX",
            pointsaty: "pointsAtY",
            pointsatz: "pointsAtZ",
            preservealpha: "preserveAlpha",
            preserveaspectratio: "preserveAspectRatio",
            primitiveunits: "primitiveUnits",
            refx: "refX",
            refy: "refY",
            repeatcount: "repeatCount",
            repeatdur: "repeatDur",
            requiredextensions: "requiredExtensions",
            requiredfeatures: "requiredFeatures",
            specularconstant: "specularConstant",
            specularexponent: "specularExponent",
            spreadmethod: "spreadMethod",
            startoffset: "startOffset",
            stddeviation: "stdDeviation",
            stitchtiles: "stitchTiles",
            surfacescale: "surfaceScale",
            systemlanguage: "systemLanguage",
            tablevalues: "tableValues",
            targetx: "targetX",
            targety: "targetY",
            textlength: "textLength",
            viewbox: "viewBox",
            viewtarget: "viewTarget",
            xchannelselector: "xChannelSelector",
            ychannelselector: "yChannelSelector",
            zoomandpan: "zoomAndPan"
        };
        var foreignNames = {
            elementNames: elementNames,
            attributeNames: attributeNames
        };
        var foreignNames$1 = {
            __proto__: null,
            elementNames: elementNames,
            attributeNames: attributeNames,
            'default': foreignNames
        };
        var foreignNames$2 = getCjsExportFromNamespace(foreignNames$1);
        var domSerializer = createCommonjsModule(function (module) {
            /*
              Module dependencies
            */
            /* mixed-case SVG and MathML tags & attributes
               recognized by the HTML parser, see
               https://html.spec.whatwg.org/multipage/parsing.html#parsing-main-inforeign
            */
            foreignNames$2.elementNames.__proto__ = null; /* use as a simple dictionary */
            foreignNames$2.attributeNames.__proto__ = null;
            var unencodedElements = {
                __proto__: null,
                style: true,
                script: true,
                xmp: true,
                iframe: true,
                noembed: true,
                noframes: true,
                plaintext: true,
                noscript: true
            };
            /*
              Format attributes
            */
            function formatAttrs(attributes, opts) {
                if (!attributes)
                    return;
                var output = '';
                var value;
                // Loop through the attributes
                for (var key in attributes) {
                    value = attributes[key];
                    if (output) {
                        output += ' ';
                    }
                    if (opts.xmlMode === 'foreign') {
                        /* fix up mixed-case attribute names */
                        key = foreignNames$2.attributeNames[key] || key;
                    }
                    output += key;
                    if ((value !== null && value !== '') || opts.xmlMode) {
                        output +=
                            '="' +
                                (opts.decodeEntities
                                    ? lib$1$1.encodeXML(value)
                                    : value.replace(/\"/g, '&quot;')) +
                                '"';
                    }
                }
                return output;
            }
            /*
              Self-enclosing tags (stolen from node-htmlparser)
            */
            var singleTag = {
                __proto__: null,
                area: true,
                base: true,
                basefont: true,
                br: true,
                col: true,
                command: true,
                embed: true,
                frame: true,
                hr: true,
                img: true,
                input: true,
                isindex: true,
                keygen: true,
                link: true,
                meta: true,
                param: true,
                source: true,
                track: true,
                wbr: true
            };
            var render = (module.exports = function (dom, opts) {
                if (!Array.isArray(dom) && !dom.cheerio)
                    dom = [dom];
                opts = opts || {};
                var output = '';
                for (var i = 0; i < dom.length; i++) {
                    var elem = dom[i];
                    if (elem.type === 'root')
                        output += render(elem.children, opts);
                    else if (lib$2.isTag(elem))
                        output += renderTag(elem, opts);
                    else if (elem.type === lib$2.Directive)
                        output += renderDirective(elem);
                    else if (elem.type === lib$2.Comment)
                        output += renderComment(elem);
                    else if (elem.type === lib$2.CDATA)
                        output += renderCdata(elem);
                    else
                        output += renderText(elem, opts);
                }
                return output;
            });
            var foreignModeIntegrationPoints = [
                'mi',
                'mo',
                'mn',
                'ms',
                'mtext',
                'annotation-xml',
                'foreignObject',
                'desc',
                'title'
            ];
            function renderTag(elem, opts) {
                // Handle SVG / MathML in HTML
                if (opts.xmlMode === 'foreign') {
                    /* fix up mixed-case element names */
                    elem.name = foreignNames$2.elementNames[elem.name] || elem.name;
                    /* exit foreign mode at integration points */
                    if (elem.parent &&
                        foreignModeIntegrationPoints.indexOf(elem.parent.name) >= 0)
                        opts = Object.assign({}, opts, { xmlMode: false });
                }
                if (!opts.xmlMode && ['svg', 'math'].indexOf(elem.name) >= 0) {
                    opts = Object.assign({}, opts, { xmlMode: 'foreign' });
                }
                var tag = '<' + elem.name;
                var attribs = formatAttrs(elem.attribs, opts);
                if (attribs) {
                    tag += ' ' + attribs;
                }
                if (opts.xmlMode && (!elem.children || elem.children.length === 0)) {
                    tag += '/>';
                }
                else {
                    tag += '>';
                    if (elem.children) {
                        tag += render(elem.children, opts);
                    }
                    if (!singleTag[elem.name] || opts.xmlMode) {
                        tag += '</' + elem.name + '>';
                    }
                }
                return tag;
            }
            function renderDirective(elem) {
                return '<' + elem.data + '>';
            }
            function renderText(elem, opts) {
                var data = elem.data || '';
                // if entities weren't decoded, no need to encode them back
                if (opts.decodeEntities &&
                    !(elem.parent && elem.parent.name in unencodedElements)) {
                    data = lib$1$1.encodeXML(data);
                }
                return data;
            }
            function renderCdata(elem) {
                return '<![CDATA[' + elem.children[0].data + ']]>';
            }
            function renderComment(elem) {
                return '<!--' + elem.data + '-->';
            }
        });
        var isTag = domelementtype.isTag;
        var stringify = {
            getInnerHTML: getInnerHTML,
            getOuterHTML: domSerializer,
            getText: getText
        };
        function getInnerHTML(elem, opts) {
            return elem.children ? elem.children.map(function (elem) {
                return domSerializer(elem, opts);
            }).join("") : "";
        }
        function getText(elem) {
            if (Array.isArray(elem))
                return elem.map(getText).join("");
            if (isTag(elem) || elem.type === domelementtype.CDATA)
                return getText(elem.children);
            if (elem.type === domelementtype.Text)
                return elem.data;
            return "";
        }
        var traversal = createCommonjsModule(function (module, exports) {
            var getChildren = exports.getChildren = function (elem) {
                return elem.children;
            };
            var getParent = exports.getParent = function (elem) {
                return elem.parent;
            };
            exports.getSiblings = function (elem) {
                var parent = getParent(elem);
                return parent ? getChildren(parent) : [elem];
            };
            exports.getAttributeValue = function (elem, name) {
                return elem.attribs && elem.attribs[name];
            };
            exports.hasAttrib = function (elem, name) {
                return !!elem.attribs && hasOwnProperty.call(elem.attribs, name);
            };
            exports.getName = function (elem) {
                return elem.name;
            };
        });
        var removeElement = function (elem) {
            if (elem.prev)
                elem.prev.next = elem.next;
            if (elem.next)
                elem.next.prev = elem.prev;
            if (elem.parent) {
                var childs = elem.parent.children;
                childs.splice(childs.lastIndexOf(elem), 1);
            }
        };
        var replaceElement = function (elem, replacement) {
            var prev = replacement.prev = elem.prev;
            if (prev) {
                prev.next = replacement;
            }
            var next = replacement.next = elem.next;
            if (next) {
                next.prev = replacement;
            }
            var parent = replacement.parent = elem.parent;
            if (parent) {
                var childs = parent.children;
                childs[childs.lastIndexOf(elem)] = replacement;
            }
        };
        var appendChild = function (elem, child) {
            child.parent = elem;
            if (elem.children.push(child) !== 1) {
                var sibling = elem.children[elem.children.length - 2];
                sibling.next = child;
                child.prev = sibling;
                child.next = null;
            }
        };
        var append = function (elem, next) {
            var parent = elem.parent, currNext = elem.next;
            next.next = currNext;
            next.prev = elem;
            elem.next = next;
            next.parent = parent;
            if (currNext) {
                currNext.prev = next;
                if (parent) {
                    var childs = parent.children;
                    childs.splice(childs.lastIndexOf(currNext), 0, next);
                }
            }
            else if (parent) {
                parent.children.push(next);
            }
        };
        var prepend = function (elem, prev) {
            var parent = elem.parent;
            if (parent) {
                var childs = parent.children;
                childs.splice(childs.lastIndexOf(elem), 0, prev);
            }
            if (elem.prev) {
                elem.prev.next = prev;
            }
            prev.parent = parent;
            prev.prev = elem.prev;
            prev.next = elem;
            elem.prev = prev;
        };
        var manipulation = {
            removeElement: removeElement,
            replaceElement: replaceElement,
            appendChild: appendChild,
            append: append,
            prepend: prepend
        };
        var isTag$1 = domelementtype.isTag;
        var querying = {
            filter: filter,
            find: find,
            findOneChild: findOneChild,
            findOne: findOne,
            existsOne: existsOne,
            findAll: findAll
        };
        function filter(test, element, recurse, limit) {
            if (!Array.isArray(element))
                element = [element];
            if (typeof limit !== "number" || !isFinite(limit)) {
                limit = Infinity;
            }
            return find(test, element, recurse !== false, limit);
        }
        function find(test, elems, recurse, limit) {
            var result = [], childs;
            for (var i = 0, j = elems.length; i < j; i++) {
                if (test(elems[i])) {
                    result.push(elems[i]);
                    if (--limit <= 0)
                        break;
                }
                childs = elems[i].children;
                if (recurse && childs && childs.length > 0) {
                    childs = find(test, childs, recurse, limit);
                    result = result.concat(childs);
                    limit -= childs.length;
                    if (limit <= 0)
                        break;
                }
            }
            return result;
        }
        function findOneChild(test, elems) {
            for (var i = 0, l = elems.length; i < l; i++) {
                if (test(elems[i]))
                    return elems[i];
            }
            return null;
        }
        function findOne(test, elems) {
            var elem = null;
            for (var i = 0, l = elems.length; i < l && !elem; i++) {
                if (!isTag$1(elems[i])) {
                    continue;
                }
                else if (test(elems[i])) {
                    elem = elems[i];
                }
                else if (elems[i].children.length > 0) {
                    elem = findOne(test, elems[i].children);
                }
            }
            return elem;
        }
        function existsOne(test, elems) {
            for (var i = 0, l = elems.length; i < l; i++) {
                if (isTag$1(elems[i]) && (test(elems[i]) || (elems[i].children.length > 0 &&
                    existsOne(test, elems[i].children)))) {
                    return true;
                }
            }
            return false;
        }
        function findAll(test, elems) {
            var result = [];
            for (var i = 0, j = elems.length; i < j; i++) {
                if (!isTag$1(elems[i]))
                    continue;
                if (test(elems[i]))
                    result.push(elems[i]);
                if (elems[i].children.length > 0) {
                    result = result.concat(findAll(test, elems[i].children));
                }
            }
            return result;
        }
        var legacy$2 = createCommonjsModule(function (module, exports) {
            var isTag = exports.isTag = domelementtype.isTag;
            exports.testElement = function (options, element) {
                for (var key in options) {
                    if (!options.hasOwnProperty(key))
                        ;
                    else if (key === "tag_name") {
                        if (!isTag(element) || !options.tag_name(element.name)) {
                            return false;
                        }
                    }
                    else if (key === "tag_type") {
                        if (!options.tag_type(element.type))
                            return false;
                    }
                    else if (key === "tag_contains") {
                        if (isTag(element) || !options.tag_contains(element.data)) {
                            return false;
                        }
                    }
                    else if (!element.attribs || !options[key](element.attribs[key])) {
                        return false;
                    }
                }
                return true;
            };
            var Checks = {
                tag_name: function (name) {
                    if (typeof name === "function") {
                        return function (elem) { return isTag(elem) && name(elem.name); };
                    }
                    else if (name === "*") {
                        return isTag;
                    }
                    else {
                        return function (elem) { return isTag(elem) && elem.name === name; };
                    }
                },
                tag_type: function (type) {
                    if (typeof type === "function") {
                        return function (elem) { return type(elem.type); };
                    }
                    else {
                        return function (elem) { return elem.type === type; };
                    }
                },
                tag_contains: function (data) {
                    if (typeof data === "function") {
                        return function (elem) { return !isTag(elem) && data(elem.data); };
                    }
                    else {
                        return function (elem) { return !isTag(elem) && elem.data === data; };
                    }
                }
            };
            function getAttribCheck(attrib, value) {
                if (typeof value === "function") {
                    return function (elem) { return elem.attribs && value(elem.attribs[attrib]); };
                }
                else {
                    return function (elem) { return elem.attribs && elem.attribs[attrib] === value; };
                }
            }
            function combineFuncs(a, b) {
                return function (elem) {
                    return a(elem) || b(elem);
                };
            }
            exports.getElements = function (options, element, recurse, limit) {
                var funcs = Object.keys(options).map(function (key) {
                    var value = options[key];
                    return key in Checks ? Checks[key](value) : getAttribCheck(key, value);
                });
                return funcs.length === 0 ? [] : this.filter(funcs.reduce(combineFuncs), element, recurse, limit);
            };
            exports.getElementById = function (id, element, recurse) {
                if (!Array.isArray(element))
                    element = [element];
                return this.findOne(getAttribCheck("id", id), element, recurse !== false);
            };
            exports.getElementsByTagName = function (name, element, recurse, limit) {
                return this.filter(Checks.tag_name(name), element, recurse, limit);
            };
            exports.getElementsByTagType = function (type, element, recurse, limit) {
                return this.filter(Checks.tag_type(type), element, recurse, limit);
            };
        });
        var helpers = createCommonjsModule(function (module, exports) {
            // removeSubsets
            // Given an array of nodes, remove any member that is contained by another.
            exports.removeSubsets = function (nodes) {
                var idx = nodes.length, node, ancestor, replace;
                // Check if each node (or one of its ancestors) is already contained in the
                // array.
                while (--idx > -1) {
                    node = ancestor = nodes[idx];
                    // Temporarily remove the node under consideration
                    nodes[idx] = null;
                    replace = true;
                    while (ancestor) {
                        if (nodes.indexOf(ancestor) > -1) {
                            replace = false;
                            nodes.splice(idx, 1);
                            break;
                        }
                        ancestor = ancestor.parent;
                    }
                    // If the node has been found to be unique, re-insert it.
                    if (replace) {
                        nodes[idx] = node;
                    }
                }
                return nodes;
            };
            // Source: http://dom.spec.whatwg.org/#dom-node-comparedocumentposition
            var POSITION = {
                DISCONNECTED: 1,
                PRECEDING: 2,
                FOLLOWING: 4,
                CONTAINS: 8,
                CONTAINED_BY: 16
            };
            // Compare the position of one node against another node in any other document.
            // The return value is a bitmask with the following values:
            //
            // document order:
            // > There is an ordering, document order, defined on all the nodes in the
            // > document corresponding to the order in which the first character of the
            // > XML representation of each node occurs in the XML representation of the
            // > document after expansion of general entities. Thus, the document element
            // > node will be the first node. Element nodes occur before their children.
            // > Thus, document order orders element nodes in order of the occurrence of
            // > their start-tag in the XML (after expansion of entities). The attribute
            // > nodes of an element occur after the element and before its children. The
            // > relative order of attribute nodes is implementation-dependent./
            // Source:
            // http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order
            //
            // @argument {Node} nodaA The first node to use in the comparison
            // @argument {Node} nodeB The second node to use in the comparison
            //
            // @return {Number} A bitmask describing the input nodes' relative position.
            //         See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for
            //         a description of these values.
            var comparePos = exports.compareDocumentPosition = function (nodeA, nodeB) {
                var aParents = [];
                var bParents = [];
                var current, sharedParent, siblings, aSibling, bSibling, idx;
                if (nodeA === nodeB) {
                    return 0;
                }
                current = nodeA;
                while (current) {
                    aParents.unshift(current);
                    current = current.parent;
                }
                current = nodeB;
                while (current) {
                    bParents.unshift(current);
                    current = current.parent;
                }
                idx = 0;
                while (aParents[idx] === bParents[idx]) {
                    idx++;
                }
                if (idx === 0) {
                    return POSITION.DISCONNECTED;
                }
                sharedParent = aParents[idx - 1];
                siblings = sharedParent.children;
                aSibling = aParents[idx];
                bSibling = bParents[idx];
                if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {
                    if (sharedParent === nodeB) {
                        return POSITION.FOLLOWING | POSITION.CONTAINED_BY;
                    }
                    return POSITION.FOLLOWING;
                }
                else {
                    if (sharedParent === nodeA) {
                        return POSITION.PRECEDING | POSITION.CONTAINS;
                    }
                    return POSITION.PRECEDING;
                }
            };
            // Sort an array of nodes based on their relative position in the document and
            // remove any duplicate nodes. If the array contains nodes that do not belong
            // to the same document, sort order is unspecified.
            //
            // @argument {Array} nodes Array of DOM nodes
            //
            // @returns {Array} collection of unique nodes, sorted in document order
            exports.uniqueSort = function (nodes) {
                var idx = nodes.length, node, position;
                nodes = nodes.slice();
                while (--idx > -1) {
                    node = nodes[idx];
                    position = nodes.indexOf(node);
                    if (position > -1 && position < idx) {
                        nodes.splice(idx, 1);
                    }
                }
                nodes.sort(function (a, b) {
                    var relative = comparePos(a, b);
                    if (relative & POSITION.PRECEDING) {
                        return -1;
                    }
                    else if (relative & POSITION.FOLLOWING) {
                        return 1;
                    }
                    return 0;
                });
                return nodes;
            };
        });
        var domutils = createCommonjsModule(function (module) {
            var DomUtils = module.exports;
            [
                stringify,
                traversal,
                manipulation,
                querying,
                legacy$2,
                helpers
            ].forEach(function (ext) {
                Object.keys(ext).forEach(function (key) {
                    DomUtils[key] = ext[key].bind(DomUtils);
                });
            });
        });
        var parse_1 = parse;
        //following http://www.w3.org/TR/css3-selectors/#nth-child-pseudo
        //[ ['-'|'+']? INTEGER? {N} [ S* ['-'|'+'] S* INTEGER ]?
        var re_nthElement = /^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/;
        /*
            parses a nth-check formula, returns an array of two numbers
        */
        function parse(formula) {
            formula = formula.trim().toLowerCase();
            if (formula === "even") {
                return [2, 0];
            }
            else if (formula === "odd") {
                return [2, 1];
            }
            else {
                var parsed = formula.match(re_nthElement);
                if (!parsed) {
                    throw new SyntaxError("n-th rule couldn't be parsed ('" + formula + "')");
                }
                var a;
                if (parsed[1]) {
                    a = parseInt(parsed[1], 10);
                    if (isNaN(a)) {
                        if (parsed[1].charAt(0) === "-")
                            a = -1;
                        else
                            a = 1;
                    }
                }
                else
                    a = 0;
                return [
                    a,
                    parsed[3] ? parseInt((parsed[2] || "") + parsed[3], 10) : 0
                ];
            }
        }
        var boolbase = {
            trueFunc: function trueFunc() {
                return true;
            },
            falseFunc: function falseFunc() {
                return false;
            }
        };
        var compile_1 = compile;
        var trueFunc = boolbase.trueFunc, falseFunc = boolbase.falseFunc;
        /*
            returns a function that checks if an elements index matches the given rule
            highly optimized to return the fastest solution
        */
        function compile(parsed) {
            var a = parsed[0], b = parsed[1] - 1;
            //when b <= 0, a*n won't be possible for any matches when a < 0
            //besides, the specification says that no element is matched when a and b are 0
            if (b < 0 && a <= 0)
                return falseFunc;
            //when a is in the range -1..1, it matches any element (so only b is checked)
            if (a === -1)
                return function (pos) { return pos <= b; };
            if (a === 0)
                return function (pos) { return pos === b; };
            //when b <= 0 and a === 1, they match any element
            if (a === 1)
                return b < 0 ? trueFunc : function (pos) { return pos >= b; };
            //when a > 0, modulo can be used to check if there is a match
            var bMod = b % a;
            if (bMod < 0)
                bMod += a;
            if (a > 1) {
                return function (pos) {
                    return pos >= b && pos % a === bMod;
                };
            }
            a *= -1; //make `a` positive
            return function (pos) {
                return pos <= b && pos % a === bMod;
            };
        }
        var nthCheck = function nthCheck(formula) {
            return compile_1(parse_1(formula));
        };
        var parse_1$1 = parse_1;
        var compile_1$1 = compile_1;
        nthCheck.parse = parse_1$1;
        nthCheck.compile = compile_1$1;
        var hasAttrib = domutils.hasAttrib, getAttributeValue = domutils.getAttributeValue, falseFunc$1 = boolbase.falseFunc;
        //https://github.com/slevithan/XRegExp/blob/master/src/xregexp.js#L469
        var reChars = /[-[\]{}()*+?.,\\^$|#\s]/g;
        /*
            attribute selectors
        */
        var attributeRules = {
            __proto__: null,
            equals: function (next, data) {
                var name = data.name, value = data.value;
                if (data.ignoreCase) {
                    value = value.toLowerCase();
                    return function equalsIC(elem) {
                        var attr = getAttributeValue(elem, name);
                        return attr != null && attr.toLowerCase() === value && next(elem);
                    };
                }
                return function equals(elem) {
                    return getAttributeValue(elem, name) === value && next(elem);
                };
            },
            hyphen: function (next, data) {
                var name = data.name, value = data.value, len = value.length;
                if (data.ignoreCase) {
                    value = value.toLowerCase();
                    return function hyphenIC(elem) {
                        var attr = getAttributeValue(elem, name);
                        return attr != null &&
                            (attr.length === len || attr.charAt(len) === "-") &&
                            attr.substr(0, len).toLowerCase() === value &&
                            next(elem);
                    };
                }
                return function hyphen(elem) {
                    var attr = getAttributeValue(elem, name);
                    return attr != null &&
                        attr.substr(0, len) === value &&
                        (attr.length === len || attr.charAt(len) === "-") &&
                        next(elem);
                };
            },
            element: function (next, data) {
                var name = data.name, value = data.value;
                if (/\s/.test(value)) {
                    return falseFunc$1;
                }
                value = value.replace(reChars, "\\$&");
                var pattern = "(?:^|\\s)" + value + "(?:$|\\s)", flags = data.ignoreCase ? "i" : "", regex = new RegExp(pattern, flags);
                return function element(elem) {
                    var attr = getAttributeValue(elem, name);
                    return attr != null && regex.test(attr) && next(elem);
                };
            },
            exists: function (next, data) {
                var name = data.name;
                return function exists(elem) {
                    return hasAttrib(elem, name) && next(elem);
                };
            },
            start: function (next, data) {
                var name = data.name, value = data.value, len = value.length;
                if (len === 0) {
                    return falseFunc$1;
                }
                if (data.ignoreCase) {
                    value = value.toLowerCase();
                    return function startIC(elem) {
                        var attr = getAttributeValue(elem, name);
                        return attr != null && attr.substr(0, len).toLowerCase() === value && next(elem);
                    };
                }
                return function start(elem) {
                    var attr = getAttributeValue(elem, name);
                    return attr != null && attr.substr(0, len) === value && next(elem);
                };
            },
            end: function (next, data) {
                var name = data.name, value = data.value, len = -value.length;
                if (len === 0) {
                    return falseFunc$1;
                }
                if (data.ignoreCase) {
                    value = value.toLowerCase();
                    return function endIC(elem) {
                        var attr = getAttributeValue(elem, name);
                        return attr != null && attr.substr(len).toLowerCase() === value && next(elem);
                    };
                }
                return function end(elem) {
                    var attr = getAttributeValue(elem, name);
                    return attr != null && attr.substr(len) === value && next(elem);
                };
            },
            any: function (next, data) {
                var name = data.name, value = data.value;
                if (value === "") {
                    return falseFunc$1;
                }
                if (data.ignoreCase) {
                    var regex = new RegExp(value.replace(reChars, "\\$&"), "i");
                    return function anyIC(elem) {
                        var attr = getAttributeValue(elem, name);
                        return attr != null && regex.test(attr) && next(elem);
                    };
                }
                return function any(elem) {
                    var attr = getAttributeValue(elem, name);
                    return attr != null && attr.indexOf(value) >= 0 && next(elem);
                };
            },
            not: function (next, data) {
                var name = data.name, value = data.value;
                if (value === "") {
                    return function notEmpty(elem) {
                        return !!getAttributeValue(elem, name) && next(elem);
                    };
                }
                else if (data.ignoreCase) {
                    value = value.toLowerCase();
                    return function notIC(elem) {
                        var attr = getAttributeValue(elem, name);
                        return attr != null && attr.toLowerCase() !== value && next(elem);
                    };
                }
                return function not(elem) {
                    return getAttributeValue(elem, name) !== value && next(elem);
                };
            }
        };
        var attributes = {
            compile: function (next, data, options) {
                if (options && options.strict && (data.ignoreCase || data.action === "not"))
                    throw SyntaxError("Unsupported attribute selector");
                return attributeRules[data.action](next, data);
            },
            rules: attributeRules
        };
        /*
            pseudo selectors
        
            ---
        
            they are available in two forms:
            * filters called when the selector
              is compiled and return a function
              that needs to return next()
            * pseudos get called on execution
              they need to return a boolean
        */
        var isTag$2 = domutils.isTag, getText$1 = domutils.getText, getParent = domutils.getParent, getChildren = domutils.getChildren, getSiblings = domutils.getSiblings, hasAttrib$1 = domutils.hasAttrib, getName = domutils.getName, getAttribute = domutils.getAttributeValue, checkAttrib = attributes.rules.equals, trueFunc$1 = boolbase.trueFunc, falseFunc$2 = boolbase.falseFunc;
        //helper methods
        function getFirstElement(elems) {
            for (var i = 0; elems && i < elems.length; i++) {
                if (isTag$2(elems[i]))
                    return elems[i];
            }
        }
        function getAttribFunc(name, value) {
            var data = { name: name, value: value };
            return function attribFunc(next) {
                return checkAttrib(next, data);
            };
        }
        function getChildFunc(next) {
            return function (elem) {
                return !!getParent(elem) && next(elem);
            };
        }
        var filters = {
            contains: function (next, text) {
                return function contains(elem) {
                    return next(elem) && getText$1(elem).indexOf(text) >= 0;
                };
            },
            icontains: function (next, text) {
                var itext = text.toLowerCase();
                return function icontains(elem) {
                    return next(elem) &&
                        getText$1(elem).toLowerCase().indexOf(itext) >= 0;
                };
            },
            //location specific methods
            "nth-child": function (next, rule) {
                var func = nthCheck(rule);
                if (func === falseFunc$2)
                    return func;
                if (func === trueFunc$1)
                    return getChildFunc(next);
                return function nthChild(elem) {
                    var siblings = getSiblings(elem);
                    for (var i = 0, pos = 0; i < siblings.length; i++) {
                        if (isTag$2(siblings[i])) {
                            if (siblings[i] === elem)
                                break;
                            else
                                pos++;
                        }
                    }
                    return func(pos) && next(elem);
                };
            },
            "nth-last-child": function (next, rule) {
                var func = nthCheck(rule);
                if (func === falseFunc$2)
                    return func;
                if (func === trueFunc$1)
                    return getChildFunc(next);
                return function nthLastChild(elem) {
                    var siblings = getSiblings(elem);
                    for (var pos = 0, i = siblings.length - 1; i >= 0; i--) {
                        if (isTag$2(siblings[i])) {
                            if (siblings[i] === elem)
                                break;
                            else
                                pos++;
                        }
                    }
                    return func(pos) && next(elem);
                };
            },
            "nth-of-type": function (next, rule) {
                var func = nthCheck(rule);
                if (func === falseFunc$2)
                    return func;
                if (func === trueFunc$1)
                    return getChildFunc(next);
                return function nthOfType(elem) {
                    var siblings = getSiblings(elem);
                    for (var pos = 0, i = 0; i < siblings.length; i++) {
                        if (isTag$2(siblings[i])) {
                            if (siblings[i] === elem)
                                break;
                            if (getName(siblings[i]) === getName(elem))
                                pos++;
                        }
                    }
                    return func(pos) && next(elem);
                };
            },
            "nth-last-of-type": function (next, rule) {
                var func = nthCheck(rule);
                if (func === falseFunc$2)
                    return func;
                if (func === trueFunc$1)
                    return getChildFunc(next);
                return function nthLastOfType(elem) {
                    var siblings = getSiblings(elem);
                    for (var pos = 0, i = siblings.length - 1; i >= 0; i--) {
                        if (isTag$2(siblings[i])) {
                            if (siblings[i] === elem)
                                break;
                            if (getName(siblings[i]) === getName(elem))
                                pos++;
                        }
                    }
                    return func(pos) && next(elem);
                };
            },
            //TODO determine the actual root element
            root: function (next) {
                return function (elem) {
                    return !getParent(elem) && next(elem);
                };
            },
            scope: function (next, rule, options, context) {
                if (!context || context.length === 0) {
                    //equivalent to :root
                    return filters.root(next);
                }
                if (context.length === 1) {
                    //NOTE: can't be unpacked, as :has uses this for side-effects
                    return function (elem) {
                        return context[0] === elem && next(elem);
                    };
                }
                return function (elem) {
                    return context.indexOf(elem) >= 0 && next(elem);
                };
            },
            //jQuery extensions (others follow as pseudos)
            checkbox: getAttribFunc("type", "checkbox"),
            file: getAttribFunc("type", "file"),
            password: getAttribFunc("type", "password"),
            radio: getAttribFunc("type", "radio"),
            reset: getAttribFunc("type", "reset"),
            image: getAttribFunc("type", "image"),
            submit: getAttribFunc("type", "submit")
        };
        //while filters are precompiled, pseudos get called when they are needed
        var pseudos = {
            empty: function (elem) {
                return !getChildren(elem).some(function (elem) {
                    return isTag$2(elem) || elem.type === "text";
                });
            },
            "first-child": function (elem) {
                return getFirstElement(getSiblings(elem)) === elem;
            },
            "last-child": function (elem) {
                var siblings = getSiblings(elem);
                for (var i = siblings.length - 1; i >= 0; i--) {
                    if (siblings[i] === elem)
                        return true;
                    if (isTag$2(siblings[i]))
                        break;
                }
                return false;
            },
            "first-of-type": function (elem) {
                var siblings = getSiblings(elem);
                for (var i = 0; i < siblings.length; i++) {
                    if (isTag$2(siblings[i])) {
                        if (siblings[i] === elem)
                            return true;
                        if (getName(siblings[i]) === getName(elem))
                            break;
                    }
                }
                return false;
            },
            "last-of-type": function (elem) {
                var siblings = getSiblings(elem);
                for (var i = siblings.length - 1; i >= 0; i--) {
                    if (isTag$2(siblings[i])) {
                        if (siblings[i] === elem)
                            return true;
                        if (getName(siblings[i]) === getName(elem))
                            break;
                    }
                }
                return false;
            },
            "only-of-type": function (elem) {
                var siblings = getSiblings(elem);
                for (var i = 0, j = siblings.length; i < j; i++) {
                    if (isTag$2(siblings[i])) {
                        if (siblings[i] === elem)
                            continue;
                        if (getName(siblings[i]) === getName(elem))
                            return false;
                    }
                }
                return true;
            },
            "only-child": function (elem) {
                var siblings = getSiblings(elem);
                for (var i = 0; i < siblings.length; i++) {
                    if (isTag$2(siblings[i]) && siblings[i] !== elem)
                        return false;
                }
                return true;
            },
            //:matches(a, area, link)[href]
            link: function (elem) {
                return hasAttrib$1(elem, "href");
            },
            visited: falseFunc$2,
            //TODO: :any-link once the name is finalized (as an alias of :link)
            //forms
            //to consider: :target
            //:matches([selected], select:not([multiple]):not(> option[selected]) > option:first-of-type)
            selected: function (elem) {
                if (hasAttrib$1(elem, "selected"))
                    return true;
                else if (getName(elem) !== "option")
                    return false;
                //the first <option> in a <select> is also selected
                var parent = getParent(elem);
                if (!parent ||
                    getName(parent) !== "select" ||
                    hasAttrib$1(parent, "multiple"))
                    return false;
                var siblings = getChildren(parent), sawElem = false;
                for (var i = 0; i < siblings.length; i++) {
                    if (isTag$2(siblings[i])) {
                        if (siblings[i] === elem) {
                            sawElem = true;
                        }
                        else if (!sawElem) {
                            return false;
                        }
                        else if (hasAttrib$1(siblings[i], "selected")) {
                            return false;
                        }
                    }
                }
                return sawElem;
            },
            //https://html.spec.whatwg.org/multipage/scripting.html#disabled-elements
            //:matches(
            //  :matches(button, input, select, textarea, menuitem, optgroup, option)[disabled],
            //  optgroup[disabled] > option),
            // fieldset[disabled] * //TODO not child of first <legend>
            //)
            disabled: function (elem) {
                return hasAttrib$1(elem, "disabled");
            },
            enabled: function (elem) {
                return !hasAttrib$1(elem, "disabled");
            },
            //:matches(:matches(:radio, :checkbox)[checked], :selected) (TODO menuitem)
            checked: function (elem) {
                return hasAttrib$1(elem, "checked") || pseudos.selected(elem);
            },
            //:matches(input, select, textarea)[required]
            required: function (elem) {
                return hasAttrib$1(elem, "required");
            },
            //:matches(input, select, textarea):not([required])
            optional: function (elem) {
                return !hasAttrib$1(elem, "required");
            },
            //jQuery extensions
            //:not(:empty)
            parent: function (elem) {
                return !pseudos.empty(elem);
            },
            //:matches(h1, h2, h3, h4, h5, h6)
            header: function (elem) {
                var name = getName(elem);
                return name === "h1" ||
                    name === "h2" ||
                    name === "h3" ||
                    name === "h4" ||
                    name === "h5" ||
                    name === "h6";
            },
            //:matches(button, input[type=button])
            button: function (elem) {
                var name = getName(elem);
                return name === "button" ||
                    name === "input" &&
                        getAttribute(elem, "type") === "button";
            },
            //:matches(input, textarea, select, button)
            input: function (elem) {
                var name = getName(elem);
                return name === "input" ||
                    name === "textarea" ||
                    name === "select" ||
                    name === "button";
            },
            //input:matches(:not([type!='']), [type='text' i])
            text: function (elem) {
                var attr;
                return getName(elem) === "input" && (!(attr = getAttribute(elem, "type")) ||
                    attr.toLowerCase() === "text");
            }
        };
        function verifyArgs(func, name, subselect) {
            if (subselect === null) {
                if (func.length > 1 && name !== "scope") {
                    throw new SyntaxError("pseudo-selector :" + name + " requires an argument");
                }
            }
            else {
                if (func.length === 1) {
                    throw new SyntaxError("pseudo-selector :" + name + " doesn't have any arguments");
                }
            }
        }
        //FIXME this feels hacky
        var re_CSS3 = /^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;
        var pseudos_1 = {
            compile: function (next, data, options, context) {
                var name = data.name, subselect = data.data;
                if (options && options.strict && !re_CSS3.test(name)) {
                    throw SyntaxError(":" + name + " isn't part of CSS3");
                }
                if (typeof filters[name] === "function") {
                    verifyArgs(filters[name], name, subselect);
                    return filters[name](next, subselect, options, context);
                }
                else if (typeof pseudos[name] === "function") {
                    var func = pseudos[name];
                    verifyArgs(func, name, subselect);
                    if (next === trueFunc$1)
                        return func;
                    return function pseudoArgs(elem) {
                        return func(elem, subselect) && next(elem);
                    };
                }
                else {
                    throw new SyntaxError("unmatched pseudo-class :" + name);
                }
            },
            filters: filters,
            pseudos: pseudos
        };
        var cssWhat = parse$1;
        var re_name = /^(?:\\.|[\w\-\u00b0-\uFFFF])+/, re_escape = /\\([\da-f]{1,6}\s?|(\s)|.)/ig, 
        //modified version of https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L87
        re_attr = /^\s*((?:\\.|[\w\u00b0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF\-])*)|)|)\s*(i)?\]/;
        var actionTypes = {
            __proto__: null,
            "undefined": "exists",
            "": "equals",
            "~": "element",
            "^": "start",
            "$": "end",
            "*": "any",
            "!": "not",
            "|": "hyphen"
        };
        var simpleSelectors = {
            __proto__: null,
            ">": "child",
            "<": "parent",
            "~": "sibling",
            "+": "adjacent"
        };
        var attribSelectors = {
            __proto__: null,
            "#": ["id", "equals"],
            ".": ["class", "element"]
        };
        //pseudos, whose data-property is parsed as well
        var unpackPseudos = {
            __proto__: null,
            "has": true,
            "not": true,
            "matches": true
        };
        var stripQuotesFromPseudos = {
            __proto__: null,
            "contains": true,
            "icontains": true
        };
        var quotes = {
            __proto__: null,
            "\"": true,
            "'": true
        };
        //unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L139
        function funescape(_, escaped, escapedWhitespace) {
            var high = "0x" + escaped - 0x10000;
            // NaN means non-codepoint
            // Support: Firefox
            // Workaround erroneous numeric interpretation of +"0x"
            return high !== high || escapedWhitespace ?
                escaped :
                // BMP codepoint
                high < 0 ?
                    String.fromCharCode(high + 0x10000) :
                    // Supplemental Plane codepoint (surrogate pair)
                    String.fromCharCode(high >> 10 | 0xD800, high & 0x3FF | 0xDC00);
        }
        function unescapeCSS(str) {
            return str.replace(re_escape, funescape);
        }
        function isWhitespace(c) {
            return c === " " || c === "\n" || c === "\t" || c === "\f" || c === "\r";
        }
        function parse$1(selector, options) {
            var subselects = [];
            selector = parseSelector(subselects, selector + "", options);
            if (selector !== "") {
                throw new SyntaxError("Unmatched selector: " + selector);
            }
            return subselects;
        }
        function parseSelector(subselects, selector, options) {
            var tokens = [], sawWS = false, data, firstChar, name, quot;
            function getName() {
                var sub = selector.match(re_name)[0];
                selector = selector.substr(sub.length);
                return unescapeCSS(sub);
            }
            function stripWhitespace(start) {
                while (isWhitespace(selector.charAt(start)))
                    start++;
                selector = selector.substr(start);
            }
            function isEscaped(pos) {
                var slashCount = 0;
                while (selector.charAt(--pos) === "\\")
                    slashCount++;
                return (slashCount & 1) === 1;
            }
            stripWhitespace(0);
            while (selector !== "") {
                firstChar = selector.charAt(0);
                if (isWhitespace(firstChar)) {
                    sawWS = true;
                    stripWhitespace(1);
                }
                else if (firstChar in simpleSelectors) {
                    tokens.push({ type: simpleSelectors[firstChar] });
                    sawWS = false;
                    stripWhitespace(1);
                }
                else if (firstChar === ",") {
                    if (tokens.length === 0) {
                        throw new SyntaxError("empty sub-selector");
                    }
                    subselects.push(tokens);
                    tokens = [];
                    sawWS = false;
                    stripWhitespace(1);
                }
                else {
                    if (sawWS) {
                        if (tokens.length > 0) {
                            tokens.push({ type: "descendant" });
                        }
                        sawWS = false;
                    }
                    if (firstChar === "*") {
                        selector = selector.substr(1);
                        tokens.push({ type: "universal" });
                    }
                    else if (firstChar in attribSelectors) {
                        selector = selector.substr(1);
                        tokens.push({
                            type: "attribute",
                            name: attribSelectors[firstChar][0],
                            action: attribSelectors[firstChar][1],
                            value: getName(),
                            ignoreCase: false
                        });
                    }
                    else if (firstChar === "[") {
                        selector = selector.substr(1);
                        data = selector.match(re_attr);
                        if (!data) {
                            throw new SyntaxError("Malformed attribute selector: " + selector);
                        }
                        selector = selector.substr(data[0].length);
                        name = unescapeCSS(data[1]);
                        if (!options || ("lowerCaseAttributeNames" in options ?
                            options.lowerCaseAttributeNames :
                            !options.xmlMode)) {
                            name = name.toLowerCase();
                        }
                        tokens.push({
                            type: "attribute",
                            name: name,
                            action: actionTypes[data[2]],
                            value: unescapeCSS(data[4] || data[5] || ""),
                            ignoreCase: !!data[6]
                        });
                    }
                    else if (firstChar === ":") {
                        if (selector.charAt(1) === ":") {
                            selector = selector.substr(2);
                            tokens.push({ type: "pseudo-element", name: getName().toLowerCase() });
                            continue;
                        }
                        selector = selector.substr(1);
                        name = getName().toLowerCase();
                        data = null;
                        if (selector.charAt(0) === "(") {
                            if (name in unpackPseudos) {
                                quot = selector.charAt(1);
                                var quoted = quot in quotes;
                                selector = selector.substr(quoted + 1);
                                data = [];
                                selector = parseSelector(data, selector, options);
                                if (quoted) {
                                    if (selector.charAt(0) !== quot) {
                                        throw new SyntaxError("unmatched quotes in :" + name);
                                    }
                                    else {
                                        selector = selector.substr(1);
                                    }
                                }
                                if (selector.charAt(0) !== ")") {
                                    throw new SyntaxError("missing closing parenthesis in :" + name + " " + selector);
                                }
                                selector = selector.substr(1);
                            }
                            else {
                                var pos = 1, counter = 1;
                                for (; counter > 0 && pos < selector.length; pos++) {
                                    if (selector.charAt(pos) === "(" && !isEscaped(pos))
                                        counter++;
                                    else if (selector.charAt(pos) === ")" && !isEscaped(pos))
                                        counter--;
                                }
                                if (counter) {
                                    throw new SyntaxError("parenthesis not matched");
                                }
                                data = selector.substr(1, pos - 2);
                                selector = selector.substr(pos);
                                if (name in stripQuotesFromPseudos) {
                                    quot = data.charAt(0);
                                    if (quot === data.slice(-1) && quot in quotes) {
                                        data = data.slice(1, -1);
                                    }
                                    data = unescapeCSS(data);
                                }
                            }
                        }
                        tokens.push({ type: "pseudo", name: name, data: data });
                    }
                    else if (re_name.test(selector)) {
                        name = getName();
                        if (!options || ("lowerCaseTags" in options ? options.lowerCaseTags : !options.xmlMode)) {
                            name = name.toLowerCase();
                        }
                        tokens.push({ type: "tag", name: name });
                    }
                    else {
                        if (tokens.length && tokens[tokens.length - 1].type === "descendant") {
                            tokens.pop();
                        }
                        addToken(subselects, tokens);
                        return selector;
                    }
                }
            }
            addToken(subselects, tokens);
            return selector;
        }
        function addToken(subselects, tokens) {
            if (subselects.length > 0 && tokens.length === 0) {
                throw new SyntaxError("empty sub-selector");
            }
            subselects.push(tokens);
        }
        var isTag$3 = domutils.isTag, getParent$1 = domutils.getParent, getChildren$1 = domutils.getChildren, getSiblings$1 = domutils.getSiblings, getName$1 = domutils.getName;
        /*
            all available rules
        */
        var general = {
            __proto__: null,
            attribute: attributes.compile,
            pseudo: pseudos_1.compile,
            //tags
            tag: function (next, data) {
                var name = data.name;
                return function tag(elem) {
                    return getName$1(elem) === name && next(elem);
                };
            },
            //traversal
            descendant: function (next, rule, options, context, acceptSelf) {
                return function descendant(elem) {
                    if (acceptSelf && next(elem))
                        return true;
                    var found = false;
                    while (!found && (elem = getParent$1(elem))) {
                        found = next(elem);
                    }
                    return found;
                };
            },
            parent: function (next, data, options) {
                if (options && options.strict)
                    throw SyntaxError("Parent selector isn't part of CSS3");
                return function parent(elem) {
                    return getChildren$1(elem).some(test);
                };
                function test(elem) {
                    return isTag$3(elem) && next(elem);
                }
            },
            child: function (next) {
                return function child(elem) {
                    var parent = getParent$1(elem);
                    return !!parent && next(parent);
                };
            },
            sibling: function (next) {
                return function sibling(elem) {
                    var siblings = getSiblings$1(elem);
                    for (var i = 0; i < siblings.length; i++) {
                        if (isTag$3(siblings[i])) {
                            if (siblings[i] === elem)
                                break;
                            if (next(siblings[i]))
                                return true;
                        }
                    }
                    return false;
                };
            },
            adjacent: function (next) {
                return function adjacent(elem) {
                    var siblings = getSiblings$1(elem), lastElement;
                    for (var i = 0; i < siblings.length; i++) {
                        if (isTag$3(siblings[i])) {
                            if (siblings[i] === elem)
                                break;
                            lastElement = siblings[i];
                        }
                    }
                    return !!lastElement && next(lastElement);
                };
            },
            universal: function (next) {
                return next;
            }
        };
        var universal = 50;
        var tag = 30;
        var attribute = 1;
        var pseudo = 0;
        var descendant = -1;
        var child = -1;
        var parent = -1;
        var sibling = -1;
        var adjacent = -1;
        var procedure = {
            universal: universal,
            tag: tag,
            attribute: attribute,
            pseudo: pseudo,
            descendant: descendant,
            child: child,
            parent: parent,
            sibling: sibling,
            adjacent: adjacent
        };
        var procedure$1 = {
            __proto__: null,
            universal: universal,
            tag: tag,
            attribute: attribute,
            pseudo: pseudo,
            descendant: descendant,
            child: child,
            parent: parent,
            sibling: sibling,
            adjacent: adjacent,
            'default': procedure
        };
        var procedure$2 = getCjsExportFromNamespace(procedure$1);
        var sort = sortByProcedure;
        /*
            sort the parts of the passed selector,
            as there is potential for optimization
            (some types of selectors are faster than others)
        */
        var attributes$1 = {
            __proto__: null,
            exists: 10,
            equals: 8,
            not: 7,
            start: 6,
            end: 6,
            any: 5,
            hyphen: 4,
            element: 4
        };
        function sortByProcedure(arr) {
            var procs = arr.map(getProcedure);
            for (var i = 1; i < arr.length; i++) {
                var procNew = procs[i];
                if (procNew < 0)
                    continue;
                for (var j = i - 1; j >= 0 && procNew < procs[j]; j--) {
                    var token = arr[j + 1];
                    arr[j + 1] = arr[j];
                    arr[j] = token;
                    procs[j + 1] = procs[j];
                    procs[j] = procNew;
                }
            }
        }
        function getProcedure(token) {
            var proc = procedure$2[token.type];
            if (proc === procedure$2.attribute) {
                proc = attributes$1[token.action];
                if (proc === attributes$1.equals && token.name === "id") {
                    //prefer ID selectors (eg. #ID)
                    proc = 9;
                }
                if (token.ignoreCase) {
                    //ignoreCase adds some overhead, prefer "normal" token
                    //this is a binary operation, to ensure it's still an int
                    proc >>= 1;
                }
            }
            else if (proc === procedure$2.pseudo) {
                if (!token.data) {
                    proc = 3;
                }
                else if (token.name === "has" || token.name === "contains") {
                    proc = 0; //expensive in any case
                }
                else if (token.name === "matches" || token.name === "not") {
                    proc = 0;
                    for (var i = 0; i < token.data.length; i++) {
                        //TODO better handling of complex selectors
                        if (token.data[i].length !== 1)
                            continue;
                        var cur = getProcedure(token.data[i][0]);
                        //avoid executing :has or :contains
                        if (cur === 0) {
                            proc = 0;
                            break;
                        }
                        if (cur > proc)
                            proc = cur;
                    }
                    if (token.data.length > 1 && proc > 0)
                        proc -= 1;
                }
                else {
                    proc = 1;
                }
            }
            return proc;
        }
        /*
            compiles a selector to an executable function
        */
        var compile_1$2 = compile$1;
        var compileUnsafe_1 = compileUnsafe;
        var compileToken_1 = compileToken;
        var isTag$4 = domutils.isTag, trueFunc$2 = boolbase.trueFunc, falseFunc$3 = boolbase.falseFunc;
        function compile$1(selector, options, context) {
            var next = compileUnsafe(selector, options, context);
            return wrap(next);
        }
        function wrap(next) {
            return function base(elem) {
                return isTag$4(elem) && next(elem);
            };
        }
        function compileUnsafe(selector, options, context) {
            var token = cssWhat(selector, options);
            return compileToken(token, options, context);
        }
        function includesScopePseudo(t) {
            return t.type === "pseudo" && (t.name === "scope" || (Array.isArray(t.data) &&
                t.data.some(function (data) {
                    return data.some(includesScopePseudo);
                })));
        }
        var DESCENDANT_TOKEN = { type: "descendant" }, SCOPE_TOKEN = { type: "pseudo", name: "scope" }, PLACEHOLDER_ELEMENT = {}, getParent$2 = domutils.getParent;
        //CSS 4 Spec (Draft): 3.3.1. Absolutizing a Scope-relative Selector
        //http://www.w3.org/TR/selectors4/#absolutizing
        function absolutize(token, context) {
            //TODO better check if context is document
            var hasContext = !!context && !!context.length && context.every(function (e) {
                return e === PLACEHOLDER_ELEMENT || !!getParent$2(e);
            });
            token.forEach(function (t) {
                if (t.length > 0 && isTraversal(t[0]) && t[0].type !== "descendant")
                    ;
                else if (hasContext && !includesScopePseudo(t)) {
                    t.unshift(DESCENDANT_TOKEN);
                }
                else {
                    return;
                }
                t.unshift(SCOPE_TOKEN);
            });
        }
        function compileToken(token, options, context) {
            token = token.filter(function (t) { return t.length > 0; });
            token.forEach(sort);
            var isArrayContext = Array.isArray(context);
            context = (options && options.context) || context;
            if (context && !isArrayContext)
                context = [context];
            absolutize(token, context);
            return token
                .map(function (rules) { return compileRules(rules, options, context, isArrayContext); })
                .reduce(reduceRules, falseFunc$3);
        }
        function isTraversal(t) {
            return procedure$2[t.type] < 0;
        }
        function compileRules(rules, options, context, isArrayContext) {
            var acceptSelf = (isArrayContext && rules[0].name === "scope" && rules[1].type === "descendant");
            return rules.reduce(function (func, rule, index) {
                if (func === falseFunc$3)
                    return func;
                return general[rule.type](func, rule, options, context, acceptSelf && index === 1);
            }, options && options.rootFunc || trueFunc$2);
        }
        function reduceRules(a, b) {
            if (b === falseFunc$3 || a === trueFunc$2) {
                return a;
            }
            if (a === falseFunc$3 || b === trueFunc$2) {
                return b;
            }
            return function combine(elem) {
                return a(elem) || b(elem);
            };
        }
        //:not, :has and :matches have to compile selectors
        //doing this in lib/pseudos.js would lead to circular dependencies,
        //so we add them here
        var filters$1 = pseudos_1.filters, existsOne$1 = domutils.existsOne, isTag$4 = domutils.isTag, getChildren$2 = domutils.getChildren;
        function containsTraversal(t) {
            return t.some(isTraversal);
        }
        filters$1.not = function (next, token, options, context) {
            var opts = {
                xmlMode: !!(options && options.xmlMode),
                strict: !!(options && options.strict)
            };
            if (opts.strict) {
                if (token.length > 1 || token.some(containsTraversal)) {
                    throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");
                }
            }
            var func = compileToken(token, opts, context);
            if (func === falseFunc$3)
                return next;
            if (func === trueFunc$2)
                return falseFunc$3;
            return function (elem) {
                return !func(elem) && next(elem);
            };
        };
        filters$1.has = function (next, token, options) {
            var opts = {
                xmlMode: !!(options && options.xmlMode),
                strict: !!(options && options.strict)
            };
            //FIXME: Uses an array as a pointer to the current element (side effects)
            var context = token.some(containsTraversal) ? [PLACEHOLDER_ELEMENT] : null;
            var func = compileToken(token, opts, context);
            if (func === falseFunc$3)
                return falseFunc$3;
            if (func === trueFunc$2)
                return function (elem) {
                    return getChildren$2(elem).some(isTag$4) && next(elem);
                };
            func = wrap(func);
            if (context) {
                return function has(elem) {
                    return next(elem) && ((context[0] = elem), existsOne$1(func, getChildren$2(elem)));
                };
            }
            return function has(elem) {
                return next(elem) && existsOne$1(func, getChildren$2(elem));
            };
        };
        filters$1.matches = function (next, token, options, context) {
            var opts = {
                xmlMode: !!(options && options.xmlMode),
                strict: !!(options && options.strict),
                rootFunc: next
            };
            return compileToken(token, opts, context);
        };
        compile_1$2.compileUnsafe = compileUnsafe_1;
        compile_1$2.compileToken = compileToken_1;
        var cssSelect = CSSselect;
        var findOne$1 = domutils.findOne, findAll$1 = domutils.findAll, getChildren$3 = domutils.getChildren, removeSubsets = domutils.removeSubsets, falseFunc$4 = boolbase.falseFunc, compileUnsafe$1 = compile_1$2.compileUnsafe, compileToken$1 = compile_1$2.compileToken;
        function getSelectorFunc(searchFunc) {
            return function select(query, elems, options) {
                if (typeof query !== "function")
                    query = compileUnsafe$1(query, options, elems);
                if (!Array.isArray(elems))
                    elems = getChildren$3(elems);
                else
                    elems = removeSubsets(elems);
                return searchFunc(query, elems);
            };
        }
        var selectAll = getSelectorFunc(function selectAll(query, elems) {
            return (query === falseFunc$4 || !elems || elems.length === 0) ? [] : findAll$1(query, elems);
        });
        var selectOne = getSelectorFunc(function selectOne(query, elems) {
            return (query === falseFunc$4 || !elems || elems.length === 0) ? null : findOne$1(query, elems);
        });
        function is(elem, query, options) {
            return (typeof query === "function" ? query : compile_1$2(query, options))(elem);
        }
        /*
            the exported interface
        */
        function CSSselect(query, elems, options) {
            return selectAll(query, elems, options);
        }
        CSSselect.compile = compile_1$2;
        CSSselect.filters = pseudos_1.filters;
        CSSselect.pseudos = pseudos_1.pseudos;
        CSSselect.selectAll = selectAll;
        CSSselect.selectOne = selectOne;
        CSSselect.is = is;
        //legacy methods (might be removed)
        CSSselect.parse = compile_1$2;
        CSSselect.iterate = selectAll;
        //hooks
        CSSselect._compileUnsafe = compileUnsafe$1;
        CSSselect._compileToken = compileToken$1;
        /**
         * Copyright 2018 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License"); you may not
         * use this file except in compliance with the License. You may obtain a copy of
         * the License at
         *
         *     http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
         * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
         * License for the specific language governing permissions and limitations under
         * the License.
         */
        var PARSE5_OPTS = {
            treeAdapter: lib
        };
        /**
         * Parse HTML into a mutable, serializable DOM Document.
         * The DOM implementation is an htmlparser2 DOM enhanced with basic DOM mutation methods.
         * @param {String} html   HTML to parse into a Document instance
         */
        function createDocument(html) {
            var document = parse5.parse(html, PARSE5_OPTS);
            defineProperties(document, DocumentExtensions); // Extend Element.prototype with DOM manipulation methods.
            var scratch = document.createElement('div'); // Get a reference to the base Node class - used by createTextNode()
            document.$$Node = scratch.constructor;
            var elementProto = Object.getPrototypeOf(scratch);
            defineProperties(elementProto, ElementExtensions);
            elementProto.ownerDocument = document;
            return document;
        }
        /**
         * Serialize a Document to an HTML String
         * @param {Document} document   A Document, such as one created via `createDocument()`
         */
        function serializeDocument(document) {
            return parse5.serialize(document, PARSE5_OPTS);
        }
        /**
         * Methods and descriptors to mix into Element.prototype
         */
        var ElementExtensions = {
            /** @extends htmlparser2.Element.prototype */
            nodeName: {
                get: function () {
                    return this.tagName.toUpperCase();
                }
            },
            id: reflectedProperty('id'),
            className: reflectedProperty('class'),
            insertBefore: function (child, referenceNode) {
                if (!referenceNode)
                    return this.appendChild(child);
                lib.insertBefore(this, child, referenceNode);
                return child;
            },
            appendChild: function (child) {
                lib.appendChild(this, child);
                return child;
            },
            removeChild: function (child) {
                lib.detachNode(child);
            },
            remove: function () {
                lib.detachNode(this);
            },
            textContent: {
                get: function () {
                    return getText$2(this);
                },
                set: function (text) {
                    this.children = [];
                    lib.insertText(this, text);
                }
            },
            setAttribute: function (name, value) {
                if (this.attribs == null)
                    this.attribs = {};
                if (value == null)
                    value = '';
                this.attribs[name] = value;
            },
            removeAttribute: function (name) {
                if (this.attribs != null) {
                    delete this.attribs[name];
                }
            },
            getAttribute: function (name) {
                return this.attribs != null && this.attribs[name];
            },
            hasAttribute: function (name) {
                return this.attribs != null && this.attribs[name] != null;
            },
            getAttributeNode: function (name) {
                var value = this.getAttribute(name);
                if (value != null)
                    return {
                        specified: true,
                        value: value
                    };
            }
        };
        /**
         * Methods and descriptors to mix into the global document instance
         * @private
         */
        var DocumentExtensions = {
            /** @extends htmlparser2.Document.prototype */
            // document is just an Element in htmlparser2, giving it a nodeType of ELEMENT_NODE.
            // TODO: verify if these are needed for css-select
            nodeType: {
                get: function () {
                    return 9;
                }
            },
            contentType: {
                get: function () {
                    return 'text/html';
                }
            },
            nodeName: {
                get: function () {
                    return '#document';
                }
            },
            documentElement: {
                get: function () {
                    // Find the first <html> element within the document
                    return this.childNodes.filter(function (child) { return String(child.tagName).toLowerCase() === 'html'; });
                }
            },
            compatMode: {
                get: function () {
                    var compatMode = {
                        'no-quirks': 'CSS1Compat',
                        quirks: 'BackCompat',
                        'limited-quirks': 'CSS1Compat'
                    };
                    return compatMode[lib.getDocumentMode(this)];
                }
            },
            body: {
                get: function () {
                    return this.querySelector('body');
                }
            },
            createElement: function (name) {
                return lib.createElement(name, null, []);
            },
            createTextNode: function (text) {
                // there is no dedicated createTextNode equivalent exposed in htmlparser2's DOM
                var Node = this.$$Node;
                return new Node({
                    type: 'text',
                    data: text,
                    parent: null,
                    prev: null,
                    next: null
                });
            },
            querySelector: function (sel) {
                return cssSelect.selectOne(sel, this.documentElement);
            },
            querySelectorAll: function (sel) {
                if (sel === ':root') {
                    return this;
                }
                return cssSelect(sel, this.documentElement);
            }
        };
        /**
         * Essentially `Object.defineProperties()`, except function values are assigned as value descriptors for convenience.
         * @private
         */
        function defineProperties(obj, properties) {
            for (var i in properties) {
                var value = properties[i];
                Object.defineProperty(obj, i, typeof value === 'function' ? {
                    value: value
                } : value);
            }
        }
        /**
         * Create a property descriptor defining a getter/setter pair alias for a named attribute.
         * @private
         */
        function reflectedProperty(attributeName) {
            return {
                get: function () {
                    return this.getAttribute(attributeName);
                },
                set: function (value) {
                    this.setAttribute(attributeName, value);
                }
            };
        }
        /**
         * Helper to get the text content of a node
         * https://github.com/fb55/domutils/blob/master/src/stringify.ts#L21
         * @private
         */
        function getText$2(node) {
            if (Array.isArray(node))
                return node.map(getText$2).join('');
            if (lib.isElementNode(node))
                return node.name === 'br' ? '\n' : getText$2(node.children);
            if (lib.isTextNode(node))
                return node.data;
            return '';
        }
        /**
         * Copyright 2018 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License"); you may not
         * use this file except in compliance with the License. You may obtain a copy of
         * the License at
         *
         *     http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
         * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
         * License for the specific language governing permissions and limitations under
         * the License.
         */
        /**
         * Parse a textual CSS Stylesheet into a Stylesheet instance.
         * Stylesheet is a mutable ReworkCSS AST with format similar to CSSOM.
         * @see https://github.com/reworkcss/css
         * @private
         * @param {String} stylesheet
         * @returns {css.Stylesheet} ast
         */
        function parseStylesheet(stylesheet) {
            return css$1.parse(stylesheet);
        }
        /**
         * Serialize a ReworkCSS Stylesheet to a String of CSS.
         * @private
         * @param {css.Stylesheet} ast          A Stylesheet to serialize, such as one returned from `parseStylesheet()`
         * @param {Object} options              Options to pass to `css.stringify()`
         * @param {Boolean} [options.compress]  Compress CSS output (removes comments, whitespace, etc)
         */
        function serializeStylesheet(ast, options) {
            return css$1.stringify(ast, options);
        }
        /**
         * Converts a walkStyleRules() iterator to mark nodes with `.$$remove=true` instead of actually removing them.
         * This means they can be removed in a second pass, allowing the first pass to be nondestructive (eg: to preserve mirrored sheets).
         * @private
         * @param {Function} iterator   Invoked on each node in the tree. Return `false` to remove that node.
         * @returns {(rule) => void} nonDestructiveIterator
         */
        function markOnly(predicate) {
            return function (rule) {
                var sel = rule.selectors;
                if (predicate(rule) === false) {
                    rule.$$remove = true;
                }
                rule.$$markedSelectors = rule.selectors;
                if (rule._other) {
                    rule._other.$$markedSelectors = rule._other.selectors;
                }
                rule.selectors = sel;
            };
        }
        /**
         * Apply filtered selectors to a rule from a previous markOnly run.
         * @private
         * @param {css.Rule} rule The Rule to apply marked selectors to (if they exist).
        */
        function applyMarkedSelectors(rule) {
            if (rule.$$markedSelectors) {
                rule.selectors = rule.$$markedSelectors;
            }
            if (rule._other) {
                applyMarkedSelectors(rule._other);
            }
        }
        /**
         * Recursively walk all rules in a stylesheet.
         * @private
         * @param {css.Rule} node       A Stylesheet or Rule to descend into.
         * @param {Function} iterator   Invoked on each node in the tree. Return `false` to remove that node.
         */
        function walkStyleRules(node, iterator) {
            if (node.stylesheet)
                return walkStyleRules(node.stylesheet, iterator);
            node.rules = node.rules.filter(function (rule) {
                if (rule.rules) {
                    walkStyleRules(rule, iterator);
                }
                rule._other = undefined;
                rule.filterSelectors = filterSelectors;
                return iterator(rule) !== false;
            });
        }
        /**
         * Recursively walk all rules in two identical stylesheets, filtering nodes into one or the other based on a predicate.
         * @private
         * @param {css.Rule} node       A Stylesheet or Rule to descend into.
         * @param {css.Rule} node2      A second tree identical to `node`
         * @param {Function} iterator   Invoked on each node in the tree. Return `false` to remove that node from the first tree, true to remove it from the second.
         */
        function walkStyleRulesWithReverseMirror(node, node2, iterator) {
            var _b;
            if (node2 === null)
                return walkStyleRules(node, iterator);
            if (node.stylesheet)
                return walkStyleRulesWithReverseMirror(node.stylesheet, node2.stylesheet, iterator);
            _b = __read(splitFilter(node.rules, node2.rules, function (rule, index, rules, rules2) {
                var rule2 = rules2[index];
                if (rule.rules) {
                    walkStyleRulesWithReverseMirror(rule, rule2, iterator);
                }
                rule._other = rule2;
                rule.filterSelectors = filterSelectors;
                return iterator(rule) !== false;
            }), 2), node.rules = _b[0], node2.rules = _b[1];
        } // Like [].filter(), but applies the opposite filtering result to a second copy of the Array without a second pass.
        // This is just a quicker version of generating the compliment of the set returned from a filter operation.
        function splitFilter(a, b, predicate) {
            var aOut = [];
            var bOut = [];
            for (var index = 0; index < a.length; index++) {
                if (predicate(a[index], index, a, b)) {
                    aOut.push(a[index]);
                }
                else {
                    bOut.push(a[index]);
                }
            }
            return [aOut, bOut];
        } // can be invoked on a style rule to subset its selectors (with reverse mirroring)
        function filterSelectors(predicate) {
            if (this._other) {
                var _b = __read(splitFilter(this.selectors, this._other.selectors, predicate), 2), a = _b[0], b = _b[1];
                this.selectors = a;
                this._other.selectors = b;
            }
            else {
                this.selectors = this.selectors.filter(predicate);
            }
        }
        var LOG_LEVELS = ['trace', 'debug', 'info', 'warn', 'error', 'silent'];
        var defaultLogger = {
            trace: function (msg) {
                console.trace(msg);
            },
            debug: function (msg) {
                console.debug(msg);
            },
            warn: function (msg) {
                console.warn(chalk.yellow(msg));
            },
            error: function (msg) {
                console.error(chalk.bold.red(msg));
            },
            info: function (msg) {
                console.info(chalk.bold.blue(msg));
            },
            silent: function () { }
        };
        function createLogger(logLevel) {
            var logLevelIdx = LOG_LEVELS.indexOf(logLevel);
            return LOG_LEVELS.reduce(function (logger, type, index) {
                if (index >= logLevelIdx) {
                    logger[type] = defaultLogger[type];
                }
                else {
                    logger[type] = defaultLogger.silent;
                }
                return logger;
            }, {});
        }
        /**
         * Copyright 2018 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License"); you may not
         * use this file except in compliance with the License. You may obtain a copy of
         * the License at
         *
         *     http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
         * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
         * License for the specific language governing permissions and limitations under
         * the License.
         */
        /**
         * The mechanism to use for lazy-loading stylesheets.
         * Note: <kbd>JS</kbd> indicates a strategy requiring JavaScript (falls back to `<noscript>` unless disabled).
         *
         * - **default:** Move stylesheet links to the end of the document and insert preload meta tags in their place.
         * - **"body":** Move all external stylesheet links to the end of the document.
         * - **"media":** Load stylesheets asynchronously by adding `media="not x"` and removing once loaded. <kbd>JS</kbd>
         * - **"swap":** Convert stylesheet links to preloads that swap to `rel="stylesheet"` once loaded ([details](https://www.filamentgroup.com/lab/load-css-simpler/#the-code)). <kbd>JS</kbd>
         * - **"swap-high":** Use `<link rel="alternate stylesheet preload">` and swap to `rel="stylesheet"` once loaded ([details](http://filamentgroup.github.io/loadCSS/test/new-high.html)). <kbd>JS</kbd>
         * - **"js":** Inject an asynchronous CSS loader similar to [LoadCSS](https://github.com/filamentgroup/loadCSS) and use it to load stylesheets. <kbd>JS</kbd>
         * - **"js-lazy":** Like `"js"`, but the stylesheet is disabled until fully loaded.
         * @typedef {(default|'body'|'media'|'swap'|'swap-high'|'js'|'js-lazy')} PreloadStrategy
         * @public
         */
        /**
         * Controls which keyframes rules are inlined.
         *
         * - **"critical":** _(default)_ inline keyframes rules that are used by the critical CSS.
         * - **"all":** Inline all keyframes rules.
         * - **"none":** Remove all keyframes rules.
         * @typedef {('critical'|'all'|'none')} KeyframeStrategy
         * @private
         * @property {String} keyframes     Which {@link KeyframeStrategy keyframe strategy} to use (default: `critical`)_
         */
        /**
         * Controls log level of the plugin. Specifies the level the logger should use. A logger will
         * not produce output for any log level beneath the specified level. Available levels and order
         * are:
         *
         * - **"info"** _(default)_
         * - **"warn"**
         * - **"error"**
         * - **"trace"**
         * - **"debug"**
         * - **"silent"**
         * @typedef {('info'|'warn'|'error'|'trace'|'debug'|'silent')} LogLevel
         * @public
         */
        /**
         * Custom logger interface:
         * @typedef {object} Logger
         * @public
         * @property {function(String)} trace - Prints a trace message
         * @property {function(String)} debug - Prints a debug message
         * @property {function(String)} info - Prints an information message
         * @property {function(String)} warn - Prints a warning message
         * @property {function(String)} error - Prints an error message
         */
        /**
         * All optional. Pass them to `new Critters({ ... })`.
         * @public
         * @typedef Options
         * @property {String} path     Base path location of the CSS files _(default: `''`)_
         * @property {String} publicPath     Public path of the CSS resources. This prefix is removed from the href _(default: `''`)_
         * @property {Boolean} external     Inline styles from external stylesheets _(default: `true`)_
         * @property {Number} inlineThreshold Inline external stylesheets smaller than a given size _(default: `0`)_
         * @property {Number} minimumExternalSize If the non-critical external stylesheet would be below this size, just inline it _(default: `0`)_
         * @property {Boolean} pruneSource  Remove inlined rules from the external stylesheet _(default: `false`)_
         * @property {Boolean} mergeStylesheets Merged inlined stylesheets into a single <style> tag _(default: `true`)_
         * @property {String[]} additionalStylesheets Glob for matching other stylesheets to be used while looking for critical CSS _(default: ``)_.
         * @property {String} preload       Which {@link PreloadStrategy preload strategy} to use
         * @property {Boolean} noscriptFallback Add `<noscript>` fallback to JS-based strategies
         * @property {Boolean} inlineFonts  Inline critical font-face rules _(default: `false`)_
         * @property {Boolean} preloadFonts Preloads critical fonts _(default: `true`)_
         * @property {Boolean} fonts        Shorthand for setting `inlineFonts`+`preloadFonts`
         *  - Values:
         *  - `true` to inline critical font-face rules and preload the fonts
         *  - `false` to don't inline any font-face rules and don't preload fonts
         * @property {String} keyframes     Controls which keyframes rules are inlined.
         *  - Values:
         *  - `"critical"`: _(default)_ inline keyframes rules used by the critical CSS
         *  - `"all"` inline all keyframes rules
         *  - `"none"` remove all keyframes rules
         * @property {Boolean} compress     Compress resulting critical CSS _(default: `true`)_
         * @property {String} logLevel      Controls {@link LogLevel log level} of the plugin _(default: `"info"`)_
         * @property {object} logger        Provide a custom logger interface {@link Logger logger}
         */
        function _catch(body, recover) {
            try {
                var result = body();
            }
            catch (e) {
                return recover(e);
            }
            if (result && result.then) {
                return result.then(void 0, recover);
            }
            return result;
        }
        var Critters = /** @class */ (function () {
            /** @private */
            function Critters(options) {
                this.options = Object.assign({
                    logLevel: 'info',
                    path: '',
                    publicPath: '',
                    reduceInlineStyles: true,
                    pruneSource: false,
                    additionalStylesheets: []
                }, options || {});
                this.urlFilter = this.options.filter;
                if (this.urlFilter instanceof RegExp) {
                    this.urlFilter = this.urlFilter.test.bind(this.urlFilter);
                }
                this.logger = this.options.logger || createLogger(this.options.logLevel);
            }
            /**
             * Read the contents of a file from the specified filesystem or disk
             */
            Critters.prototype.readFile = function (filename) {
                var fs = this.fs;
                return new Promise(function (resolve, reject) {
                    var callback = function (err, data) {
                        if (err)
                            reject(err);
                        else
                            resolve(data);
                    };
                    if (fs && fs.readFile) {
                        fs.readFile(filename, callback);
                    }
                    else {
                        fs__default['default'].readFile(filename, 'utf8', callback);
                    }
                });
            };
            /**
             * Apply critical CSS processing to the html
             */
            Critters.prototype.process = function (html) {
                try {
                    var _this_1 = this;
                    function _temp4() {
                        // go through all the style tags in the document and reduce them to only critical CSS
                        var styles = _this_1.getAffectedStyleTags(document_1);
                        return Promise.resolve(Promise.all(styles.map(function (style) { return _this_1.processStyle(style, document_1); }))).then(function () {
                            function _temp2() {
                                // serialize the document back to HTML and we're done
                                var output = serializeDocument(document_1);
                                var end = process.hrtime.bigint();
                                _this_1.logger.info('Time ' + parseFloat(end - start_1) / 1000000.0);
                                return output;
                            }
                            var _temp = function () {
                                if (_this_1.options.mergeStylesheets !== false && styles.length !== 0) {
                                    return Promise.resolve(_this_1.mergeStylesheets(document_1)).then(function () { });
                                }
                            }();
                            return _temp && _temp.then ? _temp.then(_temp2) : _temp2(_temp);
                        });
                    }
                    var start_1 = process.hrtime.bigint(); // Parse the generated HTML in a DOM we can mutate
                    var document_1 = createDocument(html);
                    if (_this_1.options.additionalStylesheets.length > 0) {
                        _this_1.embedAdditionalStylesheet(document_1);
                    } // `external:false` skips processing of external sheets
                    var _temp3 = function () {
                        if (_this_1.options.external !== false) {
                            var externalSheets = [].slice.call(document_1.querySelectorAll('link[rel="stylesheet"]'));
                            return Promise.resolve(Promise.all(externalSheets.map(function (link) { return _this_1.embedLinkedStylesheet(link, document_1); }))).then(function () { });
                        }
                    }();
                    return Promise.resolve(_temp3 && _temp3.then ? _temp3.then(_temp4) : _temp4(_temp3));
                }
                catch (e) {
                    return Promise.reject(e);
                }
            };
            /**
             * Get the style tags that need processing
             */
            Critters.prototype.getAffectedStyleTags = function (document) {
                var styles = [].slice.call(document.querySelectorAll('style')); // `inline:false` skips processing of inline stylesheets
                if (this.options.reduceInlineStyles === false) {
                    return styles.filter(function (style) { return style.$$external; });
                }
                return styles;
            };
            Critters.prototype.mergeStylesheets = function (document) {
                try {
                    var _this2 = this;
                    var styles = _this2.getAffectedStyleTags(document);
                    if (styles.length === 0) {
                        _this2.logger.warn('Merging inline stylesheets into a single <style> tag skipped, no inline stylesheets to merge');
                        return Promise.resolve();
                    }
                    var first = styles[0];
                    var sheet = first.textContent;
                    for (var i = 1; i < styles.length; i++) {
                        var node = styles[i];
                        sheet += node.textContent;
                        node.remove();
                    }
                    first.textContent = sheet;
                    return Promise.resolve();
                }
                catch (e) {
                    return Promise.reject(e);
                }
            };
            /**
             * Given href, find the corresponding CSS asset
             */
            Critters.prototype.getCssAsset = function (href) {
                try {
                    var _this3_1 = this;
                    var outputPath = _this3_1.options.path;
                    var publicPath = _this3_1.options.publicPath; // CHECK - the output path
                    // path on disk (with output.publicPath removed)
                    var normalizedPath = href.replace(/^\//, '');
                    var pathPrefix = (publicPath || '').replace(/(^\/|\/$)/g, '') + '/';
                    if (normalizedPath.indexOf(pathPrefix) === 0) {
                        normalizedPath = normalizedPath.substring(pathPrefix.length).replace(/^\//, '');
                    }
                    var filename_1 = path.resolve(outputPath, normalizedPath);
                    var sheet_1;
                    var _temp5 = _catch(function () {
                        return Promise.resolve(_this3_1.readFile(filename_1)).then(function (_this3$readFile) {
                            sheet_1 = _this3$readFile;
                        });
                    }, function () {
                        _this3_1.logger.warn("Unable to locate stylesheet: " + filename_1);
                    });
                    return Promise.resolve(_temp5 && _temp5.then ? _temp5.then(function () {
                        return sheet_1;
                    }) : sheet_1);
                }
                catch (e) {
                    return Promise.reject(e);
                }
            };
            Critters.prototype.checkInlineThreshold = function (link, style, sheet) {
                if (this.options.inlineThreshold && sheet.length < this.options.inlineThreshold) {
                    var href = style.$$name;
                    style.$$reduce = false;
                    this.logger.info("\u001B[32mInlined all of " + href + " (" + sheet.length + " was below the threshold of " + this.options.inlineThreshold + ")\u001B[39m");
                    link.remove();
                    return true;
                }
                return false;
            };
            /**
             * Inline the stylesheets from options.additionalStylesheets (assuming it passes `options.filter`)
             */
            Critters.prototype.embedAdditionalStylesheet = function (document) {
                try {
                    var _this4_1 = this;
                    var styleSheetsIncluded_1 = [];
                    return Promise.resolve(Promise.all(_this4_1.options.additionalStylesheets.map(function (cssFile) {
                        if (styleSheetsIncluded_1.includes(cssFile)) {
                            return;
                        }
                        styleSheetsIncluded_1.push(cssFile);
                        var style = document.createElement('style');
                        style.$$external = true;
                        return _this4_1.getCssAsset(cssFile, style).then(function (sheet) { return [sheet, style]; });
                    }))).then(function (sources) {
                        sources.forEach(function (_b) {
                            var _c = __read(_b, 2), sheet = _c[0], style = _c[1];
                            if (!sheet)
                                return;
                            style.textContent = sheet;
                            document.head.appendChild(style);
                        });
                    });
                }
                catch (e) {
                    return Promise.reject(e);
                }
            };
            /**
             * Inline the target stylesheet referred to by a <link rel="stylesheet"> (assuming it passes `options.filter`)
             */
            Critters.prototype.embedLinkedStylesheet = function (link, document) {
                try {
                    var _this5_1 = this;
                    var href_1 = link.getAttribute('href');
                    var media_1 = link.getAttribute('media');
                    var preloadMode_1 = _this5_1.options.preload; // skip filtered resources, or network resources if no filter is provided
                    if (_this5_1.urlFilter ? _this5_1.urlFilter(href_1) : !(href_1 || '').match(/\.css$/)) {
                        return Promise.resolve();
                    } // the reduced critical CSS gets injected into a new <style> tag
                    var style_1 = document.createElement('style');
                    style_1.$$external = true;
                    return Promise.resolve(_this5_1.getCssAsset(href_1, style_1)).then(function (sheet) {
                        if (!sheet) {
                            return;
                        }
                        style_1.textContent = sheet;
                        style_1.$$name = href_1;
                        style_1.$$links = [link];
                        link.parentNode.insertBefore(style_1, link);
                        if (_this5_1.checkInlineThreshold(link, style_1, sheet)) {
                            return;
                        } // CSS loader is only injected for the first sheet, then this becomes an empty string
                        var cssLoaderPreamble = "function $loadcss(u,m,l){(l=document.createElement('link')).rel='stylesheet';l.href=u;document.head.appendChild(l)}";
                        var lazy = preloadMode_1 === 'js-lazy';
                        if (lazy) {
                            cssLoaderPreamble = cssLoaderPreamble.replace('l.href', "l.media='print';l.onload=function(){l.media=m};l.href");
                        } // Allow disabling any mutation of the stylesheet link:
                        if (preloadMode_1 === false)
                            return;
                        var noscriptFallback = false;
                        if (preloadMode_1 === 'body') {
                            document.body.appendChild(link);
                        }
                        else {
                            link.setAttribute('rel', 'preload');
                            link.setAttribute('as', 'style');
                            if (preloadMode_1 === 'js' || preloadMode_1 === 'js-lazy') {
                                var script = document.createElement('script');
                                var js = cssLoaderPreamble + "$loadcss(" + JSON.stringify(href_1) + (lazy ? ',' + JSON.stringify(media_1 || 'all') : '') + ")"; // script.appendChild(document.createTextNode(js));
                                script.textContent = js;
                                link.parentNode.insertBefore(script, link.nextSibling);
                                style_1.$$links.push(script);
                                cssLoaderPreamble = '';
                                noscriptFallback = true;
                            }
                            else if (preloadMode_1 === 'media') {
                                // @see https://github.com/filamentgroup/loadCSS/blob/af1106cfe0bf70147e22185afa7ead96c01dec48/src/loadCSS.js#L26
                                link.setAttribute('rel', 'stylesheet');
                                link.removeAttribute('as');
                                link.setAttribute('media', 'print');
                                link.setAttribute('onload', "this.media='" + (media_1 || 'all') + "'");
                                noscriptFallback = true;
                            }
                            else if (preloadMode_1 === 'swap-high') {
                                // @see http://filamentgroup.github.io/loadCSS/test/new-high.html
                                link.setAttribute('rel', 'alternate stylesheet preload');
                                link.setAttribute('title', 'styles');
                                link.setAttribute('onload', "this.title='';this.rel='stylesheet'");
                                noscriptFallback = true;
                            }
                            else if (preloadMode_1 === 'swap') {
                                link.setAttribute('onload', "this.rel='stylesheet'");
                                noscriptFallback = true;
                            }
                            else {
                                var bodyLink = document.createElement('link');
                                bodyLink.setAttribute('rel', 'stylesheet');
                                if (media_1)
                                    bodyLink.setAttribute('media', media_1);
                                bodyLink.setAttribute('href', href_1);
                                document.body.appendChild(bodyLink);
                                style_1.$$links.push(bodyLink);
                            }
                        }
                        if (_this5_1.options.noscriptFallback !== false && noscriptFallback) {
                            var noscript = document.createElement('noscript');
                            var noscriptLink = document.createElement('link');
                            noscriptLink.setAttribute('rel', 'stylesheet');
                            noscriptLink.setAttribute('href', href_1);
                            if (media_1)
                                noscriptLink.setAttribute('media', media_1);
                            noscript.appendChild(noscriptLink);
                            link.parentNode.insertBefore(noscript, link.nextSibling);
                            style_1.$$links.push(noscript);
                        }
                    });
                }
                catch (e) {
                    return Promise.reject(e);
                }
            };
            /**
             * Prune the source CSS files
             */
            Critters.prototype.pruneSource = function (style, before, sheetInverse) {
                var e_1, _b;
                // if external stylesheet would be below minimum size, just inline everything
                var minSize = this.options.minimumExternalSize;
                var name = style.$$name;
                if (minSize && sheetInverse.length < minSize) {
                    this.logger.info("\u001B[32mInlined all of " + name + " (non-critical external stylesheet would have been " + sheetInverse.length + "b, which was below the threshold of " + minSize + ")\u001B[39m");
                    style.textContent = before; // remove any associated external resources/loaders:
                    if (style.$$links) {
                        try {
                            for (var _c = __values(style.$$links), _d = _c.next(); !_d.done; _d = _c.next()) {
                                var link = _d.value;
                                var parent_1 = link.parentNode;
                                if (parent_1)
                                    parent_1.removeChild(link);
                            }
                        }
                        catch (e_1_1) { e_1 = { error: e_1_1 }; }
                        finally {
                            try {
                                if (_d && !_d.done && (_b = _c.return)) _b.call(_c);
                            }
                            finally { if (e_1) throw e_1.error; }
                        }
                    }
                    return true;
                }
                return false;
            };
            /**
             * Parse the stylesheet within a <style> element, then reduce it to contain only rules used by the document.
             */
            Critters.prototype.processStyle = function (style, document) {
                try {
                    var _this6 = this;
                    if (style.$$reduce === false)
                        return Promise.resolve();
                    var name = style.$$name ? style.$$name.replace(/^\//, '') : 'inline CSS';
                    var options = _this6.options; // const document = style.ownerDocument;
                    var head_1 = document.querySelector('head');
                    var keyframesMode_1 = options.keyframes || 'critical'; // we also accept a boolean value for options.keyframes
                    if (keyframesMode_1 === true)
                        keyframesMode_1 = 'all';
                    if (keyframesMode_1 === false)
                        keyframesMode_1 = 'none';
                    var sheet = style.textContent; // store a reference to the previous serialized stylesheet for reporting stats
                    var before = sheet; // Skip empty stylesheets
                    if (!sheet)
                        return Promise.resolve();
                    var ast_1 = parseStylesheet(sheet);
                    var astInverse = options.pruneSource ? parseStylesheet(sheet) : null; // a string to search for font names (very loose)
                    var criticalFonts_1 = '';
                    var failedSelectors_1 = [];
                    var criticalKeyframeNames_1 = []; // Walk all CSS rules, marking unused rules with `.$$remove=true` for removal in the second pass.
                    // This first pass is also used to collect font and keyframe usage used in the second pass.
                    walkStyleRules(ast_1, markOnly(function (rule) {
                        if (rule.type === 'rule') {
                            // Filter the selector list down to only those match
                            rule.filterSelectors(function (sel) {
                                // Strip pseudo-elements and pseudo-classes, since we only care that their associated elements exist.
                                // This means any selector for a pseudo-element or having a pseudo-class will be inlined if the rest of the selector matches.
                                if (sel === ':root' || sel.match(/^::?(before|after)$/)) {
                                    return true;
                                }
                                sel = sel.replace(/(?<!\\)::?[a-z-]+(?![a-z-(])/gi, '').replace(/::?not\(\s*\)/g, '').trim();
                                if (!sel)
                                    return false;
                                try {
                                    return document.querySelector(sel) != null;
                                }
                                catch (e) {
                                    failedSelectors_1.push(sel + ' -> ' + e.message);
                                    return false;
                                }
                            }); // If there are no matched selectors, remove the rule:
                            if (rule.selectors.length === 0) {
                                return false;
                            }
                            if (rule.declarations) {
                                for (var i = 0; i < rule.declarations.length; i++) {
                                    var decl = rule.declarations[i]; // detect used fonts
                                    if (decl.property && decl.property.match(/\bfont(-family)?\b/i)) {
                                        criticalFonts_1 += ' ' + decl.value;
                                    } // detect used keyframes
                                    if (decl.property === 'animation' || decl.property === 'animation-name') {
                                        // @todo: parse animation declarations and extract only the name. for now we'll do a lazy match.
                                        var names = decl.value.split(/\s+/);
                                        for (var j = 0; j < names.length; j++) {
                                            var name_1 = names[j].trim();
                                            if (name_1)
                                                criticalKeyframeNames_1.push(name_1);
                                        }
                                    }
                                }
                            }
                        } // keep font rules, they're handled in the second pass:
                        if (rule.type === 'font-face')
                            return; // If there are no remaining rules, remove the whole rule:
                        var rules = rule.rules && rule.rules.filter(function (rule) { return !rule.$$remove; });
                        return !rules || rules.length !== 0;
                    }));
                    if (failedSelectors_1.length !== 0) {
                        _this6.logger.warn(failedSelectors_1.length + " rules skipped due to selector errors:\n  " + failedSelectors_1.join('\n  '));
                    }
                    var shouldPreloadFonts_1 = options.fonts === true || options.preloadFonts === true;
                    var shouldInlineFonts_1 = options.fonts !== false && options.inlineFonts === true;
                    var preloadedFonts_1 = []; // Second pass, using data picked up from the first
                    walkStyleRulesWithReverseMirror(ast_1, astInverse, function (rule) {
                        // remove any rules marked in the first pass
                        if (rule.$$remove === true)
                            return false;
                        applyMarkedSelectors(rule); // prune @keyframes rules
                        if (rule.type === 'keyframes') {
                            if (keyframesMode_1 === 'none')
                                return false;
                            if (keyframesMode_1 === 'all')
                                return true;
                            return criticalKeyframeNames_1.indexOf(rule.name) !== -1;
                        } // prune @font-face rules
                        if (rule.type === 'font-face') {
                            var family = void 0, src = void 0;
                            for (var i = 0; i < rule.declarations.length; i++) {
                                var decl = rule.declarations[i];
                                if (decl.property === 'src') {
                                    // @todo parse this properly and generate multiple preloads with type="font/woff2" etc
                                    src = (decl.value.match(/url\s*\(\s*(['"]?)(.+?)\1\s*\)/) || [])[2];
                                }
                                else if (decl.property === 'font-family') {
                                    family = decl.value;
                                }
                            }
                            if (src && shouldPreloadFonts_1 && preloadedFonts_1.indexOf(src) === -1) {
                                preloadedFonts_1.push(src);
                                var preload = document.createElement('link');
                                preload.setAttribute('rel', 'preload');
                                preload.setAttribute('as', 'font');
                                preload.setAttribute('crossorigin', 'anonymous');
                                preload.setAttribute('href', src.trim());
                                head_1.appendChild(preload);
                            } // if we're missing info, if the font is unused, or if critical font inlining is disabled, remove the rule:
                            if (!family || !src || criticalFonts_1.indexOf(family) === -1 || !shouldInlineFonts_1) {
                                return false;
                            }
                        }
                    });
                    sheet = serializeStylesheet(ast_1, {
                        compress: _this6.options.compress !== false
                    }).trim(); // If all rules were removed, get rid of the style element entirely
                    if (sheet.trim().length === 0) {
                        if (style.parentNode) {
                            style.remove();
                        }
                        return Promise.resolve();
                    }
                    var afterText = '';
                    var styleInlinedCompletely = false;
                    if (options.pruneSource) {
                        var sheetInverse = serializeStylesheet(astInverse, {
                            compress: _this6.options.compress !== false
                        });
                        styleInlinedCompletely = _this6.pruneSource(style, before, sheetInverse);
                        if (styleInlinedCompletely) {
                            var percent_1 = sheetInverse.length / before.length * 100;
                            afterText = ", reducing non-inlined size " + (percent_1 | 0) + "% to " + prettyBytes$1(sheetInverse.length);
                        }
                    } // replace the inline stylesheet with its critical'd counterpart
                    if (!styleInlinedCompletely) {
                        style.textContent = sheet;
                    } // output stats
                    var percent = sheet.length / before.length * 100 | 0;
                    _this6.logger.info('\u001b[32mInlined ' + prettyBytes$1(sheet.length) + ' (' + percent + '% of original ' + prettyBytes$1(before.length) + ') of ' + name + afterText + '.\u001b[39m');
                    return Promise.resolve();
                }
                catch (e) {
                    return Promise.reject(e);
                }
            };
            return Critters;
        }());
        module.exports = Critters;
        
    });
    var Critters = unwrapExports(critters);

    var CrittersExtended = /** @class */ (function (_super) {
        __extends(CrittersExtended, _super);
        function CrittersExtended(optionsExtended, resourceCache) {
            var _this = _super.call(this, {
                logger: {
                    warn: function (s) { return _this.warnings.push(s); },
                    error: function (s) { return _this.errors.push(s); },
                    info: function () { },
                },
                logLevel: 'warn',
                path: optionsExtended.outputPath,
                publicPath: optionsExtended.deployUrl,
                compress: !!optionsExtended.minify,
                pruneSource: false,
                reduceInlineStyles: false,
                mergeStylesheets: false,
                preload: 'media',
                noscriptFallback: true,
                inlineFonts: true,
            }) || this;
            _this.optionsExtended = optionsExtended;
            _this.resourceCache = resourceCache;
            _this.warnings = [];
            _this.errors = [];
            return _this;
        }
        CrittersExtended.prototype.readFile = function (path) {
            return __awaiter(this, void 0, void 0, function () {
                var resourceContent;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            resourceContent = this.resourceCache.get(path);
                            if (!(resourceContent === undefined)) return [3 /*break*/, 2];
                            return [4 /*yield*/, fs__namespace.promises.readFile(path, 'utf-8')];
                        case 1:
                            resourceContent = _a.sent();
                            this.resourceCache.set(path, resourceContent);
                            _a.label = 2;
                        case 2: return [2 /*return*/, resourceContent];
                    }
                });
            });
        };
        return CrittersExtended;
    }(Critters));
    var InlineCriticalCssProcessor = /** @class */ (function () {
        function InlineCriticalCssProcessor(options) {
            this.options = options;
            this.resourceCache = new Map();
        }
        InlineCriticalCssProcessor.prototype.process = function (html, options) {
            return __awaiter(this, void 0, void 0, function () {
                var critters, content;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            critters = new CrittersExtended(Object.assign(Object.assign({}, this.options), options), this.resourceCache);
                            return [4 /*yield*/, critters.process(html)];
                        case 1:
                            content = _a.sent();
                            return [2 /*return*/, {
                                    content: content,
                                    errors: critters.errors.length ? critters.errors : undefined,
                                    warnings: critters.warnings.length ? critters.warnings : undefined,
                                }];
                    }
                });
            });
        };
        return InlineCriticalCssProcessor;
    }());

    /**
     * A common rendering engine utility. This abstracts the logic
     * for handling the platformServer compiler, the module cache, and
     * the document loader
     */
    var CommonEngine = /** @class */ (function () {
        function CommonEngine(moduleOrFactory, providers) {
            if (providers === void 0) { providers = []; }
            this.moduleOrFactory = moduleOrFactory;
            this.providers = providers;
            this.factoryCacheMap = new Map();
            this.templateCache = new Map();
            this.pageExists = new Map();
            this.inlineCriticalCssProcessor = new InlineCriticalCssProcessor({
                minify: true,
            });
        }
        /**
         * Render an HTML document for a specific URL with specified
         * render options
         */
        CommonEngine.prototype.render = function (opts) {
            var _a;
            return __awaiter(this, void 0, void 0, function () {
                var _b, inlineCriticalCss, url$1, pathname, pagePath, pageExists, extraProviders, doc, moduleOrFactory, factory, html, _c, content, errors, warnings;
                return __generator(this, function (_d) {
                    switch (_d.label) {
                        case 0:
                            _b = opts.inlineCriticalCss, inlineCriticalCss = _b === void 0 ? true : _b;
                            if (!(opts.publicPath && opts.documentFilePath && opts.url !== undefined)) return [3 /*break*/, 3];
                            url$1 = new url.URL(opts.url);
                            pathname = url$1.pathname.substring(1);
                            pagePath = path.resolve(opts.publicPath, pathname, 'index.html');
                            if (!(pagePath !== path.resolve(opts.documentFilePath))) return [3 /*break*/, 3];
                            pageExists = this.pageExists.get(pagePath);
                            if (!(pageExists === undefined)) return [3 /*break*/, 2];
                            return [4 /*yield*/, exists(pagePath)];
                        case 1:
                            pageExists = _d.sent();
                            this.pageExists.set(pagePath, pageExists);
                            _d.label = 2;
                        case 2:
                            if (pageExists) {
                                // Serve pre-rendered page.
                                return [2 /*return*/, fs__namespace.promises.readFile(pagePath, 'utf-8')];
                            }
                            _d.label = 3;
                        case 3:
                            extraProviders = __spreadArray(__spreadArray([], __read((opts.providers || []))), __read((this.providers || [])));
                            doc = opts.document;
                            if (!(!doc && opts.documentFilePath)) return [3 /*break*/, 5];
                            return [4 /*yield*/, this.getDocument(opts.documentFilePath)];
                        case 4:
                            doc = _d.sent();
                            _d.label = 5;
                        case 5:
                            if (doc) {
                                extraProviders.push({
                                    provide: platformServer.INITIAL_CONFIG,
                                    useValue: {
                                        document: inlineCriticalCss
                                            ? // Workaround for https://github.com/GoogleChromeLabs/critters/issues/64
                                                doc.replace(/ media=\"print\" onload=\"this\.media='all'"><noscript><link .+?><\/noscript>/g, '>')
                                            : doc,
                                        url: opts.url,
                                    },
                                });
                            }
                            moduleOrFactory = this.moduleOrFactory || opts.bootstrap;
                            return [4 /*yield*/, this.getFactory(moduleOrFactory)];
                        case 6:
                            factory = _d.sent();
                            return [4 /*yield*/, platformServer.renderModuleFactory(factory, { extraProviders: extraProviders })];
                        case 7:
                            html = _d.sent();
                            if (!inlineCriticalCss) {
                                return [2 /*return*/, html];
                            }
                            return [4 /*yield*/, this.inlineCriticalCssProcessor.process(html, {
                                    outputPath: (_a = opts.publicPath) !== null && _a !== void 0 ? _a : (opts.documentFilePath ? path.dirname(opts.documentFilePath) : undefined),
                                })];
                        case 8:
                            _c = _d.sent(), content = _c.content, errors = _c.errors, warnings = _c.warnings;
                            // tslint:disable-next-line: no-console
                            warnings === null || warnings === void 0 ? void 0 : warnings.forEach(function (m) { return console.warn(m); });
                            // tslint:disable-next-line: no-console
                            errors === null || errors === void 0 ? void 0 : errors.forEach(function (m) { return console.error(m); });
                            return [2 /*return*/, content];
                    }
                });
            });
        };
        /** Return the factory for a given engine instance */
        CommonEngine.prototype.getFactory = function (moduleOrFactory) {
            return __awaiter(this, void 0, void 0, function () {
                var moduleFactory, factory;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            if (!(moduleOrFactory instanceof core.NgModuleFactory)) return [3 /*break*/, 1];
                            return [2 /*return*/, moduleOrFactory];
                        case 1:
                            moduleFactory = this.factoryCacheMap.get(moduleOrFactory);
                            // If module factory is cached
                            if (moduleFactory) {
                                return [2 /*return*/, moduleFactory];
                            }
                            return [4 /*yield*/, this.getCompiler().compileModuleAsync(moduleOrFactory)];
                        case 2:
                            factory = _b.sent();
                            this.factoryCacheMap.set(moduleOrFactory, factory);
                            return [2 /*return*/, factory];
                    }
                });
            });
        };
        /** Retrieve the document from the cache or the filesystem */
        CommonEngine.prototype.getDocument = function (filePath) {
            return __awaiter(this, void 0, void 0, function () {
                var doc;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            doc = this.templateCache.get(filePath);
                            if (!!doc) return [3 /*break*/, 2];
                            return [4 /*yield*/, fs__namespace.promises.readFile(filePath, 'utf-8')];
                        case 1:
                            doc = _b.sent();
                            this.templateCache.set(filePath, doc);
                            _b.label = 2;
                        case 2: return [2 /*return*/, doc];
                    }
                });
            });
        };
        /** Return an instance of the platformServer compiler */
        CommonEngine.prototype.getCompiler = function () {
            var compilerFactory = platformServer.platformDynamicServer().injector.get(core.CompilerFactory);
            return compilerFactory.createCompiler([
                { providers: [{ provide: compiler$1.ResourceLoader, useClass: FileLoader, deps: [] }] },
            ]);
        };
        return CommonEngine;
    }());
    function exists(path) {
        return __awaiter(this, void 0, void 0, function () {
            var _a_1;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _b.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, fs__namespace.promises.access(path, fs__namespace.constants.F_OK)];
                    case 1:
                        _b.sent();
                        return [2 /*return*/, true];
                    case 2:
                        _a_1 = _b.sent();
                        return [2 /*return*/, false];
                    case 3: return [2 /*return*/];
                }
            });
        });
    }

    /**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */

    /**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */

    /**
     * Generated bundle index. Do not edit.
     */

    exports.CommonEngine = CommonEngine;
    exports.InlineCriticalCssProcessor = InlineCriticalCssProcessor;

    Object.defineProperty(exports, '__esModule', { value: true });

})));
//# sourceMappingURL=common-engine.umd.js.map
